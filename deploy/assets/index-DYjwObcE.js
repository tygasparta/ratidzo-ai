(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var T4={exports:{}},Bm={},I4={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=Symbol.for("react.element"),rN=Symbol.for("react.portal"),iN=Symbol.for("react.fragment"),sN=Symbol.for("react.strict_mode"),oN=Symbol.for("react.profiler"),aN=Symbol.for("react.provider"),lN=Symbol.for("react.context"),uN=Symbol.for("react.forward_ref"),cN=Symbol.for("react.suspense"),hN=Symbol.for("react.memo"),dN=Symbol.for("react.lazy"),sw=Symbol.iterator;function fN(t){return t===null||typeof t!="object"?null:(t=sw&&t[sw]||t["@@iterator"],typeof t=="function"?t:null)}var P4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N4=Object.assign,k4={};function Bc(t,e,n){this.props=t,this.context=e,this.refs=k4,this.updater=n||P4}Bc.prototype.isReactComponent={};Bc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function C4(){}C4.prototype=Bc.prototype;function nv(t,e,n){this.props=t,this.context=e,this.refs=k4,this.updater=n||P4}var rv=nv.prototype=new C4;rv.constructor=nv;N4(rv,Bc.prototype);rv.isPureReactComponent=!0;var ow=Array.isArray,L4=Object.prototype.hasOwnProperty,iv={current:null},R4={key:!0,ref:!0,__self:!0,__source:!0};function D4(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)L4.call(e,r)&&!R4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zd,type:t,key:s,ref:o,props:i,_owner:iv.current}}function pN(t,e){return{$$typeof:zd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sv(t){return typeof t=="object"&&t!==null&&t.$$typeof===zd}function mN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var aw=/\/+/g;function Yg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mN(""+t.key):e.toString(36)}function dp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zd:case rN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Yg(o,0):r,ow(i)?(n="",t!=null&&(n=t.replace(aw,"$&/")+"/"),dp(i,e,n,"",function(u){return u})):i!=null&&(sv(i)&&(i=pN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(aw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ow(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Yg(s,a);o+=dp(s,e,n,l,i)}else if(l=fN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Yg(s,a++),o+=dp(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Of(t,e,n){if(t==null)return t;var r=[],i=0;return dp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function gN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qr={current:null},fp={transition:null},yN={ReactCurrentDispatcher:qr,ReactCurrentBatchConfig:fp,ReactCurrentOwner:iv};function O4(){throw Error("act(...) is not supported in production builds of React.")}Tt.Children={map:Of,forEach:function(t,e,n){Of(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Of(t,function(){e++}),e},toArray:function(t){return Of(t,function(e){return e})||[]},only:function(t){if(!sv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Tt.Component=Bc;Tt.Fragment=iN;Tt.Profiler=oN;Tt.PureComponent=nv;Tt.StrictMode=sN;Tt.Suspense=cN;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yN;Tt.act=O4;Tt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=N4({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=iv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)L4.call(e,l)&&!R4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:zd,type:t.type,key:i,ref:s,props:r,_owner:o}};Tt.createContext=function(t){return t={$$typeof:lN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aN,_context:t},t.Consumer=t};Tt.createElement=D4;Tt.createFactory=function(t){var e=D4.bind(null,t);return e.type=t,e};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(t){return{$$typeof:uN,render:t}};Tt.isValidElement=sv;Tt.lazy=function(t){return{$$typeof:dN,_payload:{_status:-1,_result:t},_init:gN}};Tt.memo=function(t,e){return{$$typeof:hN,type:t,compare:e===void 0?null:e}};Tt.startTransition=function(t){var e=fp.transition;fp.transition={};try{t()}finally{fp.transition=e}};Tt.unstable_act=O4;Tt.useCallback=function(t,e){return qr.current.useCallback(t,e)};Tt.useContext=function(t){return qr.current.useContext(t)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(t){return qr.current.useDeferredValue(t)};Tt.useEffect=function(t,e){return qr.current.useEffect(t,e)};Tt.useId=function(){return qr.current.useId()};Tt.useImperativeHandle=function(t,e,n){return qr.current.useImperativeHandle(t,e,n)};Tt.useInsertionEffect=function(t,e){return qr.current.useInsertionEffect(t,e)};Tt.useLayoutEffect=function(t,e){return qr.current.useLayoutEffect(t,e)};Tt.useMemo=function(t,e){return qr.current.useMemo(t,e)};Tt.useReducer=function(t,e,n){return qr.current.useReducer(t,e,n)};Tt.useRef=function(t){return qr.current.useRef(t)};Tt.useState=function(t){return qr.current.useState(t)};Tt.useSyncExternalStore=function(t,e,n){return qr.current.useSyncExternalStore(t,e,n)};Tt.useTransition=function(){return qr.current.useTransition()};Tt.version="18.3.1";I4.exports=Tt;var Ce=I4.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN=Ce,wN=Symbol.for("react.element"),_N=Symbol.for("react.fragment"),bN=Object.prototype.hasOwnProperty,xN=vN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SN={key:!0,ref:!0,__self:!0,__source:!0};function M4(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)bN.call(e,r)&&!SN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wN,type:t,key:s,ref:o,props:i,_owner:xN.current}}Bm.Fragment=_N;Bm.jsx=M4;Bm.jsxs=M4;T4.exports=Bm;var U=T4.exports,i1={},F4={exports:{}},Ti={},j4={exports:{}},V4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,ue){var ce=X.length;X.push(ue);e:for(;0<ce;){var Oe=ce-1>>>1,M=X[Oe];if(0<i(M,ue))X[Oe]=ue,X[ce]=M,ce=Oe;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],ce=X.pop();if(ce!==ue){X[0]=ce;e:for(var Oe=0,M=X.length,W=M>>>1;Oe<W;){var Y=2*(Oe+1)-1,ee=X[Y],ie=Y+1,he=X[ie];if(0>i(ee,ce))ie<M&&0>i(he,ee)?(X[Oe]=he,X[ie]=ce,Oe=ie):(X[Oe]=ee,X[Y]=ce,Oe=Y);else if(ie<M&&0>i(he,ce))X[Oe]=he,X[ie]=ce,Oe=ie;else break e}}return ue}function i(X,ue){var ce=X.sortIndex-ue.sortIndex;return ce!==0?ce:X.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,g=3,m=!1,A=!1,x=!1,P=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(X){for(var ue=n(u);ue!==null;){if(ue.callback===null)r(u);else if(ue.startTime<=X)r(u),ue.sortIndex=ue.expirationTime,e(l,ue);else break;ue=n(u)}}function H(X){if(x=!1,N(X),!A)if(n(l)!==null)A=!0,ge($);else{var ue=n(u);ue!==null&&me(H,ue.startTime-X)}}function $(X,ue){A=!1,x&&(x=!1,_(E),E=-1),m=!0;var ce=g;try{for(N(ue),p=n(l);p!==null&&(!(p.expirationTime>ue)||X&&!I());){var Oe=p.callback;if(typeof Oe=="function"){p.callback=null,g=p.priorityLevel;var M=Oe(p.expirationTime<=ue);ue=t.unstable_now(),typeof M=="function"?p.callback=M:p===n(l)&&r(l),N(ue)}else r(l);p=n(l)}if(p!==null)var W=!0;else{var Y=n(u);Y!==null&&me(H,Y.startTime-ue),W=!1}return W}finally{p=null,g=ce,m=!1}}var J=!1,O=null,E=-1,C=5,V=-1;function I(){return!(t.unstable_now()-V<C)}function k(){if(O!==null){var X=t.unstable_now();V=X;var ue=!0;try{ue=O(!0,X)}finally{ue?L():(J=!1,O=null)}}else J=!1}var L;if(typeof b=="function")L=function(){b(k)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,we=Z.port2;Z.port1.onmessage=k,L=function(){we.postMessage(null)}}else L=function(){P(k,0)};function ge(X){O=X,J||(J=!0,L())}function me(X,ue){E=P(function(){X(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){A||m||(A=!0,ge($))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(X){switch(g){case 1:case 2:case 3:var ue=3;break;default:ue=g}var ce=g;g=ue;try{return X()}finally{g=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ce=g;g=X;try{return ue()}finally{g=ce}},t.unstable_scheduleCallback=function(X,ue,ce){var Oe=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Oe+ce:Oe):ce=Oe,X){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ce+M,X={id:d++,callback:ue,priorityLevel:X,startTime:ce,expirationTime:M,sortIndex:-1},ce>Oe?(X.sortIndex=ce,e(u,X),n(l)===null&&X===n(u)&&(x?(_(E),E=-1):x=!0,me(H,ce-Oe))):(X.sortIndex=M,e(l,X),A||m||(A=!0,ge($))),X},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(X){var ue=g;return function(){var ce=g;g=ue;try{return X.apply(this,arguments)}finally{g=ce}}}})(V4);j4.exports=V4;var AN=j4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN=Ce,Si=AN;function Me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B4=new Set,ld={};function ru(t,e){bc(t,e),bc(t+"Capture",e)}function bc(t,e){for(ld[t]=e,t=0;t<e.length;t++)B4.add(e[t])}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s1=Object.prototype.hasOwnProperty,TN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lw={},uw={};function IN(t){return s1.call(uw,t)?!0:s1.call(lw,t)?!1:TN.test(t)?uw[t]=!0:(lw[t]=!0,!1)}function PN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NN(t,e,n,r){if(e===null||typeof e>"u"||PN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hr(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fr[t]=new Hr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fr[e]=new Hr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fr[t]=new Hr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fr[t]=new Hr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fr[t]=new Hr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fr[t]=new Hr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fr[t]=new Hr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fr[t]=new Hr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fr[t]=new Hr(t,5,!1,t.toLowerCase(),null,!1,!1)});var ov=/[\-:]([a-z])/g;function av(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ov,av);fr[e]=new Hr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ov,av);fr[e]=new Hr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ov,av);fr[e]=new Hr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fr[t]=new Hr(t,1,!1,t.toLowerCase(),null,!1,!1)});fr.xlinkHref=new Hr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fr[t]=new Hr(t,1,!1,t.toLowerCase(),null,!0,!0)});function lv(t,e,n,r){var i=fr.hasOwnProperty(e)?fr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NN(e,n,i,r)&&(n=null),r||i===null?IN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jo=EN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mf=Symbol.for("react.element"),zu=Symbol.for("react.portal"),qu=Symbol.for("react.fragment"),uv=Symbol.for("react.strict_mode"),o1=Symbol.for("react.profiler"),U4=Symbol.for("react.provider"),z4=Symbol.for("react.context"),cv=Symbol.for("react.forward_ref"),a1=Symbol.for("react.suspense"),l1=Symbol.for("react.suspense_list"),hv=Symbol.for("react.memo"),_a=Symbol.for("react.lazy"),q4=Symbol.for("react.offscreen"),cw=Symbol.iterator;function vh(t){return t===null||typeof t!="object"?null:(t=cw&&t[cw]||t["@@iterator"],typeof t=="function"?t:null)}var yn=Object.assign,Qg;function Ch(t){if(Qg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qg=e&&e[1]||""}return`
`+Qg+t}var Xg=!1;function Jg(t,e){if(!t||Xg)return"";Xg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ch(t):""}function kN(t){switch(t.tag){case 5:return Ch(t.type);case 16:return Ch("Lazy");case 13:return Ch("Suspense");case 19:return Ch("SuspenseList");case 0:case 2:case 15:return t=Jg(t.type,!1),t;case 11:return t=Jg(t.type.render,!1),t;case 1:return t=Jg(t.type,!0),t;default:return""}}function u1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qu:return"Fragment";case zu:return"Portal";case o1:return"Profiler";case uv:return"StrictMode";case a1:return"Suspense";case l1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case z4:return(t.displayName||"Context")+".Consumer";case U4:return(t._context.displayName||"Context")+".Provider";case cv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hv:return e=t.displayName||null,e!==null?e:u1(t.type)||"Memo";case _a:e=t._payload,t=t._init;try{return u1(t(e))}catch{}}return null}function CN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return u1(e);case 8:return e===uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $a(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function H4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LN(t){var e=H4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ff(t){t._valueTracker||(t._valueTracker=LN(t))}function $4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=H4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function c1(t,e){var n=e.checked;return yn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$a(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function W4(t,e){e=e.checked,e!=null&&lv(t,"checked",e,!1)}function h1(t,e){W4(t,e);var n=$a(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?d1(t,e.type,n):e.hasOwnProperty("defaultValue")&&d1(t,e.type,$a(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function d1(t,e,n){(e!=="number"||qp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Lh=Array.isArray;function ac(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$a(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function f1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return yn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Me(92));if(Lh(n)){if(1<n.length)throw Error(Me(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$a(n)}}function G4(t,e){var n=$a(e.value),r=$a(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function K4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function p1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?K4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jf,Y4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jf=jf||document.createElement("div"),jf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ud(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RN=["Webkit","ms","Moz","O"];Object.keys(zh).forEach(function(t){RN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zh[e]=zh[t]})});function Q4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zh.hasOwnProperty(t)&&zh[t]?(""+e).trim():e+"px"}function X4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Q4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var DN=yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function m1(t,e){if(e){if(DN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function g1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y1=null;function dv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var v1=null,lc=null,uc=null;function mw(t){if(t=$d(t)){if(typeof v1!="function")throw Error(Me(280));var e=t.stateNode;e&&(e=$m(e),v1(t.stateNode,t.type,e))}}function J4(t){lc?uc?uc.push(t):uc=[t]:lc=t}function Z4(){if(lc){var t=lc,e=uc;if(uc=lc=null,mw(t),e)for(t=0;t<e.length;t++)mw(e[t])}}function eS(t,e){return t(e)}function tS(){}var Zg=!1;function nS(t,e,n){if(Zg)return t(e,n);Zg=!0;try{return eS(t,e,n)}finally{Zg=!1,(lc!==null||uc!==null)&&(tS(),Z4())}}function cd(t,e){var n=t.stateNode;if(n===null)return null;var r=$m(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Me(231,e,typeof n));return n}var w1=!1;if(Po)try{var wh={};Object.defineProperty(wh,"passive",{get:function(){w1=!0}}),window.addEventListener("test",wh,wh),window.removeEventListener("test",wh,wh)}catch{w1=!1}function ON(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var qh=!1,Hp=null,$p=!1,_1=null,MN={onError:function(t){qh=!0,Hp=t}};function FN(t,e,n,r,i,s,o,a,l){qh=!1,Hp=null,ON.apply(MN,arguments)}function jN(t,e,n,r,i,s,o,a,l){if(FN.apply(this,arguments),qh){if(qh){var u=Hp;qh=!1,Hp=null}else throw Error(Me(198));$p||($p=!0,_1=u)}}function iu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gw(t){if(iu(t)!==t)throw Error(Me(188))}function VN(t){var e=t.alternate;if(!e){if(e=iu(t),e===null)throw Error(Me(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gw(i),t;if(s===r)return gw(i),e;s=s.sibling}throw Error(Me(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Me(189))}}if(n.alternate!==r)throw Error(Me(190))}if(n.tag!==3)throw Error(Me(188));return n.stateNode.current===n?t:e}function iS(t){return t=VN(t),t!==null?sS(t):null}function sS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sS(t);if(e!==null)return e;t=t.sibling}return null}var oS=Si.unstable_scheduleCallback,yw=Si.unstable_cancelCallback,BN=Si.unstable_shouldYield,UN=Si.unstable_requestPaint,Rn=Si.unstable_now,zN=Si.unstable_getCurrentPriorityLevel,fv=Si.unstable_ImmediatePriority,aS=Si.unstable_UserBlockingPriority,Wp=Si.unstable_NormalPriority,qN=Si.unstable_LowPriority,lS=Si.unstable_IdlePriority,Um=null,Bs=null;function HN(t){if(Bs&&typeof Bs.onCommitFiberRoot=="function")try{Bs.onCommitFiberRoot(Um,t,void 0,(t.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:GN,$N=Math.log,WN=Math.LN2;function GN(t){return t>>>=0,t===0?32:31-($N(t)/WN|0)|0}var Vf=64,Bf=4194304;function Rh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Rh(a):(s&=o,s!==0&&(r=Rh(s)))}else o=n&~i,o!==0?r=Rh(o):s!==0&&(r=Rh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fs(e),i=1<<n,r|=t[n],e&=~i;return r}function KN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fs(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=KN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function b1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uS(){var t=Vf;return Vf<<=1,!(Vf&4194240)&&(Vf=64),t}function e0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fs(e),t[e]=n}function QN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fs(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function pv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fs(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Gt=0;function cS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hS,mv,dS,fS,pS,x1=!1,Uf=[],Ra=null,Da=null,Oa=null,hd=new Map,dd=new Map,xa=[],XN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vw(t,e){switch(t){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":hd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dd.delete(e.pointerId)}}function _h(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$d(e),e!==null&&mv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JN(t,e,n,r,i){switch(e){case"focusin":return Ra=_h(Ra,t,e,n,r,i),!0;case"dragenter":return Da=_h(Da,t,e,n,r,i),!0;case"mouseover":return Oa=_h(Oa,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return hd.set(s,_h(hd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,dd.set(s,_h(dd.get(s)||null,t,e,n,r,i)),!0}return!1}function mS(t){var e=Ll(t.target);if(e!==null){var n=iu(e);if(n!==null){if(e=n.tag,e===13){if(e=rS(n),e!==null){t.blockedOn=e,pS(t.priority,function(){dS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=S1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);y1=r,n.target.dispatchEvent(r),y1=null}else return e=$d(n),e!==null&&mv(e),t.blockedOn=n,!1;e.shift()}return!0}function ww(t,e,n){pp(t)&&n.delete(e)}function ZN(){x1=!1,Ra!==null&&pp(Ra)&&(Ra=null),Da!==null&&pp(Da)&&(Da=null),Oa!==null&&pp(Oa)&&(Oa=null),hd.forEach(ww),dd.forEach(ww)}function bh(t,e){t.blockedOn===e&&(t.blockedOn=null,x1||(x1=!0,Si.unstable_scheduleCallback(Si.unstable_NormalPriority,ZN)))}function fd(t){function e(i){return bh(i,t)}if(0<Uf.length){bh(Uf[0],t);for(var n=1;n<Uf.length;n++){var r=Uf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ra!==null&&bh(Ra,t),Da!==null&&bh(Da,t),Oa!==null&&bh(Oa,t),hd.forEach(e),dd.forEach(e),n=0;n<xa.length;n++)r=xa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xa.length&&(n=xa[0],n.blockedOn===null);)mS(n),n.blockedOn===null&&xa.shift()}var cc=jo.ReactCurrentBatchConfig,Kp=!0;function ek(t,e,n,r){var i=Gt,s=cc.transition;cc.transition=null;try{Gt=1,gv(t,e,n,r)}finally{Gt=i,cc.transition=s}}function tk(t,e,n,r){var i=Gt,s=cc.transition;cc.transition=null;try{Gt=4,gv(t,e,n,r)}finally{Gt=i,cc.transition=s}}function gv(t,e,n,r){if(Kp){var i=S1(t,e,n,r);if(i===null)c0(t,e,r,Yp,n),vw(t,r);else if(JN(i,t,e,n,r))r.stopPropagation();else if(vw(t,r),e&4&&-1<XN.indexOf(t)){for(;i!==null;){var s=$d(i);if(s!==null&&hS(s),s=S1(t,e,n,r),s===null&&c0(t,e,r,Yp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else c0(t,e,r,null,n)}}var Yp=null;function S1(t,e,n,r){if(Yp=null,t=dv(r),t=Ll(t),t!==null)if(e=iu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yp=t,null}function gS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zN()){case fv:return 1;case aS:return 4;case Wp:case qN:return 16;case lS:return 536870912;default:return 16}default:return 16}}var Pa=null,yv=null,mp=null;function yS(){if(mp)return mp;var t,e=yv,n=e.length,r,i="value"in Pa?Pa.value:Pa.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mp=i.slice(t,1<r?1-r:void 0)}function gp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zf(){return!0}function _w(){return!1}function Ii(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zf:_w,this.isPropagationStopped=_w,this}return yn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zf)},persist:function(){},isPersistent:zf}),e}var Uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vv=Ii(Uc),Hd=yn({},Uc,{view:0,detail:0}),nk=Ii(Hd),t0,n0,xh,zm=yn({},Hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xh&&(xh&&t.type==="mousemove"?(t0=t.screenX-xh.screenX,n0=t.screenY-xh.screenY):n0=t0=0,xh=t),t0)},movementY:function(t){return"movementY"in t?t.movementY:n0}}),bw=Ii(zm),rk=yn({},zm,{dataTransfer:0}),ik=Ii(rk),sk=yn({},Hd,{relatedTarget:0}),r0=Ii(sk),ok=yn({},Uc,{animationName:0,elapsedTime:0,pseudoElement:0}),ak=Ii(ok),lk=yn({},Uc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uk=Ii(lk),ck=yn({},Uc,{data:0}),xw=Ii(ck),hk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fk[t])?!!e[t]:!1}function wv(){return pk}var mk=yn({},Hd,{key:function(t){if(t.key){var e=hk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wv,charCode:function(t){return t.type==="keypress"?gp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gk=Ii(mk),yk=yn({},zm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sw=Ii(yk),vk=yn({},Hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wv}),wk=Ii(vk),_k=yn({},Uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),bk=Ii(_k),xk=yn({},zm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sk=Ii(xk),Ak=[9,13,27,32],_v=Po&&"CompositionEvent"in window,Hh=null;Po&&"documentMode"in document&&(Hh=document.documentMode);var Ek=Po&&"TextEvent"in window&&!Hh,vS=Po&&(!_v||Hh&&8<Hh&&11>=Hh),Aw=" ",Ew=!1;function wS(t,e){switch(t){case"keyup":return Ak.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _S(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hu=!1;function Tk(t,e){switch(t){case"compositionend":return _S(e);case"keypress":return e.which!==32?null:(Ew=!0,Aw);case"textInput":return t=e.data,t===Aw&&Ew?null:t;default:return null}}function Ik(t,e){if(Hu)return t==="compositionend"||!_v&&wS(t,e)?(t=yS(),mp=yv=Pa=null,Hu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vS&&e.locale!=="ko"?null:e.data;default:return null}}var Pk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Pk[t.type]:e==="textarea"}function bS(t,e,n,r){J4(r),e=Qp(e,"onChange"),0<e.length&&(n=new vv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $h=null,pd=null;function Nk(t){LS(t,0)}function qm(t){var e=Gu(t);if($4(e))return t}function kk(t,e){if(t==="change")return e}var xS=!1;if(Po){var i0;if(Po){var s0="oninput"in document;if(!s0){var Iw=document.createElement("div");Iw.setAttribute("oninput","return;"),s0=typeof Iw.oninput=="function"}i0=s0}else i0=!1;xS=i0&&(!document.documentMode||9<document.documentMode)}function Pw(){$h&&($h.detachEvent("onpropertychange",SS),pd=$h=null)}function SS(t){if(t.propertyName==="value"&&qm(pd)){var e=[];bS(e,pd,t,dv(t)),nS(Nk,e)}}function Ck(t,e,n){t==="focusin"?(Pw(),$h=e,pd=n,$h.attachEvent("onpropertychange",SS)):t==="focusout"&&Pw()}function Lk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qm(pd)}function Rk(t,e){if(t==="click")return qm(e)}function Dk(t,e){if(t==="input"||t==="change")return qm(e)}function Ok(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ms=typeof Object.is=="function"?Object.is:Ok;function md(t,e){if(ms(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!s1.call(e,i)||!ms(t[i],e[i]))return!1}return!0}function Nw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kw(t,e){var n=Nw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nw(n)}}function AS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ES(){for(var t=window,e=qp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qp(t.document)}return e}function bv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Mk(t){var e=ES(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AS(n.ownerDocument.documentElement,n)){if(r!==null&&bv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=kw(n,s);var o=kw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Fk=Po&&"documentMode"in document&&11>=document.documentMode,$u=null,A1=null,Wh=null,E1=!1;function Cw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;E1||$u==null||$u!==qp(r)||(r=$u,"selectionStart"in r&&bv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wh&&md(Wh,r)||(Wh=r,r=Qp(A1,"onSelect"),0<r.length&&(e=new vv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$u)))}function qf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wu={animationend:qf("Animation","AnimationEnd"),animationiteration:qf("Animation","AnimationIteration"),animationstart:qf("Animation","AnimationStart"),transitionend:qf("Transition","TransitionEnd")},o0={},TS={};Po&&(TS=document.createElement("div").style,"AnimationEvent"in window||(delete Wu.animationend.animation,delete Wu.animationiteration.animation,delete Wu.animationstart.animation),"TransitionEvent"in window||delete Wu.transitionend.transition);function Hm(t){if(o0[t])return o0[t];if(!Wu[t])return t;var e=Wu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in TS)return o0[t]=e[n];return t}var IS=Hm("animationend"),PS=Hm("animationiteration"),NS=Hm("animationstart"),kS=Hm("transitionend"),CS=new Map,Lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function el(t,e){CS.set(t,e),ru(e,[t])}for(var a0=0;a0<Lw.length;a0++){var l0=Lw[a0],jk=l0.toLowerCase(),Vk=l0[0].toUpperCase()+l0.slice(1);el(jk,"on"+Vk)}el(IS,"onAnimationEnd");el(PS,"onAnimationIteration");el(NS,"onAnimationStart");el("dblclick","onDoubleClick");el("focusin","onFocus");el("focusout","onBlur");el(kS,"onTransitionEnd");bc("onMouseEnter",["mouseout","mouseover"]);bc("onMouseLeave",["mouseout","mouseover"]);bc("onPointerEnter",["pointerout","pointerover"]);bc("onPointerLeave",["pointerout","pointerover"]);ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ru("onBeforeInput",["compositionend","keypress","textInput","paste"]);ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dh));function Rw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jN(r,e,void 0,t),t.currentTarget=null}function LS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Rw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Rw(i,a,u),s=l}}}if($p)throw t=_1,$p=!1,_1=null,t}function ln(t,e){var n=e[k1];n===void 0&&(n=e[k1]=new Set);var r=t+"__bubble";n.has(r)||(RS(e,t,2,!1),n.add(r))}function u0(t,e,n){var r=0;e&&(r|=4),RS(n,t,r,e)}var Hf="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[Hf]){t[Hf]=!0,B4.forEach(function(n){n!=="selectionchange"&&(Bk.has(n)||u0(n,!1,t),u0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hf]||(e[Hf]=!0,u0("selectionchange",!1,e))}}function RS(t,e,n,r){switch(gS(e)){case 1:var i=ek;break;case 4:i=tk;break;default:i=gv}n=i.bind(null,e,n,t),i=void 0,!w1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function c0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ll(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}nS(function(){var u=s,d=dv(n),p=[];e:{var g=CS.get(t);if(g!==void 0){var m=vv,A=t;switch(t){case"keypress":if(gp(n)===0)break e;case"keydown":case"keyup":m=gk;break;case"focusin":A="focus",m=r0;break;case"focusout":A="blur",m=r0;break;case"beforeblur":case"afterblur":m=r0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=bw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ik;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=wk;break;case IS:case PS:case NS:m=ak;break;case kS:m=bk;break;case"scroll":m=nk;break;case"wheel":m=Sk;break;case"copy":case"cut":case"paste":m=uk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Sw}var x=(e&4)!==0,P=!x&&t==="scroll",_=x?g!==null?g+"Capture":null:g;x=[];for(var b=u,N;b!==null;){N=b;var H=N.stateNode;if(N.tag===5&&H!==null&&(N=H,_!==null&&(H=cd(b,_),H!=null&&x.push(yd(b,H,N)))),P)break;b=b.return}0<x.length&&(g=new m(g,A,null,n,d),p.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",g&&n!==y1&&(A=n.relatedTarget||n.fromElement)&&(Ll(A)||A[No]))break e;if((m||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,m?(A=n.relatedTarget||n.toElement,m=u,A=A?Ll(A):null,A!==null&&(P=iu(A),A!==P||A.tag!==5&&A.tag!==6)&&(A=null)):(m=null,A=u),m!==A)){if(x=bw,H="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=Sw,H="onPointerLeave",_="onPointerEnter",b="pointer"),P=m==null?g:Gu(m),N=A==null?g:Gu(A),g=new x(H,b+"leave",m,n,d),g.target=P,g.relatedTarget=N,H=null,Ll(d)===u&&(x=new x(_,b+"enter",A,n,d),x.target=N,x.relatedTarget=P,H=x),P=H,m&&A)t:{for(x=m,_=A,b=0,N=x;N;N=Du(N))b++;for(N=0,H=_;H;H=Du(H))N++;for(;0<b-N;)x=Du(x),b--;for(;0<N-b;)_=Du(_),N--;for(;b--;){if(x===_||_!==null&&x===_.alternate)break t;x=Du(x),_=Du(_)}x=null}else x=null;m!==null&&Dw(p,g,m,x,!1),A!==null&&P!==null&&Dw(p,P,A,x,!0)}}e:{if(g=u?Gu(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var $=kk;else if(Tw(g))if(xS)$=Dk;else{$=Lk;var J=Ck}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&($=Rk);if($&&($=$(t,u))){bS(p,$,n,d);break e}J&&J(t,g,u),t==="focusout"&&(J=g._wrapperState)&&J.controlled&&g.type==="number"&&d1(g,"number",g.value)}switch(J=u?Gu(u):window,t){case"focusin":(Tw(J)||J.contentEditable==="true")&&($u=J,A1=u,Wh=null);break;case"focusout":Wh=A1=$u=null;break;case"mousedown":E1=!0;break;case"contextmenu":case"mouseup":case"dragend":E1=!1,Cw(p,n,d);break;case"selectionchange":if(Fk)break;case"keydown":case"keyup":Cw(p,n,d)}var O;if(_v)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Hu?wS(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(vS&&n.locale!=="ko"&&(Hu||E!=="onCompositionStart"?E==="onCompositionEnd"&&Hu&&(O=yS()):(Pa=d,yv="value"in Pa?Pa.value:Pa.textContent,Hu=!0)),J=Qp(u,E),0<J.length&&(E=new xw(E,t,null,n,d),p.push({event:E,listeners:J}),O?E.data=O:(O=_S(n),O!==null&&(E.data=O)))),(O=Ek?Tk(t,n):Ik(t,n))&&(u=Qp(u,"onBeforeInput"),0<u.length&&(d=new xw("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=O))}LS(p,e)})}function yd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=cd(t,n),s!=null&&r.unshift(yd(t,s,i)),s=cd(t,e),s!=null&&r.push(yd(t,s,i))),t=t.return}return r}function Du(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=cd(n,s),l!=null&&o.unshift(yd(n,l,a))):i||(l=cd(n,s),l!=null&&o.push(yd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Uk=/\r\n?/g,zk=/\u0000|\uFFFD/g;function Ow(t){return(typeof t=="string"?t:""+t).replace(Uk,`
`).replace(zk,"")}function $f(t,e,n){if(e=Ow(e),Ow(t)!==e&&n)throw Error(Me(425))}function Xp(){}var T1=null,I1=null;function P1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var N1=typeof setTimeout=="function"?setTimeout:void 0,qk=typeof clearTimeout=="function"?clearTimeout:void 0,Mw=typeof Promise=="function"?Promise:void 0,Hk=typeof queueMicrotask=="function"?queueMicrotask:typeof Mw<"u"?function(t){return Mw.resolve(null).then(t).catch($k)}:N1;function $k(t){setTimeout(function(){throw t})}function h0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fd(e)}function Ma(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zc=Math.random().toString(36).slice(2),js="__reactFiber$"+zc,vd="__reactProps$"+zc,No="__reactContainer$"+zc,k1="__reactEvents$"+zc,Wk="__reactListeners$"+zc,Gk="__reactHandles$"+zc;function Ll(t){var e=t[js];if(e)return e;for(var n=t.parentNode;n;){if(e=n[No]||n[js]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fw(t);t!==null;){if(n=t[js])return n;t=Fw(t)}return e}t=n,n=t.parentNode}return null}function $d(t){return t=t[js]||t[No],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Me(33))}function $m(t){return t[vd]||null}var C1=[],Ku=-1;function tl(t){return{current:t}}function hn(t){0>Ku||(t.current=C1[Ku],C1[Ku]=null,Ku--)}function rn(t,e){Ku++,C1[Ku]=t.current,t.current=e}var Wa={},Rr=tl(Wa),ni=tl(!1),Wl=Wa;function xc(t,e){var n=t.type.contextTypes;if(!n)return Wa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ri(t){return t=t.childContextTypes,t!=null}function Jp(){hn(ni),hn(Rr)}function jw(t,e,n){if(Rr.current!==Wa)throw Error(Me(168));rn(Rr,e),rn(ni,n)}function DS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Me(108,CN(t)||"Unknown",i));return yn({},n,r)}function Zp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wa,Wl=Rr.current,rn(Rr,t),rn(ni,ni.current),!0}function Vw(t,e,n){var r=t.stateNode;if(!r)throw Error(Me(169));n?(t=DS(t,e,Wl),r.__reactInternalMemoizedMergedChildContext=t,hn(ni),hn(Rr),rn(Rr,t)):hn(ni),rn(ni,n)}var vo=null,Wm=!1,d0=!1;function OS(t){vo===null?vo=[t]:vo.push(t)}function Kk(t){Wm=!0,OS(t)}function nl(){if(!d0&&vo!==null){d0=!0;var t=0,e=Gt;try{var n=vo;for(Gt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vo=null,Wm=!1}catch(i){throw vo!==null&&(vo=vo.slice(t+1)),oS(fv,nl),i}finally{Gt=e,d0=!1}}return null}var Yu=[],Qu=0,em=null,tm=0,Bi=[],Ui=0,Gl=null,wo=1,_o="";function El(t,e){Yu[Qu++]=tm,Yu[Qu++]=em,em=t,tm=e}function MS(t,e,n){Bi[Ui++]=wo,Bi[Ui++]=_o,Bi[Ui++]=Gl,Gl=t;var r=wo;t=_o;var i=32-fs(r)-1;r&=~(1<<i),n+=1;var s=32-fs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wo=1<<32-fs(e)+i|n<<i|r,_o=s+t}else wo=1<<s|n<<i|r,_o=t}function xv(t){t.return!==null&&(El(t,1),MS(t,1,0))}function Sv(t){for(;t===em;)em=Yu[--Qu],Yu[Qu]=null,tm=Yu[--Qu],Yu[Qu]=null;for(;t===Gl;)Gl=Bi[--Ui],Bi[Ui]=null,_o=Bi[--Ui],Bi[Ui]=null,wo=Bi[--Ui],Bi[Ui]=null}var wi=null,yi=null,fn=!1,hs=null;function FS(t,e){var n=qi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wi=t,yi=Ma(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wi=t,yi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gl!==null?{id:wo,overflow:_o}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wi=t,yi=null,!0):!1;default:return!1}}function L1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function R1(t){if(fn){var e=yi;if(e){var n=e;if(!Bw(t,e)){if(L1(t))throw Error(Me(418));e=Ma(n.nextSibling);var r=wi;e&&Bw(t,e)?FS(r,n):(t.flags=t.flags&-4097|2,fn=!1,wi=t)}}else{if(L1(t))throw Error(Me(418));t.flags=t.flags&-4097|2,fn=!1,wi=t}}}function Uw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wi=t}function Wf(t){if(t!==wi)return!1;if(!fn)return Uw(t),fn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!P1(t.type,t.memoizedProps)),e&&(e=yi)){if(L1(t))throw jS(),Error(Me(418));for(;e;)FS(t,e),e=Ma(e.nextSibling)}if(Uw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yi=Ma(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yi=null}}else yi=wi?Ma(t.stateNode.nextSibling):null;return!0}function jS(){for(var t=yi;t;)t=Ma(t.nextSibling)}function Sc(){yi=wi=null,fn=!1}function Av(t){hs===null?hs=[t]:hs.push(t)}var Yk=jo.ReactCurrentBatchConfig;function Sh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Me(309));var r=n.stateNode}if(!r)throw Error(Me(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Me(284));if(!n._owner)throw Error(Me(290,t))}return t}function Gf(t,e){throw t=Object.prototype.toString.call(e),Error(Me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zw(t){var e=t._init;return e(t._payload)}function VS(t){function e(_,b){if(t){var N=_.deletions;N===null?(_.deletions=[b],_.flags|=16):N.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=Ba(_,b),_.index=0,_.sibling=null,_}function s(_,b,N){return _.index=N,t?(N=_.alternate,N!==null?(N=N.index,N<b?(_.flags|=2,b):N):(_.flags|=2,b)):(_.flags|=1048576,b)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,b,N,H){return b===null||b.tag!==6?(b=w0(N,_.mode,H),b.return=_,b):(b=i(b,N),b.return=_,b)}function l(_,b,N,H){var $=N.type;return $===qu?d(_,b,N.props.children,H,N.key):b!==null&&(b.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===_a&&zw($)===b.type)?(H=i(b,N.props),H.ref=Sh(_,b,N),H.return=_,H):(H=Sp(N.type,N.key,N.props,null,_.mode,H),H.ref=Sh(_,b,N),H.return=_,H)}function u(_,b,N,H){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=_0(N,_.mode,H),b.return=_,b):(b=i(b,N.children||[]),b.return=_,b)}function d(_,b,N,H,$){return b===null||b.tag!==7?(b=Vl(N,_.mode,H,$),b.return=_,b):(b=i(b,N),b.return=_,b)}function p(_,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return b=w0(""+b,_.mode,N),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mf:return N=Sp(b.type,b.key,b.props,null,_.mode,N),N.ref=Sh(_,null,b),N.return=_,N;case zu:return b=_0(b,_.mode,N),b.return=_,b;case _a:var H=b._init;return p(_,H(b._payload),N)}if(Lh(b)||vh(b))return b=Vl(b,_.mode,N,null),b.return=_,b;Gf(_,b)}return null}function g(_,b,N,H){var $=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return $!==null?null:a(_,b,""+N,H);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Mf:return N.key===$?l(_,b,N,H):null;case zu:return N.key===$?u(_,b,N,H):null;case _a:return $=N._init,g(_,b,$(N._payload),H)}if(Lh(N)||vh(N))return $!==null?null:d(_,b,N,H,null);Gf(_,N)}return null}function m(_,b,N,H,$){if(typeof H=="string"&&H!==""||typeof H=="number")return _=_.get(N)||null,a(b,_,""+H,$);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Mf:return _=_.get(H.key===null?N:H.key)||null,l(b,_,H,$);case zu:return _=_.get(H.key===null?N:H.key)||null,u(b,_,H,$);case _a:var J=H._init;return m(_,b,N,J(H._payload),$)}if(Lh(H)||vh(H))return _=_.get(N)||null,d(b,_,H,$,null);Gf(b,H)}return null}function A(_,b,N,H){for(var $=null,J=null,O=b,E=b=0,C=null;O!==null&&E<N.length;E++){O.index>E?(C=O,O=null):C=O.sibling;var V=g(_,O,N[E],H);if(V===null){O===null&&(O=C);break}t&&O&&V.alternate===null&&e(_,O),b=s(V,b,E),J===null?$=V:J.sibling=V,J=V,O=C}if(E===N.length)return n(_,O),fn&&El(_,E),$;if(O===null){for(;E<N.length;E++)O=p(_,N[E],H),O!==null&&(b=s(O,b,E),J===null?$=O:J.sibling=O,J=O);return fn&&El(_,E),$}for(O=r(_,O);E<N.length;E++)C=m(O,_,E,N[E],H),C!==null&&(t&&C.alternate!==null&&O.delete(C.key===null?E:C.key),b=s(C,b,E),J===null?$=C:J.sibling=C,J=C);return t&&O.forEach(function(I){return e(_,I)}),fn&&El(_,E),$}function x(_,b,N,H){var $=vh(N);if(typeof $!="function")throw Error(Me(150));if(N=$.call(N),N==null)throw Error(Me(151));for(var J=$=null,O=b,E=b=0,C=null,V=N.next();O!==null&&!V.done;E++,V=N.next()){O.index>E?(C=O,O=null):C=O.sibling;var I=g(_,O,V.value,H);if(I===null){O===null&&(O=C);break}t&&O&&I.alternate===null&&e(_,O),b=s(I,b,E),J===null?$=I:J.sibling=I,J=I,O=C}if(V.done)return n(_,O),fn&&El(_,E),$;if(O===null){for(;!V.done;E++,V=N.next())V=p(_,V.value,H),V!==null&&(b=s(V,b,E),J===null?$=V:J.sibling=V,J=V);return fn&&El(_,E),$}for(O=r(_,O);!V.done;E++,V=N.next())V=m(O,_,E,V.value,H),V!==null&&(t&&V.alternate!==null&&O.delete(V.key===null?E:V.key),b=s(V,b,E),J===null?$=V:J.sibling=V,J=V);return t&&O.forEach(function(k){return e(_,k)}),fn&&El(_,E),$}function P(_,b,N,H){if(typeof N=="object"&&N!==null&&N.type===qu&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Mf:e:{for(var $=N.key,J=b;J!==null;){if(J.key===$){if($=N.type,$===qu){if(J.tag===7){n(_,J.sibling),b=i(J,N.props.children),b.return=_,_=b;break e}}else if(J.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===_a&&zw($)===J.type){n(_,J.sibling),b=i(J,N.props),b.ref=Sh(_,J,N),b.return=_,_=b;break e}n(_,J);break}else e(_,J);J=J.sibling}N.type===qu?(b=Vl(N.props.children,_.mode,H,N.key),b.return=_,_=b):(H=Sp(N.type,N.key,N.props,null,_.mode,H),H.ref=Sh(_,b,N),H.return=_,_=H)}return o(_);case zu:e:{for(J=N.key;b!==null;){if(b.key===J)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){n(_,b.sibling),b=i(b,N.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else e(_,b);b=b.sibling}b=_0(N,_.mode,H),b.return=_,_=b}return o(_);case _a:return J=N._init,P(_,b,J(N._payload),H)}if(Lh(N))return A(_,b,N,H);if(vh(N))return x(_,b,N,H);Gf(_,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,b!==null&&b.tag===6?(n(_,b.sibling),b=i(b,N),b.return=_,_=b):(n(_,b),b=w0(N,_.mode,H),b.return=_,_=b),o(_)):n(_,b)}return P}var Ac=VS(!0),BS=VS(!1),nm=tl(null),rm=null,Xu=null,Ev=null;function Tv(){Ev=Xu=rm=null}function Iv(t){var e=nm.current;hn(nm),t._currentValue=e}function D1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function hc(t,e){rm=t,Ev=Xu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ti=!0),t.firstContext=null)}function $i(t){var e=t._currentValue;if(Ev!==t)if(t={context:t,memoizedValue:e,next:null},Xu===null){if(rm===null)throw Error(Me(308));Xu=t,rm.dependencies={lanes:0,firstContext:t}}else Xu=Xu.next=t;return e}var Rl=null;function Pv(t){Rl===null?Rl=[t]:Rl.push(t)}function US(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pv(e)):(n.next=i.next,i.next=n),e.interleaved=n,ko(t,r)}function ko(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ba=!1;function Nv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ao(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ft&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ko(t,n)}return i=r.interleaved,i===null?(e.next=e,Pv(r)):(e.next=i.next,i.next=e),r.interleaved=e,ko(t,n)}function yp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pv(t,n)}}function qw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function im(t,e,n,r){var i=t.updateQueue;ba=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,d=u=l=null,a=s;do{var g=a.lane,m=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,x=a;switch(g=e,m=n,x.tag){case 1:if(A=x.payload,typeof A=="function"){p=A.call(m,p,g);break e}p=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=x.payload,g=typeof A=="function"?A.call(m,p,g):A,g==null)break e;p=yn({},p,g);break e;case 2:ba=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else m={eventTime:m,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=p):d=d.next=m,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Yl|=o,t.lanes=o,t.memoizedState=p}}function Hw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Me(191,i));i.call(r)}}}var Wd={},Us=tl(Wd),wd=tl(Wd),_d=tl(Wd);function Dl(t){if(t===Wd)throw Error(Me(174));return t}function kv(t,e){switch(rn(_d,e),rn(wd,t),rn(Us,Wd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:p1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=p1(e,t)}hn(Us),rn(Us,e)}function Ec(){hn(Us),hn(wd),hn(_d)}function qS(t){Dl(_d.current);var e=Dl(Us.current),n=p1(e,t.type);e!==n&&(rn(wd,t),rn(Us,n))}function Cv(t){wd.current===t&&(hn(Us),hn(wd))}var pn=tl(0);function sm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var f0=[];function Lv(){for(var t=0;t<f0.length;t++)f0[t]._workInProgressVersionPrimary=null;f0.length=0}var vp=jo.ReactCurrentDispatcher,p0=jo.ReactCurrentBatchConfig,Kl=0,gn=null,Gn=null,Zn=null,om=!1,Gh=!1,bd=0,Qk=0;function wr(){throw Error(Me(321))}function Rv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ms(t[n],e[n]))return!1;return!0}function Dv(t,e,n,r,i,s){if(Kl=s,gn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vp.current=t===null||t.memoizedState===null?e6:t6,t=n(r,i),Gh){s=0;do{if(Gh=!1,bd=0,25<=s)throw Error(Me(301));s+=1,Zn=Gn=null,e.updateQueue=null,vp.current=n6,t=n(r,i)}while(Gh)}if(vp.current=am,e=Gn!==null&&Gn.next!==null,Kl=0,Zn=Gn=gn=null,om=!1,e)throw Error(Me(300));return t}function Ov(){var t=bd!==0;return bd=0,t}function Fs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?gn.memoizedState=Zn=t:Zn=Zn.next=t,Zn}function Wi(){if(Gn===null){var t=gn.alternate;t=t!==null?t.memoizedState:null}else t=Gn.next;var e=Zn===null?gn.memoizedState:Zn.next;if(e!==null)Zn=e,Gn=t;else{if(t===null)throw Error(Me(310));Gn=t,t={memoizedState:Gn.memoizedState,baseState:Gn.baseState,baseQueue:Gn.baseQueue,queue:Gn.queue,next:null},Zn===null?gn.memoizedState=Zn=t:Zn=Zn.next=t}return Zn}function xd(t,e){return typeof e=="function"?e(t):e}function m0(t){var e=Wi(),n=e.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=t;var r=Gn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Kl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,gn.lanes|=d,Yl|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ms(r,e.memoizedState)||(ti=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,gn.lanes|=s,Yl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function g0(t){var e=Wi(),n=e.queue;if(n===null)throw Error(Me(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ms(s,e.memoizedState)||(ti=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function HS(){}function $S(t,e){var n=gn,r=Wi(),i=e(),s=!ms(r.memoizedState,i);if(s&&(r.memoizedState=i,ti=!0),r=r.queue,Mv(KS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Zn!==null&&Zn.memoizedState.tag&1){if(n.flags|=2048,Sd(9,GS.bind(null,n,r,i,e),void 0,null),tr===null)throw Error(Me(349));Kl&30||WS(n,e,i)}return i}function WS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gn.updateQueue,e===null?(e={lastEffect:null,stores:null},gn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GS(t,e,n,r){e.value=n,e.getSnapshot=r,YS(e)&&QS(t)}function KS(t,e,n){return n(function(){YS(e)&&QS(t)})}function YS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ms(t,n)}catch{return!0}}function QS(t){var e=ko(t,1);e!==null&&ps(e,t,1,-1)}function $w(t){var e=Fs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:t},e.queue=t,t=t.dispatch=Zk.bind(null,gn,t),[e.memoizedState,t]}function Sd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gn.updateQueue,e===null?(e={lastEffect:null,stores:null},gn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XS(){return Wi().memoizedState}function wp(t,e,n,r){var i=Fs();gn.flags|=t,i.memoizedState=Sd(1|e,n,void 0,r===void 0?null:r)}function Gm(t,e,n,r){var i=Wi();r=r===void 0?null:r;var s=void 0;if(Gn!==null){var o=Gn.memoizedState;if(s=o.destroy,r!==null&&Rv(r,o.deps)){i.memoizedState=Sd(e,n,s,r);return}}gn.flags|=t,i.memoizedState=Sd(1|e,n,s,r)}function Ww(t,e){return wp(8390656,8,t,e)}function Mv(t,e){return Gm(2048,8,t,e)}function JS(t,e){return Gm(4,2,t,e)}function ZS(t,e){return Gm(4,4,t,e)}function eA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tA(t,e,n){return n=n!=null?n.concat([t]):null,Gm(4,4,eA.bind(null,e,t),n)}function Fv(){}function nA(t,e){var n=Wi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rA(t,e){var n=Wi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iA(t,e,n){return Kl&21?(ms(n,e)||(n=uS(),gn.lanes|=n,Yl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ti=!0),t.memoizedState=n)}function Xk(t,e){var n=Gt;Gt=n!==0&&4>n?n:4,t(!0);var r=p0.transition;p0.transition={};try{t(!1),e()}finally{Gt=n,p0.transition=r}}function sA(){return Wi().memoizedState}function Jk(t,e,n){var r=Va(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oA(t))aA(e,n);else if(n=US(t,e,n,r),n!==null){var i=zr();ps(n,t,r,i),lA(n,e,r)}}function Zk(t,e,n){var r=Va(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oA(t))aA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ms(a,o)){var l=e.interleaved;l===null?(i.next=i,Pv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=US(t,e,i,r),n!==null&&(i=zr(),ps(n,t,r,i),lA(n,e,r))}}function oA(t){var e=t.alternate;return t===gn||e!==null&&e===gn}function aA(t,e){Gh=om=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pv(t,n)}}var am={readContext:$i,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},e6={readContext:$i,useCallback:function(t,e){return Fs().memoizedState=[t,e===void 0?null:e],t},useContext:$i,useEffect:Ww,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wp(4194308,4,eA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wp(4194308,4,t,e)},useInsertionEffect:function(t,e){return wp(4,2,t,e)},useMemo:function(t,e){var n=Fs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Jk.bind(null,gn,t),[r.memoizedState,t]},useRef:function(t){var e=Fs();return t={current:t},e.memoizedState=t},useState:$w,useDebugValue:Fv,useDeferredValue:function(t){return Fs().memoizedState=t},useTransition:function(){var t=$w(!1),e=t[0];return t=Xk.bind(null,t[1]),Fs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gn,i=Fs();if(fn){if(n===void 0)throw Error(Me(407));n=n()}else{if(n=e(),tr===null)throw Error(Me(349));Kl&30||WS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ww(KS.bind(null,r,s,t),[t]),r.flags|=2048,Sd(9,GS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Fs(),e=tr.identifierPrefix;if(fn){var n=_o,r=wo;n=(r&~(1<<32-fs(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Qk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},t6={readContext:$i,useCallback:nA,useContext:$i,useEffect:Mv,useImperativeHandle:tA,useInsertionEffect:JS,useLayoutEffect:ZS,useMemo:rA,useReducer:m0,useRef:XS,useState:function(){return m0(xd)},useDebugValue:Fv,useDeferredValue:function(t){var e=Wi();return iA(e,Gn.memoizedState,t)},useTransition:function(){var t=m0(xd)[0],e=Wi().memoizedState;return[t,e]},useMutableSource:HS,useSyncExternalStore:$S,useId:sA,unstable_isNewReconciler:!1},n6={readContext:$i,useCallback:nA,useContext:$i,useEffect:Mv,useImperativeHandle:tA,useInsertionEffect:JS,useLayoutEffect:ZS,useMemo:rA,useReducer:g0,useRef:XS,useState:function(){return g0(xd)},useDebugValue:Fv,useDeferredValue:function(t){var e=Wi();return Gn===null?e.memoizedState=t:iA(e,Gn.memoizedState,t)},useTransition:function(){var t=g0(xd)[0],e=Wi().memoizedState;return[t,e]},useMutableSource:HS,useSyncExternalStore:$S,useId:sA,unstable_isNewReconciler:!1};function ls(t,e){if(t&&t.defaultProps){e=yn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function O1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Km={isMounted:function(t){return(t=t._reactInternals)?iu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zr(),i=Va(t),s=Ao(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fa(t,s,i),e!==null&&(ps(e,t,i,r),yp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zr(),i=Va(t),s=Ao(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fa(t,s,i),e!==null&&(ps(e,t,i,r),yp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zr(),r=Va(t),i=Ao(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fa(t,i,r),e!==null&&(ps(e,t,r,n),yp(e,t,r))}};function Gw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!md(n,r)||!md(i,s):!0}function uA(t,e,n){var r=!1,i=Wa,s=e.contextType;return typeof s=="object"&&s!==null?s=$i(s):(i=ri(e)?Wl:Rr.current,r=e.contextTypes,s=(r=r!=null)?xc(t,i):Wa),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Km,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Kw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Km.enqueueReplaceState(e,e.state,null)}function M1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Nv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$i(s):(s=ri(e)?Wl:Rr.current,i.context=xc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(O1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Km.enqueueReplaceState(i,i.state,null),im(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tc(t,e){try{var n="",r=e;do n+=kN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function y0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function F1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var r6=typeof WeakMap=="function"?WeakMap:Map;function cA(t,e,n){n=Ao(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){um||(um=!0,G1=r),F1(t,e)},n}function hA(t,e,n){n=Ao(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){F1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){F1(t,e),typeof r!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new r6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=y6.bind(null,t,e,n),e.then(t,t))}function Qw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ao(-1,1),e.tag=2,Fa(n,e,1))),n.lanes|=1),t)}var i6=jo.ReactCurrentOwner,ti=!1;function Ur(t,e,n,r){e.child=t===null?BS(e,null,n,r):Ac(e,t.child,n,r)}function Jw(t,e,n,r,i){n=n.render;var s=e.ref;return hc(e,i),r=Dv(t,e,n,r,s,i),n=Ov(),t!==null&&!ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Co(t,e,i)):(fn&&n&&xv(e),e.flags|=1,Ur(t,e,r,i),e.child)}function Zw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$v(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,dA(t,e,s,r,i)):(t=Sp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:md,n(o,r)&&t.ref===e.ref)return Co(t,e,i)}return e.flags|=1,t=Ba(s,r),t.ref=e.ref,t.return=e,e.child=t}function dA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(md(s,r)&&t.ref===e.ref)if(ti=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ti=!0);else return e.lanes=t.lanes,Co(t,e,i)}return j1(t,e,n,r,i)}function fA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rn(Zu,gi),gi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rn(Zu,gi),gi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,rn(Zu,gi),gi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,rn(Zu,gi),gi|=r;return Ur(t,e,i,n),e.child}function pA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function j1(t,e,n,r,i){var s=ri(n)?Wl:Rr.current;return s=xc(e,s),hc(e,i),n=Dv(t,e,n,r,s,i),r=Ov(),t!==null&&!ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Co(t,e,i)):(fn&&r&&xv(e),e.flags|=1,Ur(t,e,n,i),e.child)}function e_(t,e,n,r,i){if(ri(n)){var s=!0;Zp(e)}else s=!1;if(hc(e,i),e.stateNode===null)_p(t,e),uA(e,n,r),M1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=$i(u):(u=ri(n)?Wl:Rr.current,u=xc(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Kw(e,o,r,u),ba=!1;var g=e.memoizedState;o.state=g,im(e,r,o,i),l=e.memoizedState,a!==r||g!==l||ni.current||ba?(typeof d=="function"&&(O1(e,n,d,r),l=e.memoizedState),(a=ba||Gw(e,n,a,r,g,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ls(e.type,a),o.props=u,p=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$i(l):(l=ri(n)?Wl:Rr.current,l=xc(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==l)&&Kw(e,o,r,l),ba=!1,g=e.memoizedState,o.state=g,im(e,r,o,i);var A=e.memoizedState;a!==p||g!==A||ni.current||ba?(typeof m=="function"&&(O1(e,n,m,r),A=e.memoizedState),(u=ba||Gw(e,n,u,r,g,A,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return V1(t,e,n,r,s,i)}function V1(t,e,n,r,i,s){pA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Vw(e,n,!1),Co(t,e,s);r=e.stateNode,i6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ac(e,t.child,null,s),e.child=Ac(e,null,a,s)):Ur(t,e,a,s),e.memoizedState=r.state,i&&Vw(e,n,!0),e.child}function mA(t){var e=t.stateNode;e.pendingContext?jw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jw(t,e.context,!1),kv(t,e.containerInfo)}function t_(t,e,n,r,i){return Sc(),Av(i),e.flags|=256,Ur(t,e,n,r),e.child}var B1={dehydrated:null,treeContext:null,retryLane:0};function U1(t){return{baseLanes:t,cachePool:null,transitions:null}}function gA(t,e,n){var r=e.pendingProps,i=pn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rn(pn,i&1),t===null)return R1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xm(o,r,0,null),t=Vl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=U1(n),e.memoizedState=B1,t):jv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return s6(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ba(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ba(a,s):(s=Vl(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?U1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=B1,r}return s=t.child,t=s.sibling,r=Ba(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jv(t,e){return e=Xm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kf(t,e,n,r){return r!==null&&Av(r),Ac(e,t.child,null,n),t=jv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function s6(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=y0(Error(Me(422))),Kf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xm({mode:"visible",children:r.children},i,0,null),s=Vl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ac(e,t.child,null,o),e.child.memoizedState=U1(o),e.memoizedState=B1,s);if(!(e.mode&1))return Kf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Me(419)),r=y0(s,r,void 0),Kf(t,e,o,r)}if(a=(o&t.childLanes)!==0,ti||a){if(r=tr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ko(t,i),ps(r,t,i,-1))}return Hv(),r=y0(Error(Me(421))),Kf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=v6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yi=Ma(i.nextSibling),wi=e,fn=!0,hs=null,t!==null&&(Bi[Ui++]=wo,Bi[Ui++]=_o,Bi[Ui++]=Gl,wo=t.id,_o=t.overflow,Gl=e),e=jv(e,r.children),e.flags|=4096,e)}function n_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),D1(t.return,e,n)}function v0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ur(t,e,r.children,n),r=pn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,n,e);else if(t.tag===19)n_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rn(pn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),v0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}v0(e,!0,n,null,s);break;case"together":v0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _p(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Co(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Me(153));if(e.child!==null){for(t=e.child,n=Ba(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ba(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function o6(t,e,n){switch(e.tag){case 3:mA(e),Sc();break;case 5:qS(e);break;case 1:ri(e.type)&&Zp(e);break;case 4:kv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rn(nm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rn(pn,pn.current&1),e.flags|=128,null):n&e.child.childLanes?gA(t,e,n):(rn(pn,pn.current&1),t=Co(t,e,n),t!==null?t.sibling:null);rn(pn,pn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rn(pn,pn.current),r)break;return null;case 22:case 23:return e.lanes=0,fA(t,e,n)}return Co(t,e,n)}var vA,z1,wA,_A;vA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};z1=function(){};wA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Dl(Us.current);var s=null;switch(n){case"input":i=c1(t,i),r=c1(t,r),s=[];break;case"select":i=yn({},i,{value:void 0}),r=yn({},r,{value:void 0}),s=[];break;case"textarea":i=f1(t,i),r=f1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xp)}m1(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ld.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ld.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ln("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};_A=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ah(t,e){if(!fn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _r(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function a6(t,e,n){var r=e.pendingProps;switch(Sv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(e),null;case 1:return ri(e.type)&&Jp(),_r(e),null;case 3:return r=e.stateNode,Ec(),hn(ni),hn(Rr),Lv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hs!==null&&(Q1(hs),hs=null))),z1(t,e),_r(e),null;case 5:Cv(e);var i=Dl(_d.current);if(n=e.type,t!==null&&e.stateNode!=null)wA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Me(166));return _r(e),null}if(t=Dl(Us.current),Wf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[js]=e,r[vd]=s,t=(e.mode&1)!==0,n){case"dialog":ln("cancel",r),ln("close",r);break;case"iframe":case"object":case"embed":ln("load",r);break;case"video":case"audio":for(i=0;i<Dh.length;i++)ln(Dh[i],r);break;case"source":ln("error",r);break;case"img":case"image":case"link":ln("error",r),ln("load",r);break;case"details":ln("toggle",r);break;case"input":hw(r,s),ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ln("invalid",r);break;case"textarea":fw(r,s),ln("invalid",r)}m1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$f(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$f(r.textContent,a,t),i=["children",""+a]):ld.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ln("scroll",r)}switch(n){case"input":Ff(r),dw(r,s,!0);break;case"textarea":Ff(r),pw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=K4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[js]=e,t[vd]=r,vA(t,e,!1,!1),e.stateNode=t;e:{switch(o=g1(n,r),n){case"dialog":ln("cancel",t),ln("close",t),i=r;break;case"iframe":case"object":case"embed":ln("load",t),i=r;break;case"video":case"audio":for(i=0;i<Dh.length;i++)ln(Dh[i],t);i=r;break;case"source":ln("error",t),i=r;break;case"img":case"image":case"link":ln("error",t),ln("load",t),i=r;break;case"details":ln("toggle",t),i=r;break;case"input":hw(t,r),i=c1(t,r),ln("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yn({},r,{value:void 0}),ln("invalid",t);break;case"textarea":fw(t,r),i=f1(t,r),ln("invalid",t);break;default:i=r}m1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?X4(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Y4(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ud(t,l):typeof l=="number"&&ud(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ld.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ln("scroll",t):l!=null&&lv(t,s,l,o))}switch(n){case"input":Ff(t),dw(t,r,!1);break;case"textarea":Ff(t),pw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$a(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ac(t,!!r.multiple,s,!1):r.defaultValue!=null&&ac(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _r(e),null;case 6:if(t&&e.stateNode!=null)_A(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Me(166));if(n=Dl(_d.current),Dl(Us.current),Wf(e)){if(r=e.stateNode,n=e.memoizedProps,r[js]=e,(s=r.nodeValue!==n)&&(t=wi,t!==null))switch(t.tag){case 3:$f(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$f(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[js]=e,e.stateNode=r}return _r(e),null;case 13:if(hn(pn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fn&&yi!==null&&e.mode&1&&!(e.flags&128))jS(),Sc(),e.flags|=98560,s=!1;else if(s=Wf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[js]=e}else Sc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_r(e),s=!1}else hs!==null&&(Q1(hs),hs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pn.current&1?Kn===0&&(Kn=3):Hv())),e.updateQueue!==null&&(e.flags|=4),_r(e),null);case 4:return Ec(),z1(t,e),t===null&&gd(e.stateNode.containerInfo),_r(e),null;case 10:return Iv(e.type._context),_r(e),null;case 17:return ri(e.type)&&Jp(),_r(e),null;case 19:if(hn(pn),s=e.memoizedState,s===null)return _r(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ah(s,!1);else{if(Kn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sm(t),o!==null){for(e.flags|=128,Ah(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rn(pn,pn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Rn()>Ic&&(e.flags|=128,r=!0,Ah(s,!1),e.lanes=4194304)}else{if(!r)if(t=sm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ah(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!fn)return _r(e),null}else 2*Rn()-s.renderingStartTime>Ic&&n!==1073741824&&(e.flags|=128,r=!0,Ah(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Rn(),e.sibling=null,n=pn.current,rn(pn,r?n&1|2:n&1),e):(_r(e),null);case 22:case 23:return qv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gi&1073741824&&(_r(e),e.subtreeFlags&6&&(e.flags|=8192)):_r(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function l6(t,e){switch(Sv(e),e.tag){case 1:return ri(e.type)&&Jp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ec(),hn(ni),hn(Rr),Lv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cv(e),null;case 13:if(hn(pn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));Sc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return hn(pn),null;case 4:return Ec(),null;case 10:return Iv(e.type._context),null;case 22:case 23:return qv(),null;case 24:return null;default:return null}}var Yf=!1,Pr=!1,u6=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Ju(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){En(t,e,r)}else n.current=null}function q1(t,e,n){try{n()}catch(r){En(t,e,r)}}var r_=!1;function c6(t,e){if(T1=Kp,t=ES(),bv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=t,g=null;t:for(;;){for(var m;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)g=p,p=m;for(;;){if(p===t)break t;if(g===n&&++u===i&&(a=o),g===s&&++d===r&&(l=o),(m=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(I1={focusedElem:t,selectionRange:n},Kp=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var x=A.memoizedProps,P=A.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:ls(e.type,x),P);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(H){En(e,e.return,H)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return A=r_,r_=!1,A}function Kh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&q1(e,n,s)}i=i.next}while(i!==r)}}function Ym(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function H1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bA(t){var e=t.alternate;e!==null&&(t.alternate=null,bA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[js],delete e[vd],delete e[k1],delete e[Wk],delete e[Gk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xA(t){return t.tag===5||t.tag===3||t.tag===4}function i_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xp));else if(r!==4&&(t=t.child,t!==null))for($1(t,e,n),t=t.sibling;t!==null;)$1(t,e,n),t=t.sibling}function W1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(W1(t,e,n),t=t.sibling;t!==null;)W1(t,e,n),t=t.sibling}var ar=null,cs=!1;function ma(t,e,n){for(n=n.child;n!==null;)SA(t,e,n),n=n.sibling}function SA(t,e,n){if(Bs&&typeof Bs.onCommitFiberUnmount=="function")try{Bs.onCommitFiberUnmount(Um,n)}catch{}switch(n.tag){case 5:Pr||Ju(n,e);case 6:var r=ar,i=cs;ar=null,ma(t,e,n),ar=r,cs=i,ar!==null&&(cs?(t=ar,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ar.removeChild(n.stateNode));break;case 18:ar!==null&&(cs?(t=ar,n=n.stateNode,t.nodeType===8?h0(t.parentNode,n):t.nodeType===1&&h0(t,n),fd(t)):h0(ar,n.stateNode));break;case 4:r=ar,i=cs,ar=n.stateNode.containerInfo,cs=!0,ma(t,e,n),ar=r,cs=i;break;case 0:case 11:case 14:case 15:if(!Pr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&q1(n,e,o),i=i.next}while(i!==r)}ma(t,e,n);break;case 1:if(!Pr&&(Ju(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){En(n,e,a)}ma(t,e,n);break;case 21:ma(t,e,n);break;case 22:n.mode&1?(Pr=(r=Pr)||n.memoizedState!==null,ma(t,e,n),Pr=r):ma(t,e,n);break;default:ma(t,e,n)}}function s_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new u6),e.forEach(function(r){var i=w6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function is(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ar=a.stateNode,cs=!1;break e;case 3:ar=a.stateNode.containerInfo,cs=!0;break e;case 4:ar=a.stateNode.containerInfo,cs=!0;break e}a=a.return}if(ar===null)throw Error(Me(160));SA(s,o,i),ar=null,cs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){En(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AA(e,t),e=e.sibling}function AA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(is(e,t),Ds(t),r&4){try{Kh(3,t,t.return),Ym(3,t)}catch(x){En(t,t.return,x)}try{Kh(5,t,t.return)}catch(x){En(t,t.return,x)}}break;case 1:is(e,t),Ds(t),r&512&&n!==null&&Ju(n,n.return);break;case 5:if(is(e,t),Ds(t),r&512&&n!==null&&Ju(n,n.return),t.flags&32){var i=t.stateNode;try{ud(i,"")}catch(x){En(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&W4(i,s),g1(a,o);var u=g1(a,s);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?X4(i,p):d==="dangerouslySetInnerHTML"?Y4(i,p):d==="children"?ud(i,p):lv(i,d,p,u)}switch(a){case"input":h1(i,s);break;case"textarea":G4(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ac(i,!!s.multiple,m,!1):g!==!!s.multiple&&(s.defaultValue!=null?ac(i,!!s.multiple,s.defaultValue,!0):ac(i,!!s.multiple,s.multiple?[]:"",!1))}i[vd]=s}catch(x){En(t,t.return,x)}}break;case 6:if(is(e,t),Ds(t),r&4){if(t.stateNode===null)throw Error(Me(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){En(t,t.return,x)}}break;case 3:if(is(e,t),Ds(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fd(e.containerInfo)}catch(x){En(t,t.return,x)}break;case 4:is(e,t),Ds(t);break;case 13:is(e,t),Ds(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Uv=Rn())),r&4&&s_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pr=(u=Pr)||d,is(e,t),Pr=u):is(e,t),Ds(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Qe=t,d=t.child;d!==null;){for(p=Qe=d;Qe!==null;){switch(g=Qe,m=g.child,g.tag){case 0:case 11:case 14:case 15:Kh(4,g,g.return);break;case 1:Ju(g,g.return);var A=g.stateNode;if(typeof A.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(x){En(r,n,x)}}break;case 5:Ju(g,g.return);break;case 22:if(g.memoizedState!==null){a_(p);continue}}m!==null?(m.return=g,Qe=m):a_(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Q4("display",o))}catch(x){En(t,t.return,x)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(x){En(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:is(e,t),Ds(t),r&4&&s_(t);break;case 21:break;default:is(e,t),Ds(t)}}function Ds(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(xA(n)){var r=n;break e}n=n.return}throw Error(Me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ud(i,""),r.flags&=-33);var s=i_(t);W1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=i_(t);$1(t,a,o);break;default:throw Error(Me(161))}}catch(l){En(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h6(t,e,n){Qe=t,EA(t)}function EA(t,e,n){for(var r=(t.mode&1)!==0;Qe!==null;){var i=Qe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Yf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pr;a=Yf;var u=Pr;if(Yf=o,(Pr=l)&&!u)for(Qe=i;Qe!==null;)o=Qe,l=o.child,o.tag===22&&o.memoizedState!==null?l_(i):l!==null?(l.return=o,Qe=l):l_(i);for(;s!==null;)Qe=s,EA(s),s=s.sibling;Qe=i,Yf=a,Pr=u}o_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Qe=s):o_(t)}}function o_(t){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pr||Ym(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ls(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Hw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&fd(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Pr||e.flags&512&&H1(e)}catch(g){En(e,e.return,g)}}if(e===t){Qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function a_(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function l_(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ym(4,e)}catch(l){En(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){En(e,i,l)}}var s=e.return;try{H1(e)}catch(l){En(e,s,l)}break;case 5:var o=e.return;try{H1(e)}catch(l){En(e,o,l)}}}catch(l){En(e,e.return,l)}if(e===t){Qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Qe=a;break}Qe=e.return}}var d6=Math.ceil,lm=jo.ReactCurrentDispatcher,Vv=jo.ReactCurrentOwner,Hi=jo.ReactCurrentBatchConfig,Ft=0,tr=null,qn=null,hr=0,gi=0,Zu=tl(0),Kn=0,Ad=null,Yl=0,Qm=0,Bv=0,Yh=null,ei=null,Uv=0,Ic=1/0,yo=null,um=!1,G1=null,ja=null,Qf=!1,Na=null,cm=0,Qh=0,K1=null,bp=-1,xp=0;function zr(){return Ft&6?Rn():bp!==-1?bp:bp=Rn()}function Va(t){return t.mode&1?Ft&2&&hr!==0?hr&-hr:Yk.transition!==null?(xp===0&&(xp=uS()),xp):(t=Gt,t!==0||(t=window.event,t=t===void 0?16:gS(t.type)),t):1}function ps(t,e,n,r){if(50<Qh)throw Qh=0,K1=null,Error(Me(185));qd(t,n,r),(!(Ft&2)||t!==tr)&&(t===tr&&(!(Ft&2)&&(Qm|=n),Kn===4&&Sa(t,hr)),ii(t,r),n===1&&Ft===0&&!(e.mode&1)&&(Ic=Rn()+500,Wm&&nl()))}function ii(t,e){var n=t.callbackNode;YN(t,e);var r=Gp(t,t===tr?hr:0);if(r===0)n!==null&&yw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yw(n),e===1)t.tag===0?Kk(u_.bind(null,t)):OS(u_.bind(null,t)),Hk(function(){!(Ft&6)&&nl()}),n=null;else{switch(cS(r)){case 1:n=fv;break;case 4:n=aS;break;case 16:n=Wp;break;case 536870912:n=lS;break;default:n=Wp}n=RA(n,TA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TA(t,e){if(bp=-1,xp=0,Ft&6)throw Error(Me(327));var n=t.callbackNode;if(dc()&&t.callbackNode!==n)return null;var r=Gp(t,t===tr?hr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hm(t,r);else{e=r;var i=Ft;Ft|=2;var s=PA();(tr!==t||hr!==e)&&(yo=null,Ic=Rn()+500,jl(t,e));do try{m6();break}catch(a){IA(t,a)}while(!0);Tv(),lm.current=s,Ft=i,qn!==null?e=0:(tr=null,hr=0,e=Kn)}if(e!==0){if(e===2&&(i=b1(t),i!==0&&(r=i,e=Y1(t,i))),e===1)throw n=Ad,jl(t,0),Sa(t,r),ii(t,Rn()),n;if(e===6)Sa(t,r);else{if(i=t.current.alternate,!(r&30)&&!f6(i)&&(e=hm(t,r),e===2&&(s=b1(t),s!==0&&(r=s,e=Y1(t,s))),e===1))throw n=Ad,jl(t,0),Sa(t,r),ii(t,Rn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Me(345));case 2:Tl(t,ei,yo);break;case 3:if(Sa(t,r),(r&130023424)===r&&(e=Uv+500-Rn(),10<e)){if(Gp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=N1(Tl.bind(null,t,ei,yo),e);break}Tl(t,ei,yo);break;case 4:if(Sa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-fs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*d6(r/1960))-r,10<r){t.timeoutHandle=N1(Tl.bind(null,t,ei,yo),r);break}Tl(t,ei,yo);break;case 5:Tl(t,ei,yo);break;default:throw Error(Me(329))}}}return ii(t,Rn()),t.callbackNode===n?TA.bind(null,t):null}function Y1(t,e){var n=Yh;return t.current.memoizedState.isDehydrated&&(jl(t,e).flags|=256),t=hm(t,e),t!==2&&(e=ei,ei=n,e!==null&&Q1(e)),t}function Q1(t){ei===null?ei=t:ei.push.apply(ei,t)}function f6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ms(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sa(t,e){for(e&=~Bv,e&=~Qm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fs(e),r=1<<n;t[n]=-1,e&=~r}}function u_(t){if(Ft&6)throw Error(Me(327));dc();var e=Gp(t,0);if(!(e&1))return ii(t,Rn()),null;var n=hm(t,e);if(t.tag!==0&&n===2){var r=b1(t);r!==0&&(e=r,n=Y1(t,r))}if(n===1)throw n=Ad,jl(t,0),Sa(t,e),ii(t,Rn()),n;if(n===6)throw Error(Me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tl(t,ei,yo),ii(t,Rn()),null}function zv(t,e){var n=Ft;Ft|=1;try{return t(e)}finally{Ft=n,Ft===0&&(Ic=Rn()+500,Wm&&nl())}}function Ql(t){Na!==null&&Na.tag===0&&!(Ft&6)&&dc();var e=Ft;Ft|=1;var n=Hi.transition,r=Gt;try{if(Hi.transition=null,Gt=1,t)return t()}finally{Gt=r,Hi.transition=n,Ft=e,!(Ft&6)&&nl()}}function qv(){gi=Zu.current,hn(Zu)}function jl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qk(n)),qn!==null)for(n=qn.return;n!==null;){var r=n;switch(Sv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jp();break;case 3:Ec(),hn(ni),hn(Rr),Lv();break;case 5:Cv(r);break;case 4:Ec();break;case 13:hn(pn);break;case 19:hn(pn);break;case 10:Iv(r.type._context);break;case 22:case 23:qv()}n=n.return}if(tr=t,qn=t=Ba(t.current,null),hr=gi=e,Kn=0,Ad=null,Bv=Qm=Yl=0,ei=Yh=null,Rl!==null){for(e=0;e<Rl.length;e++)if(n=Rl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Rl=null}return t}function IA(t,e){do{var n=qn;try{if(Tv(),vp.current=am,om){for(var r=gn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}om=!1}if(Kl=0,Zn=Gn=gn=null,Gh=!1,bd=0,Vv.current=null,n===null||n.return===null){Kn=1,Ad=e,qn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=hr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Qw(o);if(m!==null){m.flags&=-257,Xw(m,o,a,s,e),m.mode&1&&Yw(s,u,e),e=m,l=u;var A=e.updateQueue;if(A===null){var x=new Set;x.add(l),e.updateQueue=x}else A.add(l);break e}else{if(!(e&1)){Yw(s,u,e),Hv();break e}l=Error(Me(426))}}else if(fn&&a.mode&1){var P=Qw(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Xw(P,o,a,s,e),Av(Tc(l,a));break e}}s=l=Tc(l,a),Kn!==4&&(Kn=2),Yh===null?Yh=[s]:Yh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=cA(s,l,e);qw(s,_);break e;case 1:a=l;var b=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ja===null||!ja.has(N)))){s.flags|=65536,e&=-e,s.lanes|=e;var H=hA(s,a,e);qw(s,H);break e}}s=s.return}while(s!==null)}kA(n)}catch($){e=$,qn===n&&n!==null&&(qn=n=n.return);continue}break}while(!0)}function PA(){var t=lm.current;return lm.current=am,t===null?am:t}function Hv(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),tr===null||!(Yl&268435455)&&!(Qm&268435455)||Sa(tr,hr)}function hm(t,e){var n=Ft;Ft|=2;var r=PA();(tr!==t||hr!==e)&&(yo=null,jl(t,e));do try{p6();break}catch(i){IA(t,i)}while(!0);if(Tv(),Ft=n,lm.current=r,qn!==null)throw Error(Me(261));return tr=null,hr=0,Kn}function p6(){for(;qn!==null;)NA(qn)}function m6(){for(;qn!==null&&!BN();)NA(qn)}function NA(t){var e=LA(t.alternate,t,gi);t.memoizedProps=t.pendingProps,e===null?kA(t):qn=e,Vv.current=null}function kA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=l6(n,e),n!==null){n.flags&=32767,qn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Kn=6,qn=null;return}}else if(n=a6(n,e,gi),n!==null){qn=n;return}if(e=e.sibling,e!==null){qn=e;return}qn=e=t}while(e!==null);Kn===0&&(Kn=5)}function Tl(t,e,n){var r=Gt,i=Hi.transition;try{Hi.transition=null,Gt=1,g6(t,e,n,r)}finally{Hi.transition=i,Gt=r}return null}function g6(t,e,n,r){do dc();while(Na!==null);if(Ft&6)throw Error(Me(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Me(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(QN(t,s),t===tr&&(qn=tr=null,hr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qf||(Qf=!0,RA(Wp,function(){return dc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Hi.transition,Hi.transition=null;var o=Gt;Gt=1;var a=Ft;Ft|=4,Vv.current=null,c6(t,n),AA(n,t),Mk(I1),Kp=!!T1,I1=T1=null,t.current=n,h6(n),UN(),Ft=a,Gt=o,Hi.transition=s}else t.current=n;if(Qf&&(Qf=!1,Na=t,cm=i),s=t.pendingLanes,s===0&&(ja=null),HN(n.stateNode),ii(t,Rn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(um)throw um=!1,t=G1,G1=null,t;return cm&1&&t.tag!==0&&dc(),s=t.pendingLanes,s&1?t===K1?Qh++:(Qh=0,K1=t):Qh=0,nl(),null}function dc(){if(Na!==null){var t=cS(cm),e=Hi.transition,n=Gt;try{if(Hi.transition=null,Gt=16>t?16:t,Na===null)var r=!1;else{if(t=Na,Na=null,cm=0,Ft&6)throw Error(Me(331));var i=Ft;for(Ft|=4,Qe=t.current;Qe!==null;){var s=Qe,o=s.child;if(Qe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Qe=u;Qe!==null;){var d=Qe;switch(d.tag){case 0:case 11:case 15:Kh(8,d,s)}var p=d.child;if(p!==null)p.return=d,Qe=p;else for(;Qe!==null;){d=Qe;var g=d.sibling,m=d.return;if(bA(d),d===u){Qe=null;break}if(g!==null){g.return=m,Qe=g;break}Qe=m}}}var A=s.alternate;if(A!==null){var x=A.child;if(x!==null){A.child=null;do{var P=x.sibling;x.sibling=null,x=P}while(x!==null)}}Qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Qe=o;else e:for(;Qe!==null;){if(s=Qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kh(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Qe=_;break e}Qe=s.return}}var b=t.current;for(Qe=b;Qe!==null;){o=Qe;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,Qe=N;else e:for(o=b;Qe!==null;){if(a=Qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ym(9,a)}}catch($){En(a,a.return,$)}if(a===o){Qe=null;break e}var H=a.sibling;if(H!==null){H.return=a.return,Qe=H;break e}Qe=a.return}}if(Ft=i,nl(),Bs&&typeof Bs.onPostCommitFiberRoot=="function")try{Bs.onPostCommitFiberRoot(Um,t)}catch{}r=!0}return r}finally{Gt=n,Hi.transition=e}}return!1}function c_(t,e,n){e=Tc(n,e),e=cA(t,e,1),t=Fa(t,e,1),e=zr(),t!==null&&(qd(t,1,e),ii(t,e))}function En(t,e,n){if(t.tag===3)c_(t,t,n);else for(;e!==null;){if(e.tag===3){c_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ja===null||!ja.has(r))){t=Tc(n,t),t=hA(e,t,1),e=Fa(e,t,1),t=zr(),e!==null&&(qd(e,1,t),ii(e,t));break}}e=e.return}}function y6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zr(),t.pingedLanes|=t.suspendedLanes&n,tr===t&&(hr&n)===n&&(Kn===4||Kn===3&&(hr&130023424)===hr&&500>Rn()-Uv?jl(t,0):Bv|=n),ii(t,e)}function CA(t,e){e===0&&(t.mode&1?(e=Bf,Bf<<=1,!(Bf&130023424)&&(Bf=4194304)):e=1);var n=zr();t=ko(t,e),t!==null&&(qd(t,e,n),ii(t,n))}function v6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CA(t,n)}function w6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(e),CA(t,n)}var LA;LA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ni.current)ti=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ti=!1,o6(t,e,n);ti=!!(t.flags&131072)}else ti=!1,fn&&e.flags&1048576&&MS(e,tm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_p(t,e),t=e.pendingProps;var i=xc(e,Rr.current);hc(e,n),i=Dv(null,e,r,t,i,n);var s=Ov();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ri(r)?(s=!0,Zp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nv(e),i.updater=Km,e.stateNode=i,i._reactInternals=e,M1(e,r,t,n),e=V1(null,e,r,!0,s,n)):(e.tag=0,fn&&s&&xv(e),Ur(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_p(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=b6(r),t=ls(r,t),i){case 0:e=j1(null,e,r,t,n);break e;case 1:e=e_(null,e,r,t,n);break e;case 11:e=Jw(null,e,r,t,n);break e;case 14:e=Zw(null,e,r,ls(r.type,t),n);break e}throw Error(Me(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ls(r,i),j1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ls(r,i),e_(t,e,r,i,n);case 3:e:{if(mA(e),t===null)throw Error(Me(387));r=e.pendingProps,s=e.memoizedState,i=s.element,zS(t,e),im(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Tc(Error(Me(423)),e),e=t_(t,e,r,n,i);break e}else if(r!==i){i=Tc(Error(Me(424)),e),e=t_(t,e,r,n,i);break e}else for(yi=Ma(e.stateNode.containerInfo.firstChild),wi=e,fn=!0,hs=null,n=BS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sc(),r===i){e=Co(t,e,n);break e}Ur(t,e,r,n)}e=e.child}return e;case 5:return qS(e),t===null&&R1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,P1(r,i)?o=null:s!==null&&P1(r,s)&&(e.flags|=32),pA(t,e),Ur(t,e,o,n),e.child;case 6:return t===null&&R1(e),null;case 13:return gA(t,e,n);case 4:return kv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ac(e,null,r,n):Ur(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ls(r,i),Jw(t,e,r,i,n);case 7:return Ur(t,e,e.pendingProps,n),e.child;case 8:return Ur(t,e,e.pendingProps.children,n),e.child;case 12:return Ur(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rn(nm,r._currentValue),r._currentValue=o,s!==null)if(ms(s.value,o)){if(s.children===i.children&&!ni.current){e=Co(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ao(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),D1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Me(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),D1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ur(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,hc(e,n),i=$i(i),r=r(i),e.flags|=1,Ur(t,e,r,n),e.child;case 14:return r=e.type,i=ls(r,e.pendingProps),i=ls(r.type,i),Zw(t,e,r,i,n);case 15:return dA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ls(r,i),_p(t,e),e.tag=1,ri(r)?(t=!0,Zp(e)):t=!1,hc(e,n),uA(e,r,i),M1(e,r,i,n),V1(null,e,r,!0,t,n);case 19:return yA(t,e,n);case 22:return fA(t,e,n)}throw Error(Me(156,e.tag))};function RA(t,e){return oS(t,e)}function _6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(t,e,n,r){return new _6(t,e,n,r)}function $v(t){return t=t.prototype,!(!t||!t.isReactComponent)}function b6(t){if(typeof t=="function")return $v(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cv)return 11;if(t===hv)return 14}return 2}function Ba(t,e){var n=t.alternate;return n===null?(n=qi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$v(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qu:return Vl(n.children,i,s,e);case uv:o=8,i|=8;break;case o1:return t=qi(12,n,e,i|2),t.elementType=o1,t.lanes=s,t;case a1:return t=qi(13,n,e,i),t.elementType=a1,t.lanes=s,t;case l1:return t=qi(19,n,e,i),t.elementType=l1,t.lanes=s,t;case q4:return Xm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U4:o=10;break e;case z4:o=9;break e;case cv:o=11;break e;case hv:o=14;break e;case _a:o=16,r=null;break e}throw Error(Me(130,t==null?t:typeof t,""))}return e=qi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vl(t,e,n,r){return t=qi(7,t,r,e),t.lanes=n,t}function Xm(t,e,n,r){return t=qi(22,t,r,e),t.elementType=q4,t.lanes=n,t.stateNode={isHidden:!1},t}function w0(t,e,n){return t=qi(6,t,null,e),t.lanes=n,t}function _0(t,e,n){return e=qi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function x6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=e0(0),this.expirationTimes=e0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=e0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wv(t,e,n,r,i,s,o,a,l){return t=new x6(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nv(s),t}function S6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DA(t){if(!t)return Wa;t=t._reactInternals;e:{if(iu(t)!==t||t.tag!==1)throw Error(Me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(t.tag===1){var n=t.type;if(ri(n))return DS(t,n,e)}return e}function OA(t,e,n,r,i,s,o,a,l){return t=Wv(n,r,!0,t,i,s,o,a,l),t.context=DA(null),n=t.current,r=zr(),i=Va(n),s=Ao(r,i),s.callback=e??null,Fa(n,s,i),t.current.lanes=i,qd(t,i,r),ii(t,r),t}function Jm(t,e,n,r){var i=e.current,s=zr(),o=Va(i);return n=DA(n),e.context===null?e.context=n:e.pendingContext=n,e=Ao(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fa(i,e,o),t!==null&&(ps(t,i,o,s),yp(t,i,o)),o}function dm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function h_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gv(t,e){h_(t,e),(t=t.alternate)&&h_(t,e)}function A6(){return null}var MA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kv(t){this._internalRoot=t}Zm.prototype.render=Kv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Me(409));Jm(t,e,null,null)};Zm.prototype.unmount=Kv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ql(function(){Jm(null,t,null,null)}),e[No]=null}};function Zm(t){this._internalRoot=t}Zm.prototype.unstable_scheduleHydration=function(t){if(t){var e=fS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xa.length&&e!==0&&e<xa[n].priority;n++);xa.splice(n,0,t),n===0&&mS(t)}};function Yv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function d_(){}function E6(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=dm(o);s.call(u)}}var o=OA(e,r,t,0,null,!1,!1,"",d_);return t._reactRootContainer=o,t[No]=o.current,gd(t.nodeType===8?t.parentNode:t),Ql(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=dm(l);a.call(u)}}var l=Wv(t,0,!1,null,null,!1,!1,"",d_);return t._reactRootContainer=l,t[No]=l.current,gd(t.nodeType===8?t.parentNode:t),Ql(function(){Jm(e,l,n,r)}),l}function tg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=dm(o);a.call(l)}}Jm(e,o,t,i)}else o=E6(n,e,t,i,r);return dm(o)}hS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rh(e.pendingLanes);n!==0&&(pv(e,n|1),ii(e,Rn()),!(Ft&6)&&(Ic=Rn()+500,nl()))}break;case 13:Ql(function(){var r=ko(t,1);if(r!==null){var i=zr();ps(r,t,1,i)}}),Gv(t,1)}};mv=function(t){if(t.tag===13){var e=ko(t,134217728);if(e!==null){var n=zr();ps(e,t,134217728,n)}Gv(t,134217728)}};dS=function(t){if(t.tag===13){var e=Va(t),n=ko(t,e);if(n!==null){var r=zr();ps(n,t,e,r)}Gv(t,e)}};fS=function(){return Gt};pS=function(t,e){var n=Gt;try{return Gt=t,e()}finally{Gt=n}};v1=function(t,e,n){switch(e){case"input":if(h1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$m(r);if(!i)throw Error(Me(90));$4(r),h1(r,i)}}}break;case"textarea":G4(t,n);break;case"select":e=n.value,e!=null&&ac(t,!!n.multiple,e,!1)}};eS=zv;tS=Ql;var T6={usingClientEntryPoint:!1,Events:[$d,Gu,$m,J4,Z4,zv]},Eh={findFiberByHostInstance:Ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I6={bundleType:Eh.bundleType,version:Eh.version,rendererPackageName:Eh.rendererPackageName,rendererConfig:Eh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iS(t),t===null?null:t.stateNode},findFiberByHostInstance:Eh.findFiberByHostInstance||A6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xf.isDisabled&&Xf.supportsFiber)try{Um=Xf.inject(I6),Bs=Xf}catch{}}Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T6;Ti.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yv(e))throw Error(Me(200));return S6(t,e,null,n)};Ti.createRoot=function(t,e){if(!Yv(t))throw Error(Me(299));var n=!1,r="",i=MA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wv(t,1,!1,null,null,n,!1,r,i),t[No]=e.current,gd(t.nodeType===8?t.parentNode:t),new Kv(e)};Ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Me(188)):(t=Object.keys(t).join(","),Error(Me(268,t)));return t=iS(e),t=t===null?null:t.stateNode,t};Ti.flushSync=function(t){return Ql(t)};Ti.hydrate=function(t,e,n){if(!eg(e))throw Error(Me(200));return tg(null,t,e,!0,n)};Ti.hydrateRoot=function(t,e,n){if(!Yv(t))throw Error(Me(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=MA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=OA(e,null,t,1,n??null,i,!1,s,o),t[No]=e.current,gd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zm(e)};Ti.render=function(t,e,n){if(!eg(e))throw Error(Me(200));return tg(null,t,e,!1,n)};Ti.unmountComponentAtNode=function(t){if(!eg(t))throw Error(Me(40));return t._reactRootContainer?(Ql(function(){tg(null,null,t,!1,function(){t._reactRootContainer=null,t[No]=null})}),!0):!1};Ti.unstable_batchedUpdates=zv;Ti.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!eg(n))throw Error(Me(200));if(t==null||t._reactInternals===void 0)throw Error(Me(38));return tg(t,e,n,!1,r)};Ti.version="18.3.1-next-f1338f8080-20240426";function FA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FA)}catch(t){console.error(t)}}FA(),F4.exports=Ti;var P6=F4.exports,f_=P6;i1.createRoot=f_.createRoot,i1.hydrateRoot=f_.hydrateRoot;const Qv=Ce.createContext({});function Xv(t){const e=Ce.useRef(null);return e.current===null&&(e.current=t()),e.current}const ng=Ce.createContext(null),Jv=Ce.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class N6 extends Ce.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function k6({children:t,isPresent:e}){const n=Ce.useId(),r=Ce.useRef(null),i=Ce.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=Ce.useContext(Jv);return Ce.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),U.jsx(N6,{isPresent:e,childRef:r,sizeRef:i,children:Ce.cloneElement(t,{ref:r})})}const C6=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Xv(L6),l=Ce.useId(),u=Ce.useCallback(p=>{a.set(p,!0);for(const g of a.values())if(!g)return;r&&r()},[a,r]),d=Ce.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u,register:p=>(a.set(p,!1),()=>a.delete(p))}),s?[Math.random(),u]:[n,u]);return Ce.useMemo(()=>{a.forEach((p,g)=>a.set(g,!1))},[n]),Ce.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=U.jsx(k6,{isPresent:n,children:t})),U.jsx(ng.Provider,{value:d,children:t})};function L6(){return new Map}function jA(t=!0){const e=Ce.useContext(ng);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=Ce.useId();Ce.useEffect(()=>{t&&i(s)},[t]);const o=Ce.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Jf=t=>t.key||"";function p_(t){const e=[];return Ce.Children.forEach(t,n=>{Ce.isValidElement(n)&&e.push(n)}),e}const Zv=typeof window<"u",VA=Zv?Ce.useLayoutEffect:Ce.useEffect,BA=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=jA(o),u=Ce.useMemo(()=>p_(t),[t]),d=o&&!a?[]:u.map(Jf),p=Ce.useRef(!0),g=Ce.useRef(u),m=Xv(()=>new Map),[A,x]=Ce.useState(u),[P,_]=Ce.useState(u);VA(()=>{p.current=!1,g.current=u;for(let H=0;H<P.length;H++){const $=Jf(P[H]);d.includes($)?m.delete($):m.get($)!==!0&&m.set($,!1)}},[P,d.length,d.join("-")]);const b=[];if(u!==A){let H=[...u];for(let $=0;$<P.length;$++){const J=P[$],O=Jf(J);d.includes(O)||(H.splice($,0,J),b.push(J))}s==="wait"&&b.length&&(H=b),_(p_(H)),x(u);return}const{forceRender:N}=Ce.useContext(Qv);return U.jsx(U.Fragment,{children:P.map(H=>{const $=Jf(H),J=o&&!a?!1:u===P||d.includes($),O=()=>{if(m.has($))m.set($,!0);else return;let E=!0;m.forEach(C=>{C||(E=!1)}),E&&(N==null||N(),_(g.current),o&&(l==null||l()),r&&r())};return U.jsx(C6,{isPresent:J,initial:!p.current||n?void 0:!1,custom:J?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:J?void 0:O,children:H},$)})})},_i=t=>t;let X1=_i;function e2(t){let e;return()=>(e===void 0&&(e=t()),e)}const Pc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Eo=t=>t*1e3,To=t=>t/1e3,R6={skipAnimations:!1,useManualTiming:!1};function D6(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,d=!1,p=!1)=>{const m=p&&r?e:n;return d&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const Zf=["read","resolveKeyframes","update","preRender","render","postRender"],O6=40;function UA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Zf.reduce((_,b)=>(_[b]=D6(s),_),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:p,postRender:g}=o,m=()=>{const _=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,O6),1),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),p.process(i),g.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},A=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:Zf.reduce((_,b)=>{const N=o[b];return _[b]=(H,$=!1,J=!1)=>(n||A(),N.schedule(H,$,J)),_},{}),cancel:_=>{for(let b=0;b<Zf.length;b++)o[Zf[b]].cancel(_)},state:i,steps:o}}const{schedule:dn,cancel:Ga,state:lr,steps:b0}=UA(typeof requestAnimationFrame<"u"?requestAnimationFrame:_i,!0),zA=Ce.createContext({strict:!1}),m_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nc={};for(const t in m_)Nc[t]={isEnabled:e=>m_[t].some(n=>!!e[n])};function M6(t){for(const e in t)Nc[e]={...Nc[e],...t[e]}}const F6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||F6.has(t)}let qA=t=>!fm(t);function j6(t){t&&(qA=e=>e.startsWith("on")?!fm(e):t(e))}try{j6(require("@emotion/is-prop-valid").default)}catch{}function V6(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(qA(i)||n===!0&&fm(i)||!e&&!fm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function B6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const rg=Ce.createContext({});function Ed(t){return typeof t=="string"||Array.isArray(t)}function ig(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const t2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],n2=["initial",...t2];function sg(t){return ig(t.animate)||n2.some(e=>Ed(t[e]))}function HA(t){return!!(sg(t)||t.variants)}function U6(t,e){if(sg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ed(n)?n:void 0,animate:Ed(r)?r:void 0}}return t.inherit!==!1?e:{}}function z6(t){const{initial:e,animate:n}=U6(t,Ce.useContext(rg));return Ce.useMemo(()=>({initial:e,animate:n}),[g_(e),g_(n)])}function g_(t){return Array.isArray(t)?t.join(" "):t}const q6=Symbol.for("motionComponentSymbol");function ec(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function H6(t,e,n){return Ce.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ec(n)&&(n.current=r))},[e])}const r2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$6="framerAppearId",$A="data-"+r2($6),{schedule:i2,cancel:kU}=UA(queueMicrotask,!1),WA=Ce.createContext({});function W6(t,e,n,r,i){var s,o;const{visualElement:a}=Ce.useContext(rg),l=Ce.useContext(zA),u=Ce.useContext(ng),d=Ce.useContext(Jv).reducedMotion,p=Ce.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,m=Ce.useContext(WA);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&G6(p.current,n,i,m);const A=Ce.useRef(!1);Ce.useInsertionEffect(()=>{g&&A.current&&g.update(n,u)});const x=n[$A],P=Ce.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return VA(()=>{g&&(A.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),i2.render(g.render),P.current&&g.animationState&&g.animationState.animateChanges())}),Ce.useEffect(()=>{g&&(!P.current&&g.animationState&&g.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,x)}),P.current=!1))}),g}function G6(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:GA(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&ec(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function GA(t){if(t)return t.options.allowProjection!==!1?t.projection:GA(t.parent)}function K6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&M6(t);function a(u,d){let p;const g={...Ce.useContext(Jv),...u,layoutId:Y6(u)},{isStatic:m}=g,A=z6(u),x=r(u,m);if(!m&&Zv){Q6();const P=X6(g);p=P.MeasureLayout,A.visualElement=W6(i,x,g,e,P.ProjectionNode)}return U.jsxs(rg.Provider,{value:A,children:[p&&A.visualElement?U.jsx(p,{visualElement:A.visualElement,...g}):null,n(i,u,H6(x,A.visualElement,d),x,m,A.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=Ce.forwardRef(a);return l[q6]=i,l}function Y6({layoutId:t}){const e=Ce.useContext(Qv).id;return e&&t!==void 0?e+"-"+t:t}function Q6(t,e){Ce.useContext(zA).strict}function X6(t){const{drag:e,layout:n}=Nc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const J6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function s2(t){return typeof t!="string"||t.includes("-")?!1:!!(J6.indexOf(t)>-1||/[A-Z]/u.test(t))}function y_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function o2(t,e,n,r){if(typeof e=="function"){const[i,s]=y_(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=y_(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const J1=t=>Array.isArray(t),Z6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),eC=t=>J1(t)?t[t.length-1]||0:t,Lr=t=>!!(t&&t.getVelocity);function Ap(t){const e=Lr(t)?t.get():t;return Z6(e)?e.toValue():e}function tC({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:nC(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const KA=t=>(e,n)=>{const r=Ce.useContext(rg),i=Ce.useContext(ng),s=()=>tC(t,e,r,i);return n?s():Xv(s)};function nC(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=Ap(s[g]);let{initial:o,animate:a}=t;const l=sg(t),u=HA(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const p=d?a:o;if(p&&typeof p!="boolean"&&!ig(p)){const g=Array.isArray(p)?p:[p];for(let m=0;m<g.length;m++){const A=o2(t,g[m]);if(A){const{transitionEnd:x,transition:P,..._}=A;for(const b in _){let N=_[b];if(Array.isArray(N)){const H=d?N.length-1:0;N=N[H]}N!==null&&(i[b]=N)}for(const b in x)i[b]=x[b]}}}return i}const qc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],su=new Set(qc),YA=t=>e=>typeof e=="string"&&e.startsWith(t),QA=YA("--"),rC=YA("var(--"),a2=t=>rC(t)?iC.test(t.split("/*")[0].trim()):!1,iC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,XA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Lo=(t,e,n)=>n>e?e:n<t?t:n,Hc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Td={...Hc,transform:t=>Lo(0,1,t)},ep={...Hc,default:1},Gd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wa=Gd("deg"),zs=Gd("%"),lt=Gd("px"),sC=Gd("vh"),oC=Gd("vw"),v_={...zs,parse:t=>zs.parse(t)/100,transform:t=>zs.transform(t*100)},aC={borderWidth:lt,borderTopWidth:lt,borderRightWidth:lt,borderBottomWidth:lt,borderLeftWidth:lt,borderRadius:lt,radius:lt,borderTopLeftRadius:lt,borderTopRightRadius:lt,borderBottomRightRadius:lt,borderBottomLeftRadius:lt,width:lt,maxWidth:lt,height:lt,maxHeight:lt,top:lt,right:lt,bottom:lt,left:lt,padding:lt,paddingTop:lt,paddingRight:lt,paddingBottom:lt,paddingLeft:lt,margin:lt,marginTop:lt,marginRight:lt,marginBottom:lt,marginLeft:lt,backgroundPositionX:lt,backgroundPositionY:lt},lC={rotate:wa,rotateX:wa,rotateY:wa,rotateZ:wa,scale:ep,scaleX:ep,scaleY:ep,scaleZ:ep,skew:wa,skewX:wa,skewY:wa,distance:lt,translateX:lt,translateY:lt,translateZ:lt,x:lt,y:lt,z:lt,perspective:lt,transformPerspective:lt,opacity:Td,originX:v_,originY:v_,originZ:lt},w_={...Hc,transform:Math.round},l2={...aC,...lC,zIndex:w_,size:lt,fillOpacity:Td,strokeOpacity:Td,numOctaves:w_},uC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cC=qc.length;function hC(t,e,n){let r="",i=!0;for(let s=0;s<cC;s++){const o=qc[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=XA(a,l2[o]);if(!l){i=!1;const d=uC[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function u2(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(su.has(l)){o=!0;continue}else if(QA(l)){i[l]=u;continue}else{const d=XA(u,l2[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=hC(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${u} ${d}`}}const dC={offset:"stroke-dashoffset",array:"stroke-dasharray"},fC={offset:"strokeDashoffset",array:"strokeDasharray"};function pC(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?dC:fC;t[s.offset]=lt.transform(-r);const o=lt.transform(e),a=lt.transform(n);t[s.array]=`${o} ${a}`}function __(t,e,n){return typeof t=="string"?t:lt.transform(e+n*t)}function mC(t,e,n){const r=__(e,t.x,t.width),i=__(n,t.y,t.height);return`${r} ${i}`}function c2(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,p){if(u2(t,u,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:m,dimensions:A}=t;g.transform&&(A&&(m.transform=g.transform),delete g.transform),A&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=mC(A,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&pC(g,o,a,l,!1)}const h2=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),JA=()=>({...h2(),attrs:{}}),d2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ZA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const e3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function t3(t,e,n,r){ZA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(e3.has(i)?i:r2(i),e.attrs[i])}const pm={};function gC(t){Object.assign(pm,t)}function n3(t,{layout:e,layoutId:n}){return su.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pm[t]||t==="opacity")}function f2(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Lr(i[o])||e.style&&Lr(e.style[o])||n3(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function r3(t,e,n){const r=f2(t,e,n);for(const i in t)if(Lr(t[i])||Lr(e[i])){const s=qc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function yC(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const b_=["x","y","width","height","cx","cy","r"],vC={useVisualState:KA({scrapeMotionValuesFromProps:r3,createRenderState:JA,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(su.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<b_.length;a++){const l=b_[a];t[l]!==e[l]&&(o=!0)}o&&dn.read(()=>{yC(n,r),dn.render(()=>{c2(r,i,d2(n.tagName),t.transformTemplate),t3(n,r)})})}})},wC={useVisualState:KA({scrapeMotionValuesFromProps:f2,createRenderState:h2})};function i3(t,e,n){for(const r in e)!Lr(e[r])&&!n3(r,n)&&(t[r]=e[r])}function _C({transformTemplate:t},e){return Ce.useMemo(()=>{const n=h2();return u2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bC(t,e){const n=t.style||{},r={};return i3(r,n,t),Object.assign(r,_C(t,e)),r}function xC(t,e){const n={},r=bC(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function SC(t,e,n,r){const i=Ce.useMemo(()=>{const s=JA();return c2(s,e,d2(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};i3(s,t.style,t),i.style={...s,...i.style}}return i}function AC(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(s2(n)?SC:xC)(r,s,o,n),u=V6(r,typeof n=="string",t),d=n!==Ce.Fragment?{...u,...l,ref:i}:{},{children:p}=r,g=Ce.useMemo(()=>Lr(p)?p.get():p,[p]);return Ce.createElement(n,{...d,children:g})}}function EC(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...s2(r)?vC:wC,preloadedFeatures:t,useRender:AC(i),createVisualElement:e,Component:r};return K6(o)}}function s3(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function og(t,e,n){const r=t.getProps();return o2(r,e,n!==void 0?n:r.custom,t)}const TC=e2(()=>window.ScrollTimeline!==void 0);class IC{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(TC()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class PC extends IC{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function p2(t,e){return t?t[e]||t.default||t:void 0}const Z1=2e4;function o3(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Z1;)e+=n,r=t.next(e);return e>=Z1?1/0:e}function m2(t){return typeof t=="function"}function x_(t,e){t.timeline=e,t.onfinish=null}const g2=t=>Array.isArray(t)&&typeof t[0]=="number",NC={linearEasing:void 0};function kC(t,e){const n=e2(t);return()=>{var r;return(r=NC[e])!==null&&r!==void 0?r:n()}}const mm=kC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),a3=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Pc(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function l3(t){return!!(typeof t=="function"&&mm()||!t||typeof t=="string"&&(t in ey||mm())||g2(t)||Array.isArray(t)&&t.every(l3))}const Oh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ey={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oh([0,.65,.55,1]),circOut:Oh([.55,0,1,.45]),backIn:Oh([.31,.01,.66,-.59]),backOut:Oh([.33,1.53,.69,.99])};function u3(t,e){if(t)return typeof t=="function"&&mm()?a3(t,e):g2(t)?Oh(t):Array.isArray(t)?t.map(n=>u3(n,e)||ey.easeOut):ey[t]}const as={x:!1,y:!1};function c3(){return as.x||as.y}function CC(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function h3(t,e){const n=CC(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function S_(t){return e=>{e.pointerType==="touch"||c3()||t(e)}}function LC(t,e,n={}){const[r,i,s]=h3(t,n),o=S_(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const d=S_(p=>{u(p),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const d3=(t,e)=>e?t===e?!0:d3(t,e.parentElement):!1,y2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,RC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DC(t){return RC.has(t.tagName)||t.tabIndex!==-1}const Mh=new WeakSet;function A_(t){return e=>{e.key==="Enter"&&t(e)}}function x0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const OC=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=A_(()=>{if(Mh.has(n))return;x0(n,"down");const i=A_(()=>{x0(n,"up")}),s=()=>x0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function E_(t){return y2(t)&&!c3()}function MC(t,e,n={}){const[r,i,s]=h3(t,n),o=a=>{const l=a.currentTarget;if(!E_(a)||Mh.has(l))return;Mh.add(l);const u=e(a),d=(m,A)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!E_(m)||!Mh.has(l))&&(Mh.delete(l),typeof u=="function"&&u(m,{success:A}))},p=m=>{d(m,n.useGlobalTarget||d3(l,m.target))},g=m=>{d(m,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(a=>{!DC(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>OC(u,i),i)}),s}function FC(t){return t==="x"||t==="y"?as[t]?null:(as[t]=!0,()=>{as[t]=!1}):as.x||as.y?null:(as.x=as.y=!0,()=>{as.x=as.y=!1})}const f3=new Set(["width","height","top","left","right","bottom",...qc]);let Ep;function jC(){Ep=void 0}const qs={now:()=>(Ep===void 0&&qs.set(lr.isProcessing||R6.useManualTiming?lr.timestamp:performance.now()),Ep),set:t=>{Ep=t,queueMicrotask(jC)}};function v2(t,e){t.indexOf(e)===-1&&t.push(e)}function w2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _2{constructor(){this.subscriptions=[]}add(e){return v2(this.subscriptions,e),()=>w2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function p3(t,e){return e?t*(1e3/e):0}const T_=30,VC=t=>!isNaN(parseFloat(t));class BC{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=qs.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=qs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=VC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _2);const r=this.events[e].add(n);return e==="change"?()=>{r(),dn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>T_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,T_);return p3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Id(t,e){return new BC(t,e)}function UC(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Id(n))}function zC(t,e){const n=og(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=eC(s[o]);UC(t,o,a)}}function qC(t){return!!(Lr(t)&&t.add)}function ty(t,e){const n=t.getValue("willChange");if(qC(n))return n.add(e)}function m3(t){return t.props[$A]}const g3=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,HC=1e-7,$C=12;function WC(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=g3(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>HC&&++a<$C);return o}function Kd(t,e,n,r){if(t===e&&n===r)return _i;const i=s=>WC(s,0,1,t,n);return s=>s===0||s===1?s:g3(i(s),e,r)}const y3=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,v3=t=>e=>1-t(1-e),w3=Kd(.33,1.53,.69,.99),b2=v3(w3),_3=y3(b2),b3=t=>(t*=2)<1?.5*b2(t):.5*(2-Math.pow(2,-10*(t-1))),x2=t=>1-Math.sin(Math.acos(t)),x3=v3(x2),S3=y3(x2),A3=t=>/^0[^.\s]+$/u.test(t);function GC(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||A3(t):!0}const Xh=t=>Math.round(t*1e5)/1e5,S2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KC(t){return t==null}const YC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,A2=(t,e)=>n=>!!(typeof n=="string"&&YC.test(n)&&n.startsWith(t)||e&&!KC(n)&&Object.prototype.hasOwnProperty.call(n,e)),E3=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(S2);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},QC=t=>Lo(0,255,t),S0={...Hc,transform:t=>Math.round(QC(t))},Ol={test:A2("rgb","red"),parse:E3("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+S0.transform(t)+", "+S0.transform(e)+", "+S0.transform(n)+", "+Xh(Td.transform(r))+")"};function XC(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ny={test:A2("#"),parse:XC,transform:Ol.transform},tc={test:A2("hsl","hue"),parse:E3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+zs.transform(Xh(e))+", "+zs.transform(Xh(n))+", "+Xh(Td.transform(r))+")"},Tr={test:t=>Ol.test(t)||ny.test(t)||tc.test(t),parse:t=>Ol.test(t)?Ol.parse(t):tc.test(t)?tc.parse(t):ny.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ol.transform(t):tc.transform(t)},JC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZC(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(S2))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(JC))===null||n===void 0?void 0:n.length)||0)>0}const T3="number",I3="color",eL="var",tL="var(",I_="${}",nL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pd(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(nL,l=>(Tr.test(l)?(r.color.push(s),i.push(I3),n.push(Tr.parse(l))):l.startsWith(tL)?(r.var.push(s),i.push(eL),n.push(l)):(r.number.push(s),i.push(T3),n.push(parseFloat(l))),++s,I_)).split(I_);return{values:n,split:a,indexes:r,types:i}}function P3(t){return Pd(t).values}function N3(t){const{split:e,types:n}=Pd(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===T3?s+=Xh(i[o]):a===I3?s+=Tr.transform(i[o]):s+=i[o]}return s}}const rL=t=>typeof t=="number"?0:t;function iL(t){const e=P3(t);return N3(t)(e.map(rL))}const Ka={test:ZC,parse:P3,createTransformer:N3,getAnimatableNone:iL},sL=new Set(["brightness","contrast","saturate","opacity"]);function oL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(S2)||[];if(!r)return t;const i=n.replace(r,"");let s=sL.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const aL=/\b([a-z-]*)\(.*?\)/gu,ry={...Ka,getAnimatableNone:t=>{const e=t.match(aL);return e?e.map(oL).join(" "):t}},lL={...l2,color:Tr,backgroundColor:Tr,outlineColor:Tr,fill:Tr,stroke:Tr,borderColor:Tr,borderTopColor:Tr,borderRightColor:Tr,borderBottomColor:Tr,borderLeftColor:Tr,filter:ry,WebkitFilter:ry},E2=t=>lL[t];function k3(t,e){let n=E2(t);return n!==ry&&(n=Ka),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uL=new Set(["auto","none","0"]);function cL(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!uL.has(s)&&Pd(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=k3(n,i)}const P_=t=>t===Hc||t===lt,N_=(t,e)=>parseFloat(t.split(", ")[e]),k_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return N_(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?N_(s[1],t):0}},hL=new Set(["x","y","z"]),dL=qc.filter(t=>!hL.has(t));function fL(t){const e=[];return dL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const kc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:k_(4,13),y:k_(5,14)};kc.translateX=kc.x;kc.translateY=kc.y;const Bl=new Set;let iy=!1,sy=!1;function C3(){if(sy){const t=Array.from(Bl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=fL(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sy=!1,iy=!1,Bl.forEach(t=>t.complete()),Bl.clear()}function L3(){Bl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sy=!0)})}function pL(){L3(),C3()}class T2{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bl.add(this),iy||(iy=!0,dn.read(L3),dn.resolveKeyframes(C3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const R3=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),mL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gL(t){const e=mL.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function D3(t,e,n=1){const[r,i]=gL(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return R3(o)?parseFloat(o):o}return a2(i)?D3(i,e,n+1):i}const O3=t=>e=>e.test(t),yL={test:t=>t==="auto",parse:t=>t},M3=[Hc,lt,zs,wa,oC,sC,yL],C_=t=>M3.find(O3(t));class F3 extends T2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),a2(u))){const d=D3(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!f3.has(r)||e.length!==2)return;const[i,s]=e,o=C_(i),a=C_(s);if(o!==a)if(P_(o)&&P_(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)GC(e[i])&&r.push(i);r.length&&cL(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=kc[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const L_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ka.test(t)||t==="0")&&!t.startsWith("url("));function vL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function wL(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=L_(i,e),a=L_(s,e);return!o||!a?!1:vL(t)||(n==="spring"||m2(n))&&r}const _L=t=>t!==null;function ag(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(_L),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const bL=40;class j3{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qs.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>bL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&pL(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=qs.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!wL(e,r,i,s))if(o)this.options.duration=0;else{l&&l(ag(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const mn=(t,e,n)=>t+(e-t)*n;function A0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=A0(l,a,t+1/3),s=A0(l,a,t),o=A0(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function gm(t,e){return n=>n>0?e:t}const E0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},SL=[ny,Ol,tc],AL=t=>SL.find(e=>e.test(t));function R_(t){const e=AL(t);if(!e)return!1;let n=e.parse(t);return e===tc&&(n=xL(n)),n}const D_=(t,e)=>{const n=R_(t),r=R_(e);if(!n||!r)return gm(t,e);const i={...n};return s=>(i.red=E0(n.red,r.red,s),i.green=E0(n.green,r.green,s),i.blue=E0(n.blue,r.blue,s),i.alpha=mn(n.alpha,r.alpha,s),Ol.transform(i))},EL=(t,e)=>n=>e(t(n)),Yd=(...t)=>t.reduce(EL),oy=new Set(["none","hidden"]);function TL(t,e){return oy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function IL(t,e){return n=>mn(t,e,n)}function I2(t){return typeof t=="number"?IL:typeof t=="string"?a2(t)?gm:Tr.test(t)?D_:kL:Array.isArray(t)?V3:typeof t=="object"?Tr.test(t)?D_:PL:gm}function V3(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>I2(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function PL(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=I2(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function NL(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const kL=(t,e)=>{const n=Ka.createTransformer(e),r=Pd(t),i=Pd(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?oy.has(t)&&!i.values.length||oy.has(e)&&!r.values.length?TL(t,e):Yd(V3(NL(r,i),i.values),n):gm(t,e)};function B3(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mn(t,e,n):I2(t)(t,e)}const CL=5;function U3(t,e,n){const r=Math.max(e-CL,0);return p3(n-t(r),e-r)}const An={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},T0=.001;function LL({duration:t=An.duration,bounce:e=An.bounce,velocity:n=An.velocity,mass:r=An.mass}){let i,s,o=1-e;o=Lo(An.minDamping,An.maxDamping,o),t=Lo(An.minDuration,An.maxDuration,To(t)),o<1?(i=u=>{const d=u*o,p=d*t,g=d-n,m=ay(u,o),A=Math.exp(-p);return T0-g/m*A},s=u=>{const p=u*o*t,g=p*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,A=Math.exp(-p),x=ay(Math.pow(u,2),o);return(-i(u)+T0>0?-1:1)*((g-m)*A)/x}):(i=u=>{const d=Math.exp(-u*t),p=(u-n)*t+1;return-T0+d*p},s=u=>{const d=Math.exp(-u*t),p=(n-u)*(t*t);return d*p});const a=5/t,l=DL(i,s,a);if(t=Eo(t),isNaN(l))return{stiffness:An.stiffness,damping:An.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const RL=12;function DL(t,e,n){let r=n;for(let i=1;i<RL;i++)r=r-t(r)/e(r);return r}function ay(t,e){return t*Math.sqrt(1-e*e)}const OL=["duration","bounce"],ML=["stiffness","damping","mass"];function O_(t,e){return e.some(n=>t[n]!==void 0)}function FL(t){let e={velocity:An.velocity,stiffness:An.stiffness,damping:An.damping,mass:An.mass,isResolvedFromDuration:!1,...t};if(!O_(t,ML)&&O_(t,OL))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Lo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:An.mass,stiffness:i,damping:s}}else{const n=LL(t);e={...e,...n,mass:An.mass},e.isResolvedFromDuration=!0}return e}function z3(t=An.visualDuration,e=An.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:p,velocity:g,isResolvedFromDuration:m}=FL({...n,velocity:-To(n.velocity||0)}),A=g||0,x=u/(2*Math.sqrt(l*d)),P=o-s,_=To(Math.sqrt(l/d)),b=Math.abs(P)<5;r||(r=b?An.restSpeed.granular:An.restSpeed.default),i||(i=b?An.restDelta.granular:An.restDelta.default);let N;if(x<1){const $=ay(_,x);N=J=>{const O=Math.exp(-x*_*J);return o-O*((A+x*_*P)/$*Math.sin($*J)+P*Math.cos($*J))}}else if(x===1)N=$=>o-Math.exp(-_*$)*(P+(A+_*P)*$);else{const $=_*Math.sqrt(x*x-1);N=J=>{const O=Math.exp(-x*_*J),E=Math.min($*J,300);return o-O*((A+x*_*P)*Math.sinh(E)+$*P*Math.cosh(E))/$}}const H={calculatedDuration:m&&p||null,next:$=>{const J=N($);if(m)a.done=$>=p;else{let O=0;x<1&&(O=$===0?Eo(A):U3(N,$,J));const E=Math.abs(O)<=r,C=Math.abs(o-J)<=i;a.done=E&&C}return a.value=a.done?o:J,a},toString:()=>{const $=Math.min(o3(H),Z1),J=a3(O=>H.next($*O).value,$,30);return $+"ms "+J}};return H}function M_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const p=t[0],g={done:!1,value:p},m=E=>a!==void 0&&E<a||l!==void 0&&E>l,A=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let x=n*e;const P=p+x,_=o===void 0?P:o(P);_!==P&&(x=_-p);const b=E=>-x*Math.exp(-E/r),N=E=>_+b(E),H=E=>{const C=b(E),V=N(E);g.done=Math.abs(C)<=u,g.value=g.done?_:V};let $,J;const O=E=>{m(g.value)&&($=E,J=z3({keyframes:[g.value,A(g.value)],velocity:U3(N,E,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return O(0),{calculatedDuration:null,next:E=>{let C=!1;return!J&&$===void 0&&(C=!0,H(E),O(E)),$!==void 0&&E>=$?J.next(E-$):(!C&&H(E),g)}}}const jL=Kd(.42,0,1,1),VL=Kd(0,0,.58,1),q3=Kd(.42,0,.58,1),BL=t=>Array.isArray(t)&&typeof t[0]!="number",F_={linear:_i,easeIn:jL,easeInOut:q3,easeOut:VL,circIn:x2,circInOut:S3,circOut:x3,backIn:b2,backInOut:_3,backOut:w3,anticipate:b3},j_=t=>{if(g2(t)){X1(t.length===4);const[e,n,r,i]=t;return Kd(e,n,r,i)}else if(typeof t=="string")return X1(F_[t]!==void 0),F_[t];return t};function UL(t,e,n){const r=[],i=n||B3,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||_i:e;a=Yd(l,a)}r.push(a)}return r}function zL(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(X1(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=UL(e,r,i),l=a.length,u=d=>{if(o&&d<t[0])return e[0];let p=0;if(l>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const g=Pc(t[p],t[p+1],d);return a[p](g)};return n?d=>u(Lo(t[0],t[s-1],d)):u}function qL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Pc(0,e,r);t.push(mn(n,1,i))}}function HL(t){const e=[0];return qL(e,t.length-1),e}function $L(t,e){return t.map(n=>n*e)}function WL(t,e){return t.map(()=>e||q3).splice(0,t.length-1)}function ym({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=BL(r)?r.map(j_):j_(r),s={done:!1,value:e[0]},o=$L(n&&n.length===e.length?n:HL(e),t),a=zL(o,e,{ease:Array.isArray(i)?i:WL(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const GL=t=>{const e=({timestamp:n})=>t(n);return{start:()=>dn.update(e,!0),stop:()=>Ga(e),now:()=>lr.isProcessing?lr.timestamp:qs.now()}},KL={decay:M_,inertia:M_,tween:ym,keyframes:ym,spring:z3},YL=t=>t/100;class P2 extends j3{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||T2,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=m2(n)?n:KL[n]||ym;let l,u;a!==ym&&typeof e[0]!="number"&&(l=Yd(YL,B3(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=o3(d));const{calculatedDuration:p}=d,g=p+i,m=g*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:p,resolvedDuration:g,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:p}=r;if(this.startTime===null)return s.next(0);const{delay:g,repeat:m,repeatType:A,repeatDelay:x,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-g*(this.speed>=0?1:-1),b=this.speed>=0?_<0:_>d;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let N=this.currentTime,H=s;if(m){const E=Math.min(this.currentTime,d)/p;let C=Math.floor(E),V=E%1;!V&&E>=1&&(V=1),V===1&&C--,C=Math.min(C,m+1),!!(C%2)&&(A==="reverse"?(V=1-V,x&&(V-=x/p)):A==="mirror"&&(H=o)),N=Lo(0,1,V)*p}const $=b?{done:!1,value:l[0]}:H.next(N);a&&($.value=a($.value));let{done:J}=$;!b&&u!==null&&(J=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return O&&i!==void 0&&($.value=ag(l,this.options,i)),P&&P($.value),O&&this.finish(),$}get duration(){const{resolved:e}=this;return e?To(e.calculatedDuration):0}get time(){return To(this.currentTime)}set time(e){e=Eo(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=To(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=GL,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const QL=new Set(["opacity","clipPath","filter","transform"]);function XL(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=u3(a,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const JL=e2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),vm=10,ZL=2e4;function eR(t){return m2(t.type)||t.type==="spring"||!l3(t.ease)}function tR(t,e){const n=new P2({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<ZL;)r=n.sample(s),i.push(r.value),s+=vm;return{times:void 0,keyframes:i,duration:s-vm,ease:"linear"}}const H3={anticipate:b3,backInOut:_3,circInOut:S3};function nR(t){return t in H3}class V_ extends j3{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new F3(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&mm()&&nR(s)&&(s=H3[s]),eR(this.options)){const{onComplete:p,onUpdate:g,motionValue:m,element:A,...x}=this.options,P=tR(e,x);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,i=P.times,s=P.ease,o="keyframes"}const d=XL(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(x_(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;a.set(ag(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return To(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return To(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Eo(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return _i;const{animation:r}=n;x_(r,e)}return _i}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:p,element:g,...m}=this.options,A=new P2({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),x=Eo(this.time);u.setWithVelocity(A.sample(x-vm).value,A.sample(x).value,vm)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return JL()&&r&&QL.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const rR={type:"spring",stiffness:500,damping:25,restSpeed:10},iR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sR={type:"keyframes",duration:.8},oR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aR=(t,{keyframes:e})=>e.length>2?sR:su.has(t)?t.startsWith("scale")?iR(e[1]):rR:oR;function lR({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const N2=(t,e,n,r={},i,s)=>o=>{const a=p2(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Eo(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:g=>{e.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};lR(a)||(d={...d,...aR(t,d)}),d.duration&&(d.duration=Eo(d.duration)),d.repeatDelay&&(d.repeatDelay=Eo(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!s&&e.get()!==void 0){const g=ag(d.keyframes,a);if(g!==void 0)return dn.update(()=>{d.onUpdate(g),d.onComplete()}),new PC([])}return!s&&V_.supports(d)?new V_(d):new P2(d)};function uR({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function $3(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const p in l){const g=t.getValue(p,(s=t.latestValues[p])!==null&&s!==void 0?s:null),m=l[p];if(m===void 0||d&&uR(d,p))continue;const A={delay:n,...p2(o||{},p)};let x=!1;if(window.MotionHandoffAnimation){const _=m3(t);if(_){const b=window.MotionHandoffAnimation(_,p,dn);b!==null&&(A.startTime=b,x=!0)}}ty(t,p),g.start(N2(p,g,m,t.shouldReduceMotion&&f3.has(p)?{type:!1}:A,t,x));const P=g.animation;P&&u.push(P)}return a&&Promise.all(u).then(()=>{dn.update(()=>{a&&zC(t,a)})}),u}function ly(t,e,n={}){var r;const i=og(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all($3(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:g}=s;return cR(t,e,d+u,p,g,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function cR(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(hR).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(ly(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function hR(t,e){return t.sortNodePosition(e)}function dR(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ly(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ly(t,e,n);else{const i=typeof e=="function"?og(t,e,n.custom):e;r=Promise.all($3(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const fR=n2.length;function W3(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?W3(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fR;n++){const r=n2[n],i=t.props[r];(Ed(i)||i===!1)&&(e[r]=i)}return e}const pR=[...t2].reverse(),mR=t2.length;function gR(t){return e=>Promise.all(e.map(({animation:n,options:r})=>dR(t,n,r)))}function yR(t){let e=gR(t),n=B_(),r=!0;const i=l=>(u,d)=>{var p;const g=og(t,d,l==="exit"?(p=t.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(g){const{transition:m,transitionEnd:A,...x}=g;u={...u,...x,...A}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,d=W3(t.parent)||{},p=[],g=new Set;let m={},A=1/0;for(let P=0;P<mR;P++){const _=pR[P],b=n[_],N=u[_]!==void 0?u[_]:d[_],H=Ed(N),$=_===l?b.isActive:null;$===!1&&(A=P);let J=N===d[_]&&N!==u[_]&&H;if(J&&r&&t.manuallyAnimateOnMount&&(J=!1),b.protectedKeys={...m},!b.isActive&&$===null||!N&&!b.prevProp||ig(N)||typeof N=="boolean")continue;const O=vR(b.prevProp,N);let E=O||_===l&&b.isActive&&!J&&H||P>A&&H,C=!1;const V=Array.isArray(N)?N:[N];let I=V.reduce(i(_),{});$===!1&&(I={});const{prevResolvedValues:k={}}=b,L={...k,...I},Z=me=>{E=!0,g.has(me)&&(C=!0,g.delete(me)),b.needsAnimating[me]=!0;const X=t.getValue(me);X&&(X.liveStyle=!1)};for(const me in L){const X=I[me],ue=k[me];if(m.hasOwnProperty(me))continue;let ce=!1;J1(X)&&J1(ue)?ce=!s3(X,ue):ce=X!==ue,ce?X!=null?Z(me):g.add(me):X!==void 0&&g.has(me)?Z(me):b.protectedKeys[me]=!0}b.prevProp=N,b.prevResolvedValues=I,b.isActive&&(m={...m,...I}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(J&&O)||C)&&p.push(...V.map(me=>({animation:me,options:{type:_}})))}if(g.size){const P={};g.forEach(_=>{const b=t.getBaseTarget(_),N=t.getValue(_);N&&(N.liveStyle=!0),P[_]=b??null}),p.push({animation:P})}let x=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(g=>{var m;return(m=g.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const p=o(l);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=B_(),r=!0}}}function vR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!s3(e,t):!1}function Al(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function B_(){return{animate:Al(!0),whileInView:Al(),whileHover:Al(),whileTap:Al(),whileDrag:Al(),whileFocus:Al(),exit:Al()}}class rl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class wR extends rl{constructor(e){super(e),e.animationState||(e.animationState=yR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ig(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let _R=0;class bR extends rl{constructor(){super(...arguments),this.id=_R++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const xR={animation:{Feature:wR},exit:{Feature:bR}};function Nd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Qd(t){return{point:{x:t.pageX,y:t.pageY}}}const SR=t=>e=>y2(e)&&t(e,Qd(e));function Jh(t,e,n,r){return Nd(t,e,SR(n),r)}const U_=(t,e)=>Math.abs(t-e);function AR(t,e){const n=U_(t.x,e.x),r=U_(t.y,e.y);return Math.sqrt(n**2+r**2)}class G3{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=P0(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=AR(p.offset,{x:0,y:0})>=3;if(!g&&!m)return;const{point:A}=p,{timestamp:x}=lr;this.history.push({...A,timestamp:x});const{onStart:P,onMove:_}=this.handlers;g||(P&&P(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=I0(g,this.transformPagePoint),dn.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:m,onSessionEnd:A,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=P0(p.type==="pointercancel"?this.lastMoveEventInfo:I0(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(p,P),A&&A(p,P)},!y2(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Qd(e),a=I0(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=lr;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,P0(a,this.history)),this.removeListeners=Yd(Jh(this.contextWindow,"pointermove",this.handlePointerMove),Jh(this.contextWindow,"pointerup",this.handlePointerUp),Jh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ga(this.updatePoint)}}function I0(t,e){return e?{point:e(t.point)}:t}function z_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function P0({point:t},e){return{point:t,delta:z_(t,K3(e)),offset:z_(t,ER(e)),velocity:TR(e,.1)}}function ER(t){return t[0]}function K3(t){return t[t.length-1]}function TR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=K3(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Eo(e)));)n--;if(!r)return{x:0,y:0};const s=To(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Y3=1e-4,IR=1-Y3,PR=1+Y3,Q3=.01,NR=0-Q3,kR=0+Q3;function Ai(t){return t.max-t.min}function CR(t,e,n){return Math.abs(t-e)<=n}function q_(t,e,n,r=.5){t.origin=r,t.originPoint=mn(e.min,e.max,t.origin),t.scale=Ai(n)/Ai(e),t.translate=mn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=IR&&t.scale<=PR||isNaN(t.scale))&&(t.scale=1),(t.translate>=NR&&t.translate<=kR||isNaN(t.translate))&&(t.translate=0)}function Zh(t,e,n,r){q_(t.x,e.x,n.x,r?r.originX:void 0),q_(t.y,e.y,n.y,r?r.originY:void 0)}function H_(t,e,n){t.min=n.min+e.min,t.max=t.min+Ai(e)}function LR(t,e,n){H_(t.x,e.x,n.x),H_(t.y,e.y,n.y)}function $_(t,e,n){t.min=e.min-n.min,t.max=t.min+Ai(e)}function ed(t,e,n){$_(t.x,e.x,n.x),$_(t.y,e.y,n.y)}function RR(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?mn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?mn(n,t,r.max):Math.min(t,n)),t}function W_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function DR(t,{top:e,left:n,bottom:r,right:i}){return{x:W_(t.x,n,i),y:W_(t.y,e,r)}}function G_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function OR(t,e){return{x:G_(t.x,e.x),y:G_(t.y,e.y)}}function MR(t,e){let n=.5;const r=Ai(t),i=Ai(e);return i>r?n=Pc(e.min,e.max-r,t.min):r>i&&(n=Pc(t.min,t.max-i,e.min)),Lo(0,1,n)}function FR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const uy=.35;function jR(t=uy){return t===!1?t=0:t===!0&&(t=uy),{x:K_(t,"left","right"),y:K_(t,"top","bottom")}}function K_(t,e,n){return{min:Y_(t,e),max:Y_(t,n)}}function Y_(t,e){return typeof t=="number"?t:t[e]||0}const Q_=()=>({translate:0,scale:1,origin:0,originPoint:0}),nc=()=>({x:Q_(),y:Q_()}),X_=()=>({min:0,max:0}),Cn=()=>({x:X_(),y:X_()});function Vi(t){return[t("x"),t("y")]}function X3({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function VR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function BR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function N0(t){return t===void 0||t===1}function cy({scale:t,scaleX:e,scaleY:n}){return!N0(t)||!N0(e)||!N0(n)}function Il(t){return cy(t)||J3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function J3(t){return J_(t.x)||J_(t.y)}function J_(t){return t&&t!=="0%"}function wm(t,e,n){const r=t-n,i=e*r;return n+i}function Z_(t,e,n,r,i){return i!==void 0&&(t=wm(t,i,r)),wm(t,n,r)+e}function hy(t,e=0,n=1,r,i){t.min=Z_(t.min,e,n,r,i),t.max=Z_(t.max,e,n,r,i)}function Z3(t,{x:e,y:n}){hy(t.x,e.translate,e.scale,e.originPoint),hy(t.y,n.translate,n.scale,n.originPoint)}const eb=.999999999999,tb=1.0000000000001;function UR(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ic(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Z3(t,o)),r&&Il(s.latestValues)&&ic(t,s.latestValues))}e.x<tb&&e.x>eb&&(e.x=1),e.y<tb&&e.y>eb&&(e.y=1)}function rc(t,e){t.min=t.min+e,t.max=t.max+e}function nb(t,e,n,r,i=.5){const s=mn(t.min,t.max,i);hy(t,e,n,s,r)}function ic(t,e){nb(t.x,e.x,e.scaleX,e.scale,e.originX),nb(t.y,e.y,e.scaleY,e.scale,e.originY)}function eE(t,e){return X3(BR(t.getBoundingClientRect(),e))}function zR(t,e,n){const r=eE(t,n),{scroll:i}=e;return i&&(rc(r.x,i.offset.x),rc(r.y,i.offset.y)),r}const tE=({current:t})=>t?t.ownerDocument.defaultView:null,qR=new WeakMap;class HR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qd(d).point)},s=(d,p)=>{const{drag:g,dragPropagation:m,onDragStart:A}=this.getProps();if(g&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FC(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vi(P=>{let _=this.getAxisMotionValue(P).get()||0;if(zs.test(_)){const{projection:b}=this.visualElement;if(b&&b.layout){const N=b.layout.layoutBox[P];N&&(_=Ai(N)*(parseFloat(_)/100))}}this.originPoint[P]=_}),A&&dn.postRender(()=>A(d,p)),ty(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,p)=>{const{dragPropagation:g,dragDirectionLock:m,onDirectionLock:A,onDrag:x}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:P}=p;if(m&&this.currentDirection===null){this.currentDirection=$R(P),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",p.point,P),this.updateAxis("y",p.point,P),this.visualElement.render(),x&&x(d,p)},a=(d,p)=>this.stop(d,p),l=()=>Vi(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new G3(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:tE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&dn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!tp(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=RR(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&ec(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=DR(i.layoutBox,n):this.constraints=!1,this.elastic=jR(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=FR(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ec(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=zR(r,i.root,this.visualElement.getTransformPagePoint());let o=OR(i.layout.layoutBox,s);if(n){const a=n(VR(o));this.hasMutatedConstraints=!!a,a&&(o=X3(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Vi(d=>{if(!tp(d,n,this.currentDirection))return;let p=l&&l[d]||{};o&&(p={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,A={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(d,A)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ty(this.visualElement,e),r.start(N2(e,r,0,n,this.visualElement,!1))}stopAnimation(){Vi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vi(n=>{const{drag:r}=this.getProps();if(!tp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-mn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ec(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Vi(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=MR({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vi(o=>{if(!tp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(mn(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;qR.set(this.visualElement,this);const e=this.visualElement.current,n=Jh(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ec(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),dn.read(r);const o=Nd(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Vi(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=l[d].translate,p.set(p.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=uy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function tp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $R(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class WR extends rl{constructor(e){super(e),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new HR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}unmount(){this.removeGroupControls(),this.removeListeners()}}const rb=t=>(e,n)=>{t&&dn.postRender(()=>t(e,n))};class GR extends rl{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(e){this.session=new G3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:rb(e),onStart:rb(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&dn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Jh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ib(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Th={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(lt.test(t))t=parseFloat(t);else return t;const n=ib(t,e.target.x),r=ib(t,e.target.y);return`${n}% ${r}%`}},KR={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ka.parse(t);if(i.length>5)return r;const s=Ka.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=mn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class YR extends Ce.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;gC(QR),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Tp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||dn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),i2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nE(t){const[e,n]=jA(),r=Ce.useContext(Qv);return U.jsx(YR,{...t,layoutGroup:r,switchLayoutGroup:Ce.useContext(WA),isPresent:e,safeToRemove:n})}const QR={borderRadius:{...Th,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Th,borderTopRightRadius:Th,borderBottomLeftRadius:Th,borderBottomRightRadius:Th,boxShadow:KR};function XR(t,e,n){const r=Lr(t)?t:Id(t);return r.start(N2("",r,e,n)),r.animation}function JR(t){return t instanceof SVGElement&&t.tagName!=="svg"}const ZR=(t,e)=>t.depth-e.depth;class e8{constructor(){this.children=[],this.isDirty=!1}add(e){v2(this.children,e),this.isDirty=!0}remove(e){w2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZR),this.isDirty=!1,this.children.forEach(e)}}function t8(t,e){const n=qs.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ga(r),t(s-e))};return dn.read(r,!0),()=>Ga(r)}const rE=["TopLeft","TopRight","BottomLeft","BottomRight"],n8=rE.length,sb=t=>typeof t=="string"?parseFloat(t):t,ob=t=>typeof t=="number"||lt.test(t);function r8(t,e,n,r,i,s){i?(t.opacity=mn(0,n.opacity!==void 0?n.opacity:1,i8(r)),t.opacityExit=mn(e.opacity!==void 0?e.opacity:1,0,s8(r))):s&&(t.opacity=mn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<n8;o++){const a=`border${rE[o]}Radius`;let l=ab(e,a),u=ab(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ob(l)===ob(u)?(t[a]=Math.max(mn(sb(l),sb(u),r),0),(zs.test(u)||zs.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=mn(e.rotate||0,n.rotate||0,r))}function ab(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const i8=iE(0,.5,x3),s8=iE(.5,.95,_i);function iE(t,e,n){return r=>r<t?0:r>e?1:n(Pc(t,e,r))}function lb(t,e){t.min=e.min,t.max=e.max}function ji(t,e){lb(t.x,e.x),lb(t.y,e.y)}function ub(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function cb(t,e,n,r,i){return t-=e,t=wm(t,1/n,r),i!==void 0&&(t=wm(t,1/i,r)),t}function o8(t,e=0,n=1,r=.5,i,s=t,o=t){if(zs.test(e)&&(e=parseFloat(e),e=mn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=mn(s.min,s.max,r);t===s&&(a-=e),t.min=cb(t.min,e,n,a,i),t.max=cb(t.max,e,n,a,i)}function hb(t,e,[n,r,i],s,o){o8(t,e[n],e[r],e[i],e.scale,s,o)}const a8=["x","scaleX","originX"],l8=["y","scaleY","originY"];function db(t,e,n,r){hb(t.x,e,a8,n?n.x:void 0,r?r.x:void 0),hb(t.y,e,l8,n?n.y:void 0,r?r.y:void 0)}function fb(t){return t.translate===0&&t.scale===1}function sE(t){return fb(t.x)&&fb(t.y)}function pb(t,e){return t.min===e.min&&t.max===e.max}function u8(t,e){return pb(t.x,e.x)&&pb(t.y,e.y)}function mb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function oE(t,e){return mb(t.x,e.x)&&mb(t.y,e.y)}function gb(t){return Ai(t.x)/Ai(t.y)}function yb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class c8{constructor(){this.members=[]}add(e){v2(this.members,e),e.scheduleRender()}remove(e){if(w2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h8(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:p,rotateY:g,skewX:m,skewY:A}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),m&&(r+=`skewX(${m}deg) `),A&&(r+=`skewY(${A}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Pl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Fh=typeof window<"u"&&window.MotionDebug!==void 0,k0=["","X","Y","Z"],d8={visibility:"hidden"},vb=1e3;let f8=0;function C0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function aE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=m3(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&aE(r)}function lE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=f8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fh&&(Pl.totalNodes=Pl.resolvedTargetDeltas=Pl.recalculatedProjection=0),this.nodes.forEach(g8),this.nodes.forEach(b8),this.nodes.forEach(x8),this.nodes.forEach(y8),Fh&&window.MotionDebug.record(Pl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new e8)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _2),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=JR(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=t8(g,250),Tp.hasAnimatedSinceResize&&(Tp.hasAnimatedSinceResize=!1,this.nodes.forEach(_b))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:m,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||I8,{onLayoutAnimationStart:P,onLayoutAnimationComplete:_}=d.getProps(),b=!this.targetLayout||!oE(this.targetLayout,A)||m,N=!g&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||g&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,N);const H={...p2(x,"layout"),onPlay:P,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else g||_b(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ga(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(S8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&aE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wb);return}this.isUpdating||this.nodes.forEach(w8),this.isUpdating=!1,this.nodes.forEach(_8),this.nodes.forEach(p8),this.nodes.forEach(m8),this.clearAllSnapshots();const a=qs.now();lr.delta=Lo(0,1e3/60,a-lr.timestamp),lr.timestamp=a,lr.isProcessing=!0,b0.update.process(lr),b0.preRender.process(lr),b0.render.process(lr),lr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,i2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(v8),this.sharedNodes.forEach(A8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!sE(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Il(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),P8(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Cn();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(N8))){const{scroll:d}=this.root;d&&(rc(l.x,d.offset.x),rc(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Cn();if(ji(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:p,options:g}=d;d!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&ji(l,o),rc(l.x,p.offset.x),rc(l.y,p.offset.y))}return l}applyTransform(o,a=!1){const l=Cn();ji(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ic(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Il(d.latestValues)&&ic(l,d.latestValues)}return Il(this.latestValues)&&ic(l,this.latestValues),l}removeTransform(o){const a=Cn();ji(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Il(u.latestValues))continue;cy(u.latestValues)&&u.updateSnapshot();const d=Cn(),p=u.measurePageBox();ji(d,p),db(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Il(this.latestValues)&&db(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=lr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cn(),this.relativeTargetOrigin=Cn(),ed(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Cn(),this.targetWithTransforms=Cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ji(this.target,this.layout.layoutBox),Z3(this.target,this.targetDelta)):ji(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cn(),this.relativeTargetOrigin=Cn(),ed(this.relativeTargetOrigin,this.target,m.target),ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fh&&Pl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||cy(this.parent.latestValues)||J3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===lr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;ji(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,m=this.treeScale.y;UR(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Cn());const{target:A}=a;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ub(this.prevProjectionDelta.x,this.projectionDelta.x),ub(this.prevProjectionDelta.y,this.projectionDelta.y)),Zh(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==m||!yb(this.projectionDelta.x,this.prevProjectionDelta.x)||!yb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A)),Fh&&Pl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nc(),this.projectionDelta=nc(),this.projectionDeltaWithTransform=nc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},p=nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Cn(),m=l?l.source:void 0,A=this.layout?this.layout.source:void 0,x=m!==A,P=this.getStack(),_=!P||P.members.length<=1,b=!!(x&&!_&&this.options.crossfade===!0&&!this.path.some(T8));this.animationProgress=0;let N;this.mixTargetDelta=H=>{const $=H/1e3;bb(p.x,o.x,$),bb(p.y,o.y,$),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ed(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E8(this.relativeTarget,this.relativeTargetOrigin,g,$),N&&u8(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Cn()),ji(N,this.relativeTarget)),x&&(this.animationValues=d,r8(d,u,this.latestValues,$,b,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ga(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dn.update(()=>{Tp.hasAnimatedSinceResize=!0,this.currentAnimation=XR(0,vb,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&uE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Cn();const p=Ai(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const g=Ai(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}ji(a,l),ic(a,d),Zh(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new c8),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&C0("z",o,u,this.animationValues);for(let d=0;d<k0.length;d++)C0(`rotate${k0[d]}`,o,u,this.animationValues),C0(`skew${k0[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return d8;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ap(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Ap(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Il(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=h8(this.projectionDeltaWithTransform,this.treeScale,g),d&&(u.transform=d(g,u.transform));const{x:m,y:A}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${A.origin*100}% 0`,p.animationValues?u.opacity=p===this?(l=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in pm){if(g[x]===void 0)continue;const{correct:P,applyTo:_}=pm[x],b=u.transform==="none"?g[x]:P(g[x],p);if(_){const N=_.length;for(let H=0;H<N;H++)u[_[H]]=b}else u[x]=b}return this.options.layoutId&&(u.pointerEvents=p===this?Ap(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(wb),this.root.sharedNodes.clear()}}}function p8(t){t.updateLayout()}function m8(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Vi(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],m=Ai(g);g.min=r[p].min,g.max=g.min+m}):uE(s,n.layoutBox,r)&&Vi(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],m=Ai(r[p]);g.max=g.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+m)});const a=nc();Zh(a,r,n.layoutBox);const l=nc();o?Zh(l,t.applyTransform(i,!0),n.measuredBox):Zh(l,r,n.layoutBox);const u=!sE(a);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:m}=p;if(g&&m){const A=Cn();ed(A,n.layoutBox,g.layoutBox);const x=Cn();ed(x,r,m.layoutBox),oE(A,x)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=A,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function g8(t){Fh&&Pl.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function y8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function v8(t){t.clearSnapshot()}function wb(t){t.clearMeasurements()}function w8(t){t.isLayoutDirty=!1}function _8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _b(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function b8(t){t.resolveTargetDelta()}function x8(t){t.calcProjection()}function S8(t){t.resetSkewAndRotation()}function A8(t){t.removeLeadSnapshot()}function bb(t,e,n){t.translate=mn(e.translate,0,n),t.scale=mn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function xb(t,e,n,r){t.min=mn(e.min,n.min,r),t.max=mn(e.max,n.max,r)}function E8(t,e,n,r){xb(t.x,e.x,n.x,r),xb(t.y,e.y,n.y,r)}function T8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const I8={duration:.45,ease:[.4,0,.1,1]},Sb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ab=Sb("applewebkit/")&&!Sb("chrome/")?Math.round:_i;function Eb(t){t.min=Ab(t.min),t.max=Ab(t.max)}function P8(t){Eb(t.x),Eb(t.y)}function uE(t,e,n){return t==="position"||t==="preserve-aspect"&&!CR(gb(e),gb(n),.2)}function N8(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const k8=lE({attachResizeListener:(t,e)=>Nd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),L0={current:void 0},cE=lE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!L0.current){const t=new k8({});t.mount(window),t.setOptions({layoutScroll:!0}),L0.current=t}return L0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),C8={pan:{Feature:GR},drag:{Feature:WR,ProjectionNode:cE,MeasureLayout:nE}};function Tb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&dn.postRender(()=>s(e,Qd(e)))}class L8 extends rl{mount(){const{current:e}=this.node;e&&(this.unmount=LC(e,n=>(Tb(this.node,n,"Start"),r=>Tb(this.node,r,"End"))))}unmount(){}}class R8 extends rl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yd(Nd(this.node.current,"focus",()=>this.onFocus()),Nd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ib(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&dn.postRender(()=>s(e,Qd(e)))}class D8 extends rl{mount(){const{current:e}=this.node;e&&(this.unmount=MC(e,n=>(Ib(this.node,n,"Start"),(r,{success:i})=>Ib(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dy=new WeakMap,R0=new WeakMap,O8=t=>{const e=dy.get(t.target);e&&e(t)},M8=t=>{t.forEach(O8)};function F8({root:t,...e}){const n=t||document;R0.has(n)||R0.set(n,{});const r=R0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(M8,{root:t,...e})),r[i]}function j8(t,e,n){const r=F8(e);return dy.set(t,n),r.observe(t),()=>{dy.delete(t),r.unobserve(t)}}const V8={some:0,all:1};class B8 extends rl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:V8[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),g=u?d:p;g&&g(l)};return j8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(U8(e,n))&&this.startObserver()}unmount(){}}function U8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const z8={inView:{Feature:B8},tap:{Feature:D8},focus:{Feature:R8},hover:{Feature:L8}},q8={layout:{ProjectionNode:cE,MeasureLayout:nE}},fy={current:null},hE={current:!1};function H8(){if(hE.current=!0,!!Zv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fy.current=t.matches;t.addListener(e),e()}else fy.current=!1}const $8=[...M3,Tr,Ka],W8=t=>$8.find(O3(t)),Pb=new WeakMap;function G8(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Lr(i))t.addValue(r,i);else if(Lr(s))t.addValue(r,Id(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Id(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Nb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class K8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=T2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=qs.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,dn.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=sg(n),this.isVariantNode=HA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in g){const A=g[m];l[m]!==void 0&&Lr(A)&&A.set(l[m],!1)}}mount(e){this.current=e,Pb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hE.current||H8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Pb.delete(this.current),this.projection&&this.projection.unmount(),Ga(this.notifyUpdate),Ga(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=su.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&dn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nc){const n=Nc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Nb.length;r++){const i=Nb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=G8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Id(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(R3(i)||A3(i))?i=parseFloat(i):!W8(i)&&Ka.test(n)&&(i=k3(e,n)),this.setBaseTarget(e,Lr(i)?i.get():i)),Lr(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=o2(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Lr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class dE extends K8{constructor(){super(...arguments),this.KeyframeResolver=F3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Y8(t){return window.getComputedStyle(t)}class Q8 extends dE{constructor(){super(...arguments),this.type="html",this.renderInstance=ZA}readValueFromInstance(e,n){if(su.has(n)){const r=E2(n);return r&&r.default||0}else{const r=Y8(e),i=(QA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return eE(e,n)}build(e,n,r){u2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return f2(e,n,r)}}class X8 extends dE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(su.has(n)){const r=E2(n);return r&&r.default||0}return n=e3.has(n)?n:r2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return r3(e,n,r)}build(e,n,r){c2(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){t3(e,n,r,i)}mount(e){this.isSVGTag=d2(e.tagName),super.mount(e)}}const J8=(t,e)=>s2(t)?new X8(e):new Q8(e,{allowProjection:t!==Ce.Fragment}),Z8=EC({...xR,...z8,...C8,...q8},J8),je=B6(Z8),fE=({size:t="medium",className:e="",height:n,width:r,animated:i=!0,onClick:s})=>{let o,a;if(n&&r)o=n,a=r;else switch(t){case"small":o=40,a=160;break;case"large":o=80,a=320;break;case"medium":default:o=60,a=240;break}const l={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},hover:{scale:1.05,transition:{duration:.3,yoyo:1/0,ease:"easeInOut"}}},u={rest:{scale:1},pulse:{scale:1.05,transition:{duration:.3,yoyo:1/0,ease:"easeInOut",repeatDelay:1.5}}};try{const d=i?je.div:"div",p=i?je.path:"path";return U.jsx(d,{className:`inline-flex items-center ${e} ${s?"cursor-pointer":""}`,initial:"hidden",animate:"visible",whileHover:"hover",variants:l,onClick:s,children:U.jsxs("svg",{width:a,height:o,viewBox:"0 0 320 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"overflow-visible",children:[U.jsx("rect",{width:"320",height:"80",rx:"12",fill:"none"}),U.jsx(je.path,{d:"M40 15H60C66.6 15 72 20.4 72 27C72 33.6 66.6 39 60 39H48L60 65H48L36 39V65H25V15H40Z",fill:"#16a34a",initial:{fillOpacity:.7},animate:{fillOpacity:1},transition:{duration:1}}),U.jsx(je.path,{d:"M84 65L96 15H108L120 65H109L107 55H97L95 65H84ZM99 45H105L102 30L99 45Z",fill:"#eab308",initial:{fillOpacity:.7},animate:{fillOpacity:1},transition:{duration:1,delay:.1}}),U.jsx(je.path,{d:"M132 25V15H168V25H156V65H144V25H132Z",fill:"#dc2626",initial:{fillOpacity:.7},animate:{fillOpacity:1},transition:{duration:1,delay:.2}}),U.jsx(je.path,{d:"M180 15H192V65H180V15Z",fill:"#16a34a",initial:{fillOpacity:.7},animate:{fillOpacity:1},transition:{duration:1,delay:.3}}),U.jsx(je.path,{d:"M204 15H224C230.6 15 236 20.4 236 27V53C236 59.6 230.6 65 224 65H204V15ZM216 25V55H224C225.1 55 226 54.1 226 53V27C226 25.9 225.1 25 224 25H216Z",fill:"#eab308",initial:{fillOpacity:.7},animate:{fillOpacity:1},transition:{duration:1,delay:.4}}),U.jsx(je.path,{d:"M248 15H284V25L264 55H284V65H248V55L268 25H248V15Z",fill:"#dc2626",initial:{fillOpacity:.7},animate:{fillOpacity:1},transition:{duration:1,delay:.5}}),U.jsx(je.circle,{cx:"300",cy:"25",r:"10",fill:"#16a34a",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.8}}),U.jsx(je.rect,{x:"295",y:"20",width:"10",height:"10",fill:"#16a34a",initial:{scale:0},animate:{scale:1},transition:{duration:.5,delay:.8}}),U.jsx(je.path,{d:"M20 40C31 40 40 49 40 60C40 71 31 80 20 80C9 80 0 71 0 60C0 49 9 40 20 40Z",fill:"none",stroke:"#16a34a",strokeWidth:"4",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1.5}}),U.jsx(p,{d:"M8 60H16L18 55L22 65L26 55L28 60H32",fill:"none",stroke:"#dc2626",strokeWidth:"2",strokeLinecap:"round",initial:{pathLength:0},animate:i?"pulse":"rest",variants:u,transition:{duration:1,delay:1.5}})]})})}catch(d){return console.error("Error rendering Logo:",d),U.jsx("div",{className:`inline-flex items-center ${e} ${s?"cursor-pointer":""}`,onClick:s,children:U.jsx("span",{className:"font-bold text-lg text-green-500",children:"R"})})}},e7=()=>{const t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},e={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}},n={hover:{color:"#14b8a6",x:5,transition:{duration:.2}}};return U.jsx("footer",{className:"bg-gray-900 text-gray-300 pt-10 pb-6 border-t border-gray-800",children:U.jsxs(je.div,{className:"w-full px-4",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},variants:t,children:[U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[U.jsx(je.div,{className:"col-span-1 md:col-span-1",variants:e,children:U.jsxs("div",{className:"flex flex-col items-start",children:[U.jsx(fE,{className:"mb-2",size:"small",onClick:()=>window.scrollTo({top:0,behavior:"smooth"})}),U.jsx(je.p,{className:"mt-4 text-sm text-gray-400",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.5},children:"Your trusted AI-powered health assistant providing reliable health information and resources."})]})}),U.jsxs(je.div,{className:"col-span-1",variants:e,children:[U.jsx(je.h3,{className:"text-lg font-semibold text-white mb-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:"Quick Links"}),U.jsxs("ul",{className:"space-y-2",children:[U.jsx(je.li,{variants:e,children:U.jsx(je.a,{href:"#home",className:"text-gray-400 transition-colors text-sm",whileHover:"hover",variants:n,onClick:r=>{r.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},children:"Home"})}),U.jsx(je.li,{variants:e,children:U.jsx(je.a,{href:"#about",className:"text-gray-400 transition-colors text-sm",whileHover:"hover",variants:n,onClick:r=>{r.preventDefault(),window.dispatchEvent(new CustomEvent("scroll-to-section",{detail:{sectionId:"about"}}))},children:"About"})}),U.jsx(je.li,{variants:e,children:U.jsx(je.a,{href:"#faq",className:"text-gray-400 transition-colors text-sm",whileHover:"hover",variants:n,onClick:r=>{r.preventDefault(),window.dispatchEvent(new CustomEvent("scroll-to-section",{detail:{sectionId:"faq"}}))},children:"FAQ"})})]})]}),U.jsxs(je.div,{className:"col-span-1",variants:e,children:[U.jsx(je.h3,{className:"text-lg font-semibold text-white mb-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:"Legal"}),U.jsxs("ul",{className:"space-y-2",children:[U.jsx(je.li,{variants:e,children:U.jsx(je.a,{href:"https://www.who.int/about/policies/terms-of-use",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 transition-colors text-sm",whileHover:"hover",variants:n,children:"Terms of Service"})}),U.jsx(je.li,{variants:e,children:U.jsx(je.a,{href:"https://www.who.int/about/policies/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 transition-colors text-sm",whileHover:"hover",variants:n,children:"Privacy Policy"})})]})]}),U.jsxs(je.div,{className:"col-span-1",variants:e,children:[U.jsx(je.h3,{className:"text-lg font-semibold text-white mb-4",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:"Contact"}),U.jsxs(je.p,{className:"text-sm text-gray-400 mb-2",variants:e,children:[U.jsx("span",{className:"block font-semibold",children:"Email:"}),"info@ratidzohealth.com"]}),U.jsxs(je.p,{className:"text-sm text-gray-400 mb-2",variants:e,children:[U.jsx("span",{className:"block font-semibold",children:"Phone:"}),"+263784807266"]}),U.jsxs(je.p,{className:"text-sm text-gray-400",variants:e,children:[U.jsx("span",{className:"block font-semibold",children:"Located in:"}),"Harare, Zimbabwe"]})]})]}),U.jsxs(je.div,{className:"mt-8 pt-6 border-t border-gray-800 text-center text-gray-500 text-xs",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.5},children:[U.jsxs("p",{children:[" ",new Date().getFullYear()," Ratidzo Health AI. All rights reserved."]}),U.jsxs(je.p,{className:"mt-2",whileHover:{scale:1.05},transition:{duration:.2},children:["Developed by ",U.jsx(je.a,{href:"https://tyga-sparta.com",target:"_blank",rel:"noopener noreferrer",className:"text-teal-500 hover:underline",whileHover:{scale:1.1},children:"Tyga Sparta"})]})]})]})})};function pE(t,e){return function(){return t.apply(e,arguments)}}const{toString:t7}=Object.prototype,{getPrototypeOf:k2}=Object,lg=(t=>e=>{const n=t7.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ys=t=>(t=t.toLowerCase(),e=>lg(e)===t),ug=t=>e=>typeof e===t,{isArray:$c}=Array,kd=ug("undefined");function n7(t){return t!==null&&!kd(t)&&t.constructor!==null&&!kd(t.constructor)&&bi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const mE=ys("ArrayBuffer");function r7(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&mE(t.buffer),e}const i7=ug("string"),bi=ug("function"),gE=ug("number"),cg=t=>t!==null&&typeof t=="object",s7=t=>t===!0||t===!1,Ip=t=>{if(lg(t)!=="object")return!1;const e=k2(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},o7=ys("Date"),a7=ys("File"),l7=ys("Blob"),u7=ys("FileList"),c7=t=>cg(t)&&bi(t.pipe),h7=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||bi(t.append)&&((e=lg(t))==="formdata"||e==="object"&&bi(t.toString)&&t.toString()==="[object FormData]"))},d7=ys("URLSearchParams"),[f7,p7,m7,g7]=["ReadableStream","Request","Response","Headers"].map(ys),y7=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),$c(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function yE(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ml=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vE=t=>!kd(t)&&t!==Ml;function py(){const{caseless:t}=vE(this)&&this||{},e={},n=(r,i)=>{const s=t&&yE(e,i)||i;Ip(e[s])&&Ip(r)?e[s]=py(e[s],r):Ip(r)?e[s]=py({},r):$c(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Xd(arguments[r],n);return e}const v7=(t,e,n,{allOwnKeys:r}={})=>(Xd(e,(i,s)=>{n&&bi(i)?t[s]=pE(i,n):t[s]=i},{allOwnKeys:r}),t),w7=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_7=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},b7=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&k2(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},x7=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},S7=t=>{if(!t)return null;if($c(t))return t;let e=t.length;if(!gE(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},A7=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&k2(Uint8Array)),E7=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},T7=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},I7=ys("HTMLFormElement"),P7=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),kb=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),N7=ys("RegExp"),wE=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Xd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},k7=t=>{wE(t,(e,n)=>{if(bi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(bi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},C7=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return $c(t)?r(t):r(String(t).split(e)),n},L7=()=>{},R7=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function D7(t){return!!(t&&bi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const O7=t=>{const e=new Array(10),n=(r,i)=>{if(cg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=$c(r)?[]:{};return Xd(r,(o,a)=>{const l=n(o,i+1);!kd(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},M7=ys("AsyncFunction"),F7=t=>t&&(cg(t)||bi(t))&&bi(t.then)&&bi(t.catch),_E=((t,e)=>t?setImmediate:e?((n,r)=>(Ml.addEventListener("message",({source:i,data:s})=>{i===Ml&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ml.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",bi(Ml.postMessage)),j7=typeof queueMicrotask<"u"?queueMicrotask.bind(Ml):typeof process<"u"&&process.nextTick||_E,be={isArray:$c,isArrayBuffer:mE,isBuffer:n7,isFormData:h7,isArrayBufferView:r7,isString:i7,isNumber:gE,isBoolean:s7,isObject:cg,isPlainObject:Ip,isReadableStream:f7,isRequest:p7,isResponse:m7,isHeaders:g7,isUndefined:kd,isDate:o7,isFile:a7,isBlob:l7,isRegExp:N7,isFunction:bi,isStream:c7,isURLSearchParams:d7,isTypedArray:A7,isFileList:u7,forEach:Xd,merge:py,extend:v7,trim:y7,stripBOM:w7,inherits:_7,toFlatObject:b7,kindOf:lg,kindOfTest:ys,endsWith:x7,toArray:S7,forEachEntry:E7,matchAll:T7,isHTMLForm:I7,hasOwnProperty:kb,hasOwnProp:kb,reduceDescriptors:wE,freezeMethods:k7,toObjectSet:C7,toCamelCase:P7,noop:L7,toFiniteNumber:R7,findKey:yE,global:Ml,isContextDefined:vE,isSpecCompliantForm:D7,toJSONObject:O7,isAsyncFn:M7,isThenable:F7,setImmediate:_E,asap:j7};function At(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}be.inherits(At,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.status}}});const bE=At.prototype,xE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xE[t]={value:t}});Object.defineProperties(At,xE);Object.defineProperty(bE,"isAxiosError",{value:!0});At.from=(t,e,n,r,i,s)=>{const o=Object.create(bE);return be.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),At.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const V7=null;function my(t){return be.isPlainObject(t)||be.isArray(t)}function SE(t){return be.endsWith(t,"[]")?t.slice(0,-2):t}function Cb(t,e,n){return t?t.concat(e).map(function(i,s){return i=SE(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function B7(t){return be.isArray(t)&&!t.some(my)}const U7=be.toFlatObject(be,{},null,function(e){return/^is[A-Z]/.test(e)});function hg(t,e,n){if(!be.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=be.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,P){return!be.isUndefined(P[x])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(e);if(!be.isFunction(i))throw new TypeError("visitor must be a function");function u(A){if(A===null)return"";if(be.isDate(A))return A.toISOString();if(!l&&be.isBlob(A))throw new At("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(A)||be.isTypedArray(A)?l&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function d(A,x,P){let _=A;if(A&&!P&&typeof A=="object"){if(be.endsWith(x,"{}"))x=r?x:x.slice(0,-2),A=JSON.stringify(A);else if(be.isArray(A)&&B7(A)||(be.isFileList(A)||be.endsWith(x,"[]"))&&(_=be.toArray(A)))return x=SE(x),_.forEach(function(N,H){!(be.isUndefined(N)||N===null)&&e.append(o===!0?Cb([x],H,s):o===null?x:x+"[]",u(N))}),!1}return my(A)?!0:(e.append(Cb(P,x,s),u(A)),!1)}const p=[],g=Object.assign(U7,{defaultVisitor:d,convertValue:u,isVisitable:my});function m(A,x){if(!be.isUndefined(A)){if(p.indexOf(A)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(A),be.forEach(A,function(_,b){(!(be.isUndefined(_)||_===null)&&i.call(e,_,be.isString(b)?b.trim():b,x,g))===!0&&m(_,x?x.concat(b):[b])}),p.pop()}}if(!be.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Lb(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function C2(t,e){this._pairs=[],t&&hg(t,this,e)}const AE=C2.prototype;AE.append=function(e,n){this._pairs.push([e,n])};AE.toString=function(e){const n=e?function(r){return e.call(this,r,Lb)}:Lb;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function z7(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function EE(t,e,n){if(!e)return t;const r=n&&n.encode||z7;be.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=be.isURLSearchParams(e)?e.toString():new C2(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Rb{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){be.forEach(this.handlers,function(r){r!==null&&e(r)})}}const TE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},q7=typeof URLSearchParams<"u"?URLSearchParams:C2,H7=typeof FormData<"u"?FormData:null,$7=typeof Blob<"u"?Blob:null,W7={isBrowser:!0,classes:{URLSearchParams:q7,FormData:H7,Blob:$7},protocols:["http","https","file","blob","url","data"]},L2=typeof window<"u"&&typeof document<"u",gy=typeof navigator=="object"&&navigator||void 0,G7=L2&&(!gy||["ReactNative","NativeScript","NS"].indexOf(gy.product)<0),K7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Y7=L2&&window.location.href||"http://localhost",Q7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:L2,hasStandardBrowserEnv:G7,hasStandardBrowserWebWorkerEnv:K7,navigator:gy,origin:Y7},Symbol.toStringTag,{value:"Module"})),kr={...Q7,...W7};function X7(t,e){return hg(t,new kr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return kr.isNode&&be.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function J7(t){return be.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Z7(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function IE(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&be.isArray(i)?i.length:o,l?(be.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!be.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&be.isArray(i[o])&&(i[o]=Z7(i[o])),!a)}if(be.isFormData(t)&&be.isFunction(t.entries)){const n={};return be.forEachEntry(t,(r,i)=>{e(J7(r),i,n,0)}),n}return null}function eD(t,e,n){if(be.isString(t))try{return(e||JSON.parse)(t),be.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Jd={transitional:TE,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=be.isObject(e);if(s&&be.isHTMLForm(e)&&(e=new FormData(e)),be.isFormData(e))return i?JSON.stringify(IE(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e)||be.isReadableStream(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return X7(e,this.formSerializer).toString();if((a=be.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return hg(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),eD(e)):e}],transformResponse:[function(e){const n=this.transitional||Jd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(be.isResponse(e)||be.isReadableStream(e))return e;if(e&&be.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?At.from(a,At.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kr.classes.FormData,Blob:kr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],t=>{Jd.headers[t]={}});const tD=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nD=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&tD[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Db=Symbol("internals");function Ih(t){return t&&String(t).trim().toLowerCase()}function Pp(t){return t===!1||t==null?t:be.isArray(t)?t.map(Pp):String(t)}function rD(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const iD=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function D0(t,e,n,r,i){if(be.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!be.isString(e)){if(be.isString(r))return e.indexOf(r)!==-1;if(be.isRegExp(r))return r.test(e)}}function sD(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function oD(t,e){const n=be.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class si{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const d=Ih(l);if(!d)throw new Error("header name must be a non-empty string");const p=be.findKey(i,d);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||l]=Pp(a))}const o=(a,l)=>be.forEach(a,(u,d)=>s(u,d,l));if(be.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(be.isString(e)&&(e=e.trim())&&!iD(e))o(nD(e),n);else if(be.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Ih(e),e){const r=be.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return rD(i);if(be.isFunction(n))return n.call(this,i,r);if(be.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ih(e),e){const r=be.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||D0(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Ih(o),o){const a=be.findKey(r,o);a&&(!n||D0(r,r[a],a,n))&&(delete r[a],i=!0)}}return be.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||D0(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return be.forEach(this,(i,s)=>{const o=be.findKey(r,s);if(o){n[o]=Pp(i),delete n[s];return}const a=e?sD(s):String(s).trim();a!==s&&delete n[s],n[a]=Pp(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return be.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&be.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Db]=this[Db]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Ih(o);r[a]||(oD(i,o),r[a]=!0)}return be.isArray(e)?e.forEach(s):s(e),this}}si.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(si.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});be.freezeMethods(si);function O0(t,e){const n=this||Jd,r=e||n,i=si.from(r.headers);let s=r.data;return be.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function PE(t){return!!(t&&t.__CANCEL__)}function Wc(t,e,n){At.call(this,t??"canceled",At.ERR_CANCELED,e,n),this.name="CanceledError"}be.inherits(Wc,At,{__CANCEL__:!0});function NE(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new At("Request failed with status code "+n.status,[At.ERR_BAD_REQUEST,At.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function aD(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function lD(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),n[i]=l,r[i]=u;let p=s,g=0;for(;p!==i;)g+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const m=d&&u-d;return m?Math.round(g*1e3/m):void 0}}function uD(t,e){let n=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),p=d-n;p>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const _m=(t,e,n=3)=>{let r=0;const i=lD(50,250);return uD(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(p)},n)},Ob=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Mb=t=>(...e)=>be.asap(()=>t(...e)),cD=kr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,kr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(kr.origin),kr.navigator&&/(msie|trident)/i.test(kr.navigator.userAgent)):()=>!0,hD=kr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];be.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),be.isString(r)&&o.push("path="+r),be.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dD(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function fD(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function kE(t,e,n){let r=!dD(e);return t&&(r||n==!1)?fD(t,e):e}const Fb=t=>t instanceof si?{...t}:t;function Xl(t,e){e=e||{};const n={};function r(u,d,p,g){return be.isPlainObject(u)&&be.isPlainObject(d)?be.merge.call({caseless:g},u,d):be.isPlainObject(d)?be.merge({},d):be.isArray(d)?d.slice():d}function i(u,d,p,g){if(be.isUndefined(d)){if(!be.isUndefined(u))return r(void 0,u,p,g)}else return r(u,d,p,g)}function s(u,d){if(!be.isUndefined(d))return r(void 0,d)}function o(u,d){if(be.isUndefined(d)){if(!be.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,p){if(p in e)return r(u,d);if(p in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,p)=>i(Fb(u),Fb(d),p,!0)};return be.forEach(Object.keys(Object.assign({},t,e)),function(d){const p=l[d]||i,g=p(t[d],e[d],d);be.isUndefined(g)&&p!==a||(n[d]=g)}),n}const CE=t=>{const e=Xl({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=si.from(o),e.url=EE(kE(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(be.isFormData(n)){if(kr.hasStandardBrowserEnv||kr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(kr.hasStandardBrowserEnv&&(r&&be.isFunction(r)&&(r=r(e)),r||r!==!1&&cD(e.url))){const u=i&&s&&hD.read(s);u&&o.set(i,u)}return e},pD=typeof XMLHttpRequest<"u",mD=pD&&function(t){return new Promise(function(n,r){const i=CE(t);let s=i.data;const o=si.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,p,g,m,A;function x(){m&&m(),A&&A(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let P=new XMLHttpRequest;P.open(i.method.toUpperCase(),i.url,!0),P.timeout=i.timeout;function _(){if(!P)return;const N=si.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),$={data:!a||a==="text"||a==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:N,config:t,request:P};NE(function(O){n(O),x()},function(O){r(O),x()},$),P=null}"onloadend"in P?P.onloadend=_:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(_)},P.onabort=function(){P&&(r(new At("Request aborted",At.ECONNABORTED,t,P)),P=null)},P.onerror=function(){r(new At("Network Error",At.ERR_NETWORK,t,P)),P=null},P.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const $=i.transitional||TE;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new At(H,$.clarifyTimeoutError?At.ETIMEDOUT:At.ECONNABORTED,t,P)),P=null},s===void 0&&o.setContentType(null),"setRequestHeader"in P&&be.forEach(o.toJSON(),function(H,$){P.setRequestHeader($,H)}),be.isUndefined(i.withCredentials)||(P.withCredentials=!!i.withCredentials),a&&a!=="json"&&(P.responseType=i.responseType),u&&([g,A]=_m(u,!0),P.addEventListener("progress",g)),l&&P.upload&&([p,m]=_m(l),P.upload.addEventListener("progress",p),P.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=N=>{P&&(r(!N||N.type?new Wc(null,t,P):N),P.abort(),P=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const b=aD(i.url);if(b&&kr.protocols.indexOf(b)===-1){r(new At("Unsupported protocol "+b+":",At.ERR_BAD_REQUEST,t));return}P.send(s||null)})},gD=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof At?d:new Wc(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new At(`timeout ${e} of ms exceeded`,At.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>be.asap(a),l}},yD=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},vD=async function*(t,e){for await(const n of wD(t))yield*yD(n,e)},wD=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},jb=(t,e,n,r)=>{const i=vD(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let p=d.byteLength;if(n){let g=s+=p;n(g)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},dg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",LE=dg&&typeof ReadableStream=="function",_D=dg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),RE=(t,...e)=>{try{return!!t(...e)}catch{return!1}},bD=LE&&RE(()=>{let t=!1;const e=new Request(kr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Vb=64*1024,yy=LE&&RE(()=>be.isReadableStream(new Response("").body)),bm={stream:yy&&(t=>t.body)};dg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!bm[e]&&(bm[e]=be.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new At(`Response type '${e}' is not supported`,At.ERR_NOT_SUPPORT,r)})})})(new Response);const xD=async t=>{if(t==null)return 0;if(be.isBlob(t))return t.size;if(be.isSpecCompliantForm(t))return(await new Request(kr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(be.isArrayBufferView(t)||be.isArrayBuffer(t))return t.byteLength;if(be.isURLSearchParams(t)&&(t=t+""),be.isString(t))return(await _D(t)).byteLength},SD=async(t,e)=>{const n=be.toFiniteNumber(t.getContentLength());return n??xD(e)},AD=dg&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:p="same-origin",fetchOptions:g}=CE(t);u=u?(u+"").toLowerCase():"text";let m=gD([i,s&&s.toAbortSignal()],o),A;const x=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let P;try{if(l&&bD&&n!=="get"&&n!=="head"&&(P=await SD(d,r))!==0){let $=new Request(e,{method:"POST",body:r,duplex:"half"}),J;if(be.isFormData(r)&&(J=$.headers.get("content-type"))&&d.setContentType(J),$.body){const[O,E]=Ob(P,_m(Mb(l)));r=jb($.body,Vb,O,E)}}be.isString(p)||(p=p?"include":"omit");const _="credentials"in Request.prototype;A=new Request(e,{...g,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:_?p:void 0});let b=await fetch(A);const N=yy&&(u==="stream"||u==="response");if(yy&&(a||N&&x)){const $={};["status","statusText","headers"].forEach(C=>{$[C]=b[C]});const J=be.toFiniteNumber(b.headers.get("content-length")),[O,E]=a&&Ob(J,_m(Mb(a),!0))||[];b=new Response(jb(b.body,Vb,O,()=>{E&&E(),x&&x()}),$)}u=u||"text";let H=await bm[be.findKey(bm,u)||"text"](b,t);return!N&&x&&x(),await new Promise(($,J)=>{NE($,J,{data:H,headers:si.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:A})})}catch(_){throw x&&x(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new At("Network Error",At.ERR_NETWORK,t,A),{cause:_.cause||_}):At.from(_,_&&_.code,t,A)}}),vy={http:V7,xhr:mD,fetch:AD};be.forEach(vy,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Bb=t=>`- ${t}`,ED=t=>be.isFunction(t)||t===null||t===!1,DE={getAdapter:t=>{t=be.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!ED(n)&&(r=vy[(o=String(n)).toLowerCase()],r===void 0))throw new At(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Bb).join(`
`):" "+Bb(s[0]):"as no adapter specified";throw new At("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:vy};function M0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wc(null,t)}function Ub(t){return M0(t),t.headers=si.from(t.headers),t.data=O0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),DE.getAdapter(t.adapter||Jd.adapter)(t).then(function(r){return M0(t),r.data=O0.call(t,t.transformResponse,r),r.headers=si.from(r.headers),r},function(r){return PE(r)||(M0(t),r&&r.response&&(r.response.data=O0.call(t,t.transformResponse,r.response),r.response.headers=si.from(r.response.headers))),Promise.reject(r)})}const OE="1.8.4",fg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{fg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const zb={};fg.transitional=function(e,n,r){function i(s,o){return"[Axios v"+OE+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new At(i(o," has been removed"+(n?" in "+n:"")),At.ERR_DEPRECATED);return n&&!zb[o]&&(zb[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};fg.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function TD(t,e,n){if(typeof t!="object")throw new At("options must be an object",At.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new At("option "+s+" must be "+l,At.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new At("Unknown option "+s,At.ERR_BAD_OPTION)}}const Np={assertOptions:TD,validators:fg},Os=Np.validators;class Ul{constructor(e){this.defaults=e,this.interceptors={request:new Rb,response:new Rb}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xl(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Np.assertOptions(r,{silentJSONParsing:Os.transitional(Os.boolean),forcedJSONParsing:Os.transitional(Os.boolean),clarifyTimeoutError:Os.transitional(Os.boolean)},!1),i!=null&&(be.isFunction(i)?n.paramsSerializer={serialize:i}:Np.assertOptions(i,{encode:Os.function,serialize:Os.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Np.assertOptions(n,{baseUrl:Os.spelling("baseURL"),withXsrfToken:Os.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&be.merge(s.common,s[n.method]);s&&be.forEach(["delete","get","head","post","put","patch","common"],A=>{delete s[A]}),n.headers=si.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,p=0,g;if(!l){const A=[Ub.bind(this),void 0];for(A.unshift.apply(A,a),A.push.apply(A,u),g=A.length,d=Promise.resolve(n);p<g;)d=d.then(A[p++],A[p++]);return d}g=a.length;let m=n;for(p=0;p<g;){const A=a[p++],x=a[p++];try{m=A(m)}catch(P){x.call(this,P);break}}try{d=Ub.call(this,m)}catch(A){return Promise.reject(A)}for(p=0,g=u.length;p<g;)d=d.then(u[p++],u[p++]);return d}getUri(e){e=Xl(this.defaults,e);const n=kE(e.baseURL,e.url,e.allowAbsoluteUrls);return EE(n,e.params,e.paramsSerializer)}}be.forEach(["delete","get","head","options"],function(e){Ul.prototype[e]=function(n,r){return this.request(Xl(r||{},{method:e,url:n,data:(r||{}).data}))}});be.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Xl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ul.prototype[e]=n(),Ul.prototype[e+"Form"]=n(!0)});class R2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Wc(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new R2(function(i){e=i}),cancel:e}}}function ID(t){return function(n){return t.apply(null,n)}}function PD(t){return be.isObject(t)&&t.isAxiosError===!0}const wy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wy).forEach(([t,e])=>{wy[e]=t});function ME(t){const e=new Ul(t),n=pE(Ul.prototype.request,e);return be.extend(n,Ul.prototype,e,{allOwnKeys:!0}),be.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return ME(Xl(t,i))},n}const Tn=ME(Jd);Tn.Axios=Ul;Tn.CanceledError=Wc;Tn.CancelToken=R2;Tn.isCancel=PE;Tn.VERSION=OE;Tn.toFormData=hg;Tn.AxiosError=At;Tn.Cancel=Tn.CanceledError;Tn.all=function(e){return Promise.all(e)};Tn.spread=ID;Tn.isAxiosError=PD;Tn.mergeConfig=Xl;Tn.AxiosHeaders=si;Tn.formToJSON=t=>IE(be.isHTMLForm(t)?new FormData(t):t);Tn.getAdapter=DE.getAdapter;Tn.HttpStatusCode=wy;Tn.default=Tn;class ND{constructor(){this.apiKey="your-production-api-key",this.apiEndpoint="https://api.deepseek.com/v1/chat/completions",this.model="DeepSeek-V4",this.mockMode=!this.apiKey||this.apiKey==="sk-977a011a070c49b3871667c6e528803e"||this.apiKey==="your-deepseek-api-key"||this.apiKey==="your-production-api-key",console.log("DeepSeek AI Service initialized"),console.log("Using mock mode:",this.mockMode),this.mockMode?console.log("Using mock data for AI responses"):console.log("Using DeepSeek API for AI responses")}async getHealthInsights(e,n){console.log("Getting health insights for symptoms:",e);try{return this.mockMode?(console.log("Using mock response"),this.getMockResponse(e,n)):await this.callDeepseekAPI(e,n)}catch(r){return console.error("Error calling DeepSeek API:",r),console.log("Falling back to mock response due to error"),this.getMockResponse(e,n)}}async callDeepseekAPI(e,n){try{let r=`I'm experiencing the following symptoms: ${e}`;n&&(n.age&&(r+=`
Age: ${n.age}`),n.gender&&(r+=`
Gender: ${n.gender}`),n.duration&&(r+=`
Symptom duration: ${n.duration}`),n.severity&&(r+=`
Severity: ${n.severity}`),n.conditions&&n.conditions.length>0&&(r+=`
Existing conditions: ${n.conditions.join(", ")}`),n.medications&&(r+=`
Current medications: ${n.medications}`));const s=(await Tn.post(this.apiEndpoint,{model:this.model,messages:[{role:"system",content:`You are a highly knowledgeable medical AI assistant with expertise in clinical reasoning and diagnosis. Your purpose is to provide comprehensive health insights based on user symptoms.

                      When responding, follow this structured approach:
                      1. COMPREHENSIVE ANALYSIS: Provide a thorough breakdown of possible causes in CATEGORICAL format (e.g., Musculoskeletal, Respiratory, Cardiac, etc.)
                      2. EVIDENCE & REASONING: Always explain your clinical reasoning in detail.
                      3. MULTIPLE POSSIBILITIES: Present a differential diagnosis with at least 3-5 conditions organized by category.
                      4. CLEAR URGENCY ASSESSMENT: Clearly indicate if symptoms suggest conditions requiring urgent care.
                      5. WARNING SIGNS: Always list specific symptoms that would indicate the need for immediate medical attention.
                      
                      For CHEST PAIN and other serious symptoms, always provide an extensive differential diagnosis including:
                      - Musculoskeletal causes
                      - Respiratory causes
                      - Cardiovascular causes
                      - Gastrointestinal causes
                      - Other relevant systems
                      
                      Your response should be detailed yet clearly structured for the user to understand. 
                      
                      Analyze the user's symptoms and provide a structured JSON response with the following fields:
                      {
                        "condition": "The most likely condition based on symptoms",
                        "differential_diagnosis": ["At least 3-5 other possible conditions to consider, organized by body system"],
                        "urgency": "low, medium, or high",
                        "reasoning": "Detailed clinical reasoning behind this assessment, including why some diagnoses are more likely than others",
                        "remedies": ["Array of appropriate home remedies or actions"],
                        "explanation": "A clear explanation in simple terms about the condition and its causes",
                        "recommendations": ["Array of recommended next steps"],
                        "warning_signs": ["Symptoms that would indicate worsening requiring immediate medical attention"],
                        "pdf_content": "A formatted text version suitable for PDF export that includes all the above information plus health tips"
                      }
                      
                      Always include a disclaimer that this is not a medical diagnosis and should not replace professional medical advice.
                      Your response should ONLY include valid JSON with no additional text.`},{role:"user",content:r}],temperature:.1,max_tokens:2e3,response_format:{type:"json_object"}},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`}})).data.choices[0].message.content;let o;try{o=JSON.parse(s)}catch(l){throw console.error("Error parsing JSON response:",l),new Error("Invalid response format from AI service")}if(!o.condition||!o.urgency||!o.remedies||!o.explanation)throw new Error("Invalid response format: missing required fields");return{condition:o.condition,urgency:this.validateUrgency(o.urgency),remedies:Array.isArray(o.remedies)?o.remedies:[],explanation:o.explanation,recommendations:o.recommendations||[],pdf_content:o.pdf_content||this.generatePdfContent(o),differential_diagnosis:Array.isArray(o.differential_diagnosis)?o.differential_diagnosis:[],reasoning:o.reasoning||"",warning_signs:Array.isArray(o.warning_signs)?o.warning_signs:[]}}catch(r){throw console.error("Error calling DeepSeek API:",r),r}}validateUrgency(e){const n=e.toLowerCase().trim();return["low","medium","high"].includes(n)?n:n.includes("immediate")||n.includes("emergency")||n.includes("urgent")?"high":n.includes("soon")||n.includes("moderate")?"medium":"low"}generatePdfContent(e){const n=e.warning_signs&&e.warning_signs.length>0?`

## Warning Signs
Seek immediate medical attention if you experience:
${e.warning_signs.map(i=>`- ${i}`).join(`
`)}`:"",r=e.differential_diagnosis&&e.differential_diagnosis.length>0?`

## Other Possible Conditions
${e.differential_diagnosis.map(i=>`- ${i}`).join(`
`)}`:"";return`
      # Health Assessment Report
      
      ## Condition
      ${e.condition}
      
      ## Urgency
      ${e.urgency.toUpperCase()}
      
      ## Explanation
      ${e.explanation}
      
      ## Clinical Reasoning
      ${e.reasoning||"Based on the symptoms described, this appears to be the most likely explanation."}
      ${r}
      
      ## Recommended Remedies
      ${e.remedies.map(i=>`- ${i}`).join(`
`)}
      
      ## Recommended Next Steps
      ${e.recommendations?e.recommendations.map(i=>`- ${i}`).join(`
`):"- Consult with a healthcare professional if symptoms persist or worsen"}
      ${n}
      
      ## Health Tips
      - Stay hydrated by drinking plenty of water
      - Get adequate rest to help your body recover
      - Wash hands frequently to prevent spread of infection
      - Monitor your symptoms and track any changes
      
      *Disclaimer: This is not a medical diagnosis. Please consult with a healthcare professional for proper medical advice.*
    `}getMockResponse(e,n){var l,u,d,p;const r=e.toLowerCase(),i=((l=n==null?void 0:n.conditions)==null?void 0:l.some(g=>g.toLowerCase().includes("asthma")))||!1,s=((u=n==null?void 0:n.conditions)==null?void 0:u.some(g=>g.toLowerCase().includes("diabetes")))||!1,o=((d=n==null?void 0:n.conditions)==null?void 0:d.some(g=>g.toLowerCase().includes("heart")||g.toLowerCase().includes("cardiac")||g.toLowerCase().includes("hypertension")))||!1;return(p=n==null?void 0:n.conditions)!=null&&p.some(g=>g.toLowerCase().includes("hypertension")||g.toLowerCase().includes("high blood pressure")),r.includes("running stomach")||r.includes("diarrhea")||r.includes("diarrhoea")||r.includes("loose stool")||r.includes("stomach")&&(r.includes("runny")||r.includes("upset")||r.includes("pain")||r.includes("ache"))||r.includes("frequent bowel movement")||r.includes("watery")&&r.includes("stool")?{condition:"Gastroenteritis",urgency:s?"medium":"low",remedies:["Stay hydrated with oral rehydration solution (mix 1 liter of clean water with 6 teaspoons of sugar and 1/2 teaspoon of salt)","Drink clear broths, ginger tea, or diluted fruit juices","Eat small, frequent meals of bland, easy-to-digest foods like rice, bananas, toast","Avoid dairy products, fatty or spicy foods, caffeine, and alcohol until recovered","Rest to help your body recover"],explanation:"Your symptoms suggest gastroenteritis (inflammation of the stomach and intestines), commonly known as stomach flu or 'running stomach'. This is typically caused by a viral or bacterial infection and results in diarrhea and sometimes vomiting. Most cases resolve within a few days with proper hydration and rest.",differential_diagnosis:["1. Gastroenteritis (Stomach Flu): Most likely cause, typically viral","2. Food Poisoning: From contaminated food or water","3. Irritable Bowel Syndrome: If symptoms recur frequently","4. Medication Side Effect: Some antibiotics and other medications can cause diarrhea"],reasoning:"Diarrhea or 'running stomach' most commonly indicates gastroenteritis, particularly if sudden in onset. The condition is usually self-limiting and resolves within 2-5 days. The main concern is preventing dehydration, especially in children and the elderly.",warning_signs:["Blood in stool","Severe abdominal pain","High fever (above 39C/102F)","Signs of dehydration (extreme thirst, dry mouth, little or no urination, severe weakness, dizziness)","Symptoms lasting more than 3 days","Inability to keep any fluids down"],recommendations:["See a healthcare provider if symptoms don't improve within 48 hours","Seek immediate medical attention if you notice any warning signs","If you're diabetic, monitor your blood sugar levels more frequently","Consider OTC anti-diarrheal medication like loperamide (Imodium) for adults, but only after 24 hours of illness and if there's no fever or blood in stool"]}:r.includes("headache")&&r.includes("fever")?{condition:"Viral Infection",urgency:"low",remedies:["Rest and stay hydrated","Take acetaminophen (paracetamol) for fever and pain","Apply a cool cloth to your forehead","Use a humidifier to add moisture to the air"],explanation:"Headache with fever often indicates a viral infection such as influenza (flu) or a common cold. Your body's immune response causes the fever, while inflammation and sinus pressure can trigger the headache.",differential_diagnosis:["1. Viral Infections: Common cold, Influenza, COVID-19","2. Bacterial Infections: Sinusitis, Strep throat with referred pain","3. Systemic Conditions: Malaria (in endemic areas), Typhoid fever","4. Neurological: Meningitis (with neck stiffness and sensitivity to light)"],reasoning:"The combination of headache and fever most commonly indicates a viral illness. The absence of other concerning symptoms suggests a benign, self-limiting condition. However, persistent high fever or severe headache could indicate a more serious condition.",warning_signs:["Stiff neck","Extreme sensitivity to light","Confusion or altered mental state","Persistent vomiting","Fever above 103F (39.4C) that doesn't respond to medication","Rash anywhere on the body"],recommendations:["If symptoms persist beyond 3-5 days, consult a healthcare provider","If you have traveled to an area with endemic diseases like malaria, seek medical attention","If you experience any of the warning signs, seek immediate medical care"]}:(r.includes("fever")||r.includes("high temperature"))&&(r.includes("chills")||r.includes("shivering")||r.includes("sweating")||r.includes("headache"))&&(r.includes("body ache")||r.includes("joint pain")||r.includes("muscle pain"))?{condition:"Possible Malaria",urgency:"high",remedies:["Seek medical attention immediately - this condition requires proper diagnosis and treatment","Use mosquito repellent and bed nets to prevent further mosquito bites","Stay hydrated and take fever reducers like paracetamol temporarily"],explanation:"Your symptoms of fever, chills/sweating, headache, and body aches are consistent with malaria, a serious mosquito-borne disease common in Zimbabwe and other parts of Africa. Malaria requires prompt medical diagnosis and treatment.",differential_diagnosis:["1. Malaria: Fever, chills, sweating, body aches, cyclical symptoms","2. Influenza: Similar symptoms but typically less severe and no cyclical pattern","3. Dengue Fever: Another mosquito-borne illness with similar symptoms","4. Typhoid Fever: Persistent fever, headache, abdominal discomfort"],reasoning:"The combination of fever, chills/sweating, and body aches is highly suggestive of malaria in areas where it is endemic. Malaria often presents with cyclical symptoms (occurring every 24-72 hours depending on the parasite type). Early diagnosis and treatment are crucial to prevent complications.",warning_signs:["High fever that won't reduce with medication","Extreme weakness or inability to stand/walk","Confusion or altered consciousness","Yellow discoloration of the eyes (jaundice)","Dark or reduced urine output","Seizures","Difficulty breathing"],recommendations:["Go to a healthcare facility immediately for blood testing and treatment","Complete the full course of antimalarial medication exactly as prescribed","Return for follow-up testing to confirm the infection has cleared","Take preventive measures against future infections (bed nets, repellents, prophylactic medication if recommended)"]}:(r.includes("joint pain")||r.includes("arthritis")||r.includes("pain")&&(r.includes("knee")||r.includes("fingers")||r.includes("elbow")||r.includes("wrist")||r.includes("shoulder")||r.includes("hip")))&&(r.includes("stiff")||r.includes("swollen")||r.includes("swelling")||r.includes("stiffness"))?{condition:"Arthritis",urgency:"low",remedies:["Rest the affected joints when in pain","Apply ice for 15-20 minutes several times daily to reduce inflammation","Over-the-counter anti-inflammatory medications like ibuprofen if not contraindicated","Use supportive devices like braces if needed","Gentle exercises and stretches to maintain mobility"],explanation:"Your symptoms suggest arthritis, which is inflammation of the joints causing pain, stiffness, and sometimes swelling. There are different types of arthritis, with osteoarthritis (wear-and-tear) and rheumatoid arthritis (autoimmune) being the most common.",differential_diagnosis:["1. Osteoarthritis: Age-related joint degeneration, usually in weight-bearing joints","2. Rheumatoid Arthritis: Autoimmune condition often affecting symmetric joints","3. Gout: Crystal deposits in joints causing severe pain, often in the big toe","4. Reactive Arthritis: Triggered by an infection elsewhere in the body"],reasoning:"The presence of joint pain with stiffness and/or swelling is characteristic of arthritis. The specific type depends on factors like age, pattern of affected joints, timing of symptoms, and associated conditions.",warning_signs:["Severe pain that prevents any movement of the joint","Hot, extremely red, or tender joints","Sudden inability to move a joint or bear weight","Fever accompanying joint symptoms","Significant joint deformity"],recommendations:["Consult a healthcare provider for proper diagnosis and treatment plan","Maintain a healthy weight to reduce stress on joints","Consider physical therapy for joint-appropriate exercises","Avoid activities that cause significant pain while staying active"]}:r.includes("headache")&&(r.includes("back of head")||r.includes("morning"))||r.includes("blood pressure")&&(r.includes("high")||r.includes("elevated"))||(r.includes("dizzy")||r.includes("dizziness"))&&r.includes("vision")||r.includes("hypertension")?{condition:"Hypertension (High Blood Pressure)",urgency:o?"medium":"low",remedies:["Reduce salt intake in your diet","Regular physical activity like walking for 30 minutes daily","Maintain a healthy weight","Reduce stress through meditation, deep breathing, or calming activities","Limit alcohol consumption and avoid tobacco"],explanation:"Your symptoms may be related to hypertension (high blood pressure). Often called the 'silent killer,' hypertension frequently has no symptoms, but some people experience morning headaches, dizziness, or vision changes. Regular monitoring is essential.",differential_diagnosis:["1. Essential Hypertension: The most common type with no identifiable cause","2. Secondary Hypertension: Due to an underlying condition like kidney disease","3. Tension Headache: May mimic hypertension symptoms","4. Anxiety: Can cause similar sensations of dizziness and headache"],reasoning:"While many people with hypertension have no symptoms, some experience occipital headaches (back of head), dizziness, or visual disturbances. The only way to confirm hypertension is through blood pressure measurement.",warning_signs:["Severe headache with confusion","Chest pain or difficulty breathing","Vision problems, including blurred vision","Irregular heartbeat or palpitations","Blood pressure reading above 180/120 mm Hg (hypertensive crisis)"],recommendations:["Have your blood pressure checked regularly","If diagnosed with hypertension, take prescribed medications consistently","Monitor your blood pressure at home if recommended","Implement dietary changes, particularly reducing sodium intake","Seek immediate medical attention for any warning signs"]}:r.includes("rash")||r.includes("itching")||r.includes("itchy skin")||r.includes("skin irritation")?{condition:"Dermatitis",urgency:"low",remedies:["Avoid scratching the affected area","Apply cool compresses to relieve itching","Use fragrance-free moisturizers for dry skin","Try over-the-counter hydrocortisone cream for inflammation","Take an antihistamine like cetirizine for allergic reactions"],explanation:"Your skin symptoms suggest dermatitis, a general term for skin inflammation. This can be caused by allergies, irritants, infections, or underlying health conditions. The specific type depends on the appearance, location, and triggers.",differential_diagnosis:["1. Contact Dermatitis: Caused by direct contact with an irritant or allergen","2. Atopic Dermatitis (Eczema): Chronic condition often with dry, itchy patches","3. Fungal Infection: Like ringworm, athlete's foot, or jock itch","4. Scabies: Intense itching caused by tiny mites burrowing into the skin"],reasoning:"Skin rashes and itching are common symptoms with multiple possible causes. Without seeing the rash, a specific diagnosis isn't possible, but most skin conditions start with general care measures.",warning_signs:["Rash that covers the entire body","Fever accompanying the rash","Blistering or open sores","Significant swelling, especially of face or throat","Difficulty breathing with skin symptoms","Rapidly spreading rash"],recommendations:["If the condition doesn't improve with home treatment after 1-2 weeks, consult a healthcare provider","Try to identify and avoid potential triggers","Document when the rash appears and any possible associations","Seek immediate medical attention if you experience any warning signs"]}:r.includes("cough")&&r.includes("fever")?{condition:"Upper Respiratory Infection",urgency:i?"medium":"low",remedies:["Rest and stay hydrated","Take over-the-counter fever reducers like acetaminophen (paracetamol)","Use honey and lemon in warm water for soothing cough (adults and children over 1)","Use a humidifier to add moisture to the air"],explanation:"Your symptoms of cough and fever suggest an upper respiratory infection, which is usually viral. These infections typically resolve on their own within 7-10 days with supportive care.",differential_diagnosis:["1. Viral Respiratory Infections: Common cold, Influenza, COVID-19","2. Bronchitis: Inflammation of the bronchial tubes with productive cough","3. Pneumonia: Infection of the lung tissue, often with more severe symptoms","4. Sinusitis: Infection or inflammation of the sinuses with post-nasal drip","5. Allergic Reaction: With infection complication"],reasoning:"The combination of cough and fever is most commonly associated with viral respiratory infections. Without additional symptoms like severe shortness of breath or chest pain, a self-limiting viral infection is most likely.",warning_signs:["Difficulty breathing or shortness of breath","Persistent high fever (above 39C/102F) for more than 3 days","Coughing up blood","Severe chest pain","Confusion or extreme fatigue"],recommendations:["If you have asthma, monitor your condition closely and use your prescribed medications","Seek medical care if symptoms worsen or persist beyond 10 days","Consider COVID-19 testing if available in your area","Stay isolated from others until fever resolves to prevent spread"]}:r.includes("headache")&&(r.includes("one side")||r.includes("pulsating")||r.includes("throbbing")||r.includes("light")||r.includes("sound")||r.includes("nausea"))?{condition:"Migraine",urgency:"low",remedies:["Rest in a quiet, dark room","Apply cold compresses to your forehead or neck","Over-the-counter pain relievers like ibuprofen or acetaminophen at the earliest sign","Stay hydrated and maintain regular meals","Try caffeine for mild relief in some cases"],explanation:"Your symptoms suggest a migraine, which is more than just a headache. Migraines often cause throbbing pain, typically on one side of the head, and can be accompanied by sensitivity to light and sound, nausea, or visual disturbances.",differential_diagnosis:["1. Migraine: Typically one-sided, throbbing with sensitivity to stimuli","2. Tension Headache: More generalized pressure or band-like pain","3. Cluster Headache: Severe pain around one eye, occurring in cycles","4. Sinus Headache: Pain and pressure around sinuses, often with congestion"],reasoning:"The pattern of headache with associated symptoms like light/sound sensitivity or nausea points toward migraine. Migraines are neurological events that can be triggered by various factors including stress, certain foods, hormonal changes, or environmental stimuli.",warning_signs:["Worst headache of your life (thunderclap headache)","Headache with fever, stiff neck, confusion, seizures, or double vision","Headache after head injury","New or different headache if you're over 50","Headache with weakness, numbness, or speech difficulty"],recommendations:["Track your headaches in a diary to identify patterns and triggers","Maintain a regular sleep and meal schedule","Consider stress management techniques like meditation","If migraines are frequent or severe, consult a healthcare provider for preventive treatment","Seek immediate medical attention for any warning signs"]}:{condition:"General Discomfort",urgency:"low",remedies:["Rest and adequate sleep","Stay hydrated with plenty of water","Balanced nutrition with fruits and vegetables","Over-the-counter pain relievers if needed and not contraindicated"],explanation:"Based on the symptoms described, I can't determine a specific diagnosis. Most minor ailments resolve with general self-care measures including rest, hydration, and good nutrition.",differential_diagnosis:["Without more specific symptoms, it's difficult to narrow down potential causes","Consider whether symptoms are related to stress, minor viral illness, or lifestyle factors","If symptoms persist or worsen, a more thorough medical evaluation is recommended"],reasoning:"General symptoms can have many possible causes. Providing more specific details about the nature, location, duration, and severity of your symptoms would allow for a more accurate assessment.",warning_signs:["High fever (above 39C/102F) that doesn't respond to medication","Difficulty breathing or chest pain","Severe pain that is new and persistent","Confusion, excessive drowsiness, or disorientation","Inability to eat or drink for more than 24 hours"],recommendations:["Monitor your symptoms for any changes or worsening","Consult a healthcare provider if symptoms persist beyond 3-5 days","Consider telemedicine options if in-person care is not readily available","Be prepared to describe your symptoms in detail to healthcare providers"]}}async getGeneralResponse(e){if(this.mockMode)return this.getMockGeneralResponse(e);try{return(await Tn.post(this.apiEndpoint,{model:this.model,messages:[{role:"system",content:`You are a helpful AI assistant for the Ratidzo Health platform. While your primary purpose is to provide health information, you can also answer general questions on various topics. 
              
              Provide helpful, accurate, and concise information on any topic the user asks about. If the question relates to sensitive topics, provide balanced and educational information. 
              
              Always maintain a friendly, informative tone.`},{role:"user",content:e}],temperature:.7,max_tokens:500},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`}})).data.choices[0].message.content}catch(n){throw console.error("Error calling DeepSeek API for general response:",n),n}}getMockGeneralResponse(e){const n=e.toLowerCase();return n.includes("weather")||n.includes("climate")?"I don't have access to real-time weather data, but I can tell you that Zimbabwe has a subtropical climate with a rainy season from November to March and a dry season from April to October. Temperatures vary by elevation, with higher areas being cooler.":n.includes("history")||n.includes("independence")?"Zimbabwe, formerly known as Southern Rhodesia and later Rhodesia, gained independence from British colonial rule on April 18, 1980. The country has a rich history dating back to the ancient Kingdom of Great Zimbabwe, which flourished from the 11th to 15th centuries.":n.includes("travel")||n.includes("tourism")||n.includes("visit")?"Zimbabwe offers many tourist attractions including Victoria Falls (one of the Seven Natural Wonders of the World), the ruins of Great Zimbabwe, Hwange National Park, Mana Pools National Park, and Lake Kariba. Visitors can enjoy wildlife safaris, adventure activities, and cultural experiences.":n.includes("food")||n.includes("cuisine")||n.includes("eat")?"Traditional Zimbabwean cuisine includes sadza (a thick porridge made from maize meal), served with vegetables and meat stews. Popular dishes include muriwo une dovi (vegetables cooked with peanut butter), mopane worms (a protein-rich delicacy), and mapopo candy (papaya sweets).":n.includes("music")||n.includes("dance")||n.includes("art")?"Zimbabwe has a vibrant cultural scene. Mbira music (played on the thumb piano) is traditional, while Chimurenga music became popular during the liberation struggle. Notable musicians include Thomas Mapfumo, Oliver Mtukudzi, and Stella Chiweshe. Stone sculpture is also internationally recognized.":n.includes("language")||n.includes("speak")?"Zimbabwe has 16 official languages. The main languages are Shona, spoken by about 70% of the population, and Ndebele, spoken by about 20%. English is widely used in government, business, and education.":"Thank you for your question. I'm happy to help with both health-related and general questions. Is there anything specific you'd like to know more about?"}async getChatResponse(e,n=[]){if(console.log("Getting chat response for:",e),console.log("Using mock mode:",this.mockMode),this.mockMode)return this.getMockChatResponse(e,n);try{const r=[{role:"system",content:`You are Ratidzo, a knowledgeable and helpful health assistant focused on providing accurate and helpful health information to Zimbabweans. 
          
          Your primary purpose is to:
          1. Answer health-related questions with evidence-based information
          2. Provide contextually relevant advice for common health issues
          3. Explain medical concepts in clear, understandable terms
          4. Offer information about local healthcare options and traditional remedies when appropriate
          
          Keep your responses friendly, concise, and culturally appropriate for Zimbabwe. When discussing treatments, acknowledge both modern medical approaches and traditional remedies that are safe and effective.
          
          Always include appropriate disclaimers when providing health information, and recommend consulting healthcare professionals for serious conditions.`}];n.forEach(s=>{r.push({role:s.role==="user"?"user":"assistant",content:s.content})}),r.push({role:"user",content:e}),console.log("Sending request to DeepSeek API");const i=await Tn.post(this.apiEndpoint,{model:this.model,messages:r,temperature:.7,max_tokens:800},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`}});return console.log("Received response from DeepSeek API"),i.data.choices[0].message.content}catch(r){return console.error("Error calling DeepSeek API for chat response:",r),this.getMockChatResponse(e,n)}}getMockChatResponse(e,n=[]){const r=e.toLowerCase();if(r.includes("hello")||r.includes("hi")||r==="hey")return"Hello! I'm Ratidzo Health AI, your health assistant. How can I help you today? You can ask me about health symptoms, conditions, or general health information.";if(r.includes("aids")||r.includes("hiv"))return"HIV/AIDS is a serious health condition that affects the immune system. In Zimbabwe, there are many resources available for testing, treatment, and support. It's important to get tested regularly and, if diagnosed, to follow your treatment plan carefully. Would you like specific information about prevention, testing, or treatment options?";if(r.includes("clinic")||r.includes("hospital")||r.includes("nearby")||r.includes("find")||r.includes("locate"))return"For information about local healthcare facilities, I recommend contacting your local health authority or using the Zimbabwe Ministry of Health's website. They can provide you with the most up-to-date information about clinics and hospitals in your area.";const i=["I understand you're asking about health information. To provide the most helpful response, could you share more specific details about your question or concern?","That's an important health question. To help you better, could you provide more context or specific symptoms you're experiencing?","I'm here to provide health information and guidance. Could you elaborate a bit more on your question so I can give you the most relevant information?","I'd be happy to help with your health-related questions. Could you provide more details about what you'd like to know?","Thank you for your question. To provide accurate information, I'd need some more specific details about your health concern."];return i[Math.floor(Math.random()*i.length)]}}const FE=new ND;var qb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4;let g=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(g=64)),r.push(n[d],n[p],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||p==null)throw new CD;const g=s<<2|a>>4;if(r.push(g),u!==64){const m=a<<4&240|u>>2;if(r.push(m),p!==64){const A=u<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LD=function(t){const e=jE(t);return VE.encodeByteArray(e,!0)},xm=function(t){return LD(t).replace(/\./g,"")},BE=function(t){try{return VE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=()=>RD().__FIREBASE_DEFAULTS__,OD=()=>{if(typeof process>"u"||typeof qb>"u")return;const t=qb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BE(t[1]);return e&&JSON.parse(e)},pg=()=>{try{return DD()||OD()||MD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UE=t=>{var e,n;return(n=(e=pg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FD=t=>{const e=UE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zE=()=>{var t;return(t=pg())===null||t===void 0?void 0:t.config},qE=t=>{var e;return(e=pg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xm(JSON.stringify(n)),xm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dr())}function UD(){var t;const e=(t=pg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $D(){const t=Dr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WD(){return!UD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GD(){try{return typeof indexedDB=="object"}catch{return!1}}function KD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="FirebaseError";class Vo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YD,Object.setPrototypeOf(this,Vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zd.prototype.create)}}class Zd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?QD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Vo(i,a,r)}}function QD(t,e){return t.replace(XD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XD=/\{\$([^}]+)}/g;function JD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Hb(s)&&Hb(o)){if(!Sm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Hb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ZD(t,e){const n=new eO(t,e);return n.subscribe.bind(n)}class eO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=F0),i.error===void 0&&(i.error=F0),i.complete===void 0&&(i.complete=F0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function F0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t){return t&&t._delegate?t._delegate:t}class Jl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iO(e))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nl){return this.instances.has(e)}getOptions(e=Nl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nl){return this.component?this.component.multipleInstances?e:Nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rO(t){return t===Nl?void 0:t}function iO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ct||(Ct={}));const oO={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},aO=Ct.INFO,lO={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},uO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=lO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class D2{constructor(e){this.name=e,this._logLevel=aO,this._logHandler=uO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...e),this._logHandler(this,Ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...e),this._logHandler(this,Ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...e),this._logHandler(this,Ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...e),this._logHandler(this,Ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...e),this._logHandler(this,Ct.ERROR,...e)}}const cO=(t,e)=>e.some(n=>t instanceof n);let $b,Wb;function hO(){return $b||($b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dO(){return Wb||(Wb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HE=new WeakMap,_y=new WeakMap,$E=new WeakMap,j0=new WeakMap,O2=new WeakMap;function fO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ua(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&HE.set(n,t)}).catch(()=>{}),O2.set(e,t),e}function pO(t){if(_y.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});_y.set(t,e)}let by={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _y.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$E.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ua(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mO(t){by=t(by)}function gO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(V0(this),e,...n);return $E.set(r,e.sort?e.sort():[e]),Ua(r)}:dO().includes(t)?function(...e){return t.apply(V0(this),e),Ua(HE.get(this))}:function(...e){return Ua(t.apply(V0(this),e))}}function yO(t){return typeof t=="function"?gO(t):(t instanceof IDBTransaction&&pO(t),cO(t,hO())?new Proxy(t,by):t)}function Ua(t){if(t instanceof IDBRequest)return fO(t);if(j0.has(t))return j0.get(t);const e=yO(t);return e!==t&&(j0.set(t,e),O2.set(e,t)),e}const V0=t=>O2.get(t);function vO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ua(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ua(o.result),l.oldVersion,l.newVersion,Ua(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const wO=["get","getKey","getAll","getAllKeys","count"],_O=["put","add","delete","clear"],B0=new Map;function Gb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(B0.get(e))return B0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_O.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return B0.set(e,s),s}mO(t=>({...t,get:(e,n,r)=>Gb(e,n)||t.get(e,n,r),has:(e,n)=>!!Gb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xy="@firebase/app",Kb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new D2("@firebase/app"),SO="@firebase/app-compat",AO="@firebase/analytics-compat",EO="@firebase/analytics",TO="@firebase/app-check-compat",IO="@firebase/app-check",PO="@firebase/auth",NO="@firebase/auth-compat",kO="@firebase/database",CO="@firebase/data-connect",LO="@firebase/database-compat",RO="@firebase/functions",DO="@firebase/functions-compat",OO="@firebase/installations",MO="@firebase/installations-compat",FO="@firebase/messaging",jO="@firebase/messaging-compat",VO="@firebase/performance",BO="@firebase/performance-compat",UO="@firebase/remote-config",zO="@firebase/remote-config-compat",qO="@firebase/storage",HO="@firebase/storage-compat",$O="@firebase/firestore",WO="@firebase/vertexai-preview",GO="@firebase/firestore-compat",KO="firebase",YO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="[DEFAULT]",QO={[xy]:"fire-core",[SO]:"fire-core-compat",[EO]:"fire-analytics",[AO]:"fire-analytics-compat",[IO]:"fire-app-check",[TO]:"fire-app-check-compat",[PO]:"fire-auth",[NO]:"fire-auth-compat",[kO]:"fire-rtdb",[CO]:"fire-data-connect",[LO]:"fire-rtdb-compat",[RO]:"fire-fn",[DO]:"fire-fn-compat",[OO]:"fire-iid",[MO]:"fire-iid-compat",[FO]:"fire-fcm",[jO]:"fire-fcm-compat",[VO]:"fire-perf",[BO]:"fire-perf-compat",[UO]:"fire-rc",[zO]:"fire-rc-compat",[qO]:"fire-gcs",[HO]:"fire-gcs-compat",[$O]:"fire-fst",[GO]:"fire-fst-compat",[WO]:"fire-vertex","fire-js":"fire-js",[KO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new Map,XO=new Map,Ay=new Map;function Yb(t,e){try{t.container.addComponent(e)}catch(n){Ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cc(t){const e=t.name;if(Ay.has(e))return Ro.debug(`There were multiple attempts to register component ${e}.`),!1;Ay.set(e,t);for(const n of Am.values())Yb(n,t);for(const n of XO.values())Yb(n,t);return!0}function M2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ka(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},za=new Zd("app","Firebase",JO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=YO;function WE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw za.create("bad-app-name",{appName:String(i)});if(n||(n=zE()),!n)throw za.create("no-options");const s=Am.get(i);if(s){if(Sm(n,s.options)&&Sm(r,s.config))return s;throw za.create("duplicate-app",{appName:i})}const o=new sO(i);for(const l of Ay.values())o.addComponent(l);const a=new ZO(n,r,o);return Am.set(i,a),a}function GE(t=Sy){const e=Am.get(t);if(!e&&t===Sy&&zE())return WE();if(!e)throw za.create("no-app",{appName:t});return e}function qa(t,e,n){var r;let i=(r=QO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ro.warn(a.join(" "));return}Cc(new Jl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="firebase-heartbeat-database",tM=1,Cd="firebase-heartbeat-store";let U0=null;function KE(){return U0||(U0=vO(eM,tM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cd)}catch(n){console.warn(n)}}}}).catch(t=>{throw za.create("idb-open",{originalErrorMessage:t.message})})),U0}async function nM(t){try{const n=(await KE()).transaction(Cd),r=await n.objectStore(Cd).get(YE(t));return await n.done,r}catch(e){if(e instanceof Vo)Ro.warn(e.message);else{const n=za.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ro.warn(n.message)}}}async function Qb(t,e){try{const r=(await KE()).transaction(Cd,"readwrite");await r.objectStore(Cd).put(e,YE(t)),await r.done}catch(n){if(n instanceof Vo)Ro.warn(n.message);else{const r=za.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ro.warn(r.message)}}}function YE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=1024,iM=30*24*60*60*1e3;class sM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Xb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=iM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ro.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xb(),{heartbeatsToSend:r,unsentEntries:i}=oM(this._heartbeatsCache.heartbeats),s=xm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ro.warn(n),""}}}function Xb(){return new Date().toISOString().substring(0,10)}function oM(t,e=rM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Jb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GD()?KD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Jb(t){return xm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){Cc(new Jl("platform-logger",e=>new bO(e),"PRIVATE")),Cc(new Jl("heartbeat",e=>new sM(e),"PRIVATE")),qa(xy,Kb,t),qa(xy,Kb,"esm2017"),qa("fire-js","")}lM("");var Zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zl,QE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,E){function C(){}C.prototype=E.prototype,O.D=E.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(V,I,k){for(var L=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)L[Z-2]=arguments[Z];return E.prototype[I].apply(V,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,E,C){C||(C=0);var V=Array(16);if(typeof E=="string")for(var I=0;16>I;++I)V[I]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(I=0;16>I;++I)V[I]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=O.g[0],C=O.g[1],I=O.g[2];var k=O.g[3],L=E+(k^C&(I^k))+V[0]+3614090360&4294967295;E=C+(L<<7&4294967295|L>>>25),L=k+(I^E&(C^I))+V[1]+3905402710&4294967295,k=E+(L<<12&4294967295|L>>>20),L=I+(C^k&(E^C))+V[2]+606105819&4294967295,I=k+(L<<17&4294967295|L>>>15),L=C+(E^I&(k^E))+V[3]+3250441966&4294967295,C=I+(L<<22&4294967295|L>>>10),L=E+(k^C&(I^k))+V[4]+4118548399&4294967295,E=C+(L<<7&4294967295|L>>>25),L=k+(I^E&(C^I))+V[5]+1200080426&4294967295,k=E+(L<<12&4294967295|L>>>20),L=I+(C^k&(E^C))+V[6]+2821735955&4294967295,I=k+(L<<17&4294967295|L>>>15),L=C+(E^I&(k^E))+V[7]+4249261313&4294967295,C=I+(L<<22&4294967295|L>>>10),L=E+(k^C&(I^k))+V[8]+1770035416&4294967295,E=C+(L<<7&4294967295|L>>>25),L=k+(I^E&(C^I))+V[9]+2336552879&4294967295,k=E+(L<<12&4294967295|L>>>20),L=I+(C^k&(E^C))+V[10]+4294925233&4294967295,I=k+(L<<17&4294967295|L>>>15),L=C+(E^I&(k^E))+V[11]+2304563134&4294967295,C=I+(L<<22&4294967295|L>>>10),L=E+(k^C&(I^k))+V[12]+1804603682&4294967295,E=C+(L<<7&4294967295|L>>>25),L=k+(I^E&(C^I))+V[13]+4254626195&4294967295,k=E+(L<<12&4294967295|L>>>20),L=I+(C^k&(E^C))+V[14]+2792965006&4294967295,I=k+(L<<17&4294967295|L>>>15),L=C+(E^I&(k^E))+V[15]+1236535329&4294967295,C=I+(L<<22&4294967295|L>>>10),L=E+(I^k&(C^I))+V[1]+4129170786&4294967295,E=C+(L<<5&4294967295|L>>>27),L=k+(C^I&(E^C))+V[6]+3225465664&4294967295,k=E+(L<<9&4294967295|L>>>23),L=I+(E^C&(k^E))+V[11]+643717713&4294967295,I=k+(L<<14&4294967295|L>>>18),L=C+(k^E&(I^k))+V[0]+3921069994&4294967295,C=I+(L<<20&4294967295|L>>>12),L=E+(I^k&(C^I))+V[5]+3593408605&4294967295,E=C+(L<<5&4294967295|L>>>27),L=k+(C^I&(E^C))+V[10]+38016083&4294967295,k=E+(L<<9&4294967295|L>>>23),L=I+(E^C&(k^E))+V[15]+3634488961&4294967295,I=k+(L<<14&4294967295|L>>>18),L=C+(k^E&(I^k))+V[4]+3889429448&4294967295,C=I+(L<<20&4294967295|L>>>12),L=E+(I^k&(C^I))+V[9]+568446438&4294967295,E=C+(L<<5&4294967295|L>>>27),L=k+(C^I&(E^C))+V[14]+3275163606&4294967295,k=E+(L<<9&4294967295|L>>>23),L=I+(E^C&(k^E))+V[3]+4107603335&4294967295,I=k+(L<<14&4294967295|L>>>18),L=C+(k^E&(I^k))+V[8]+1163531501&4294967295,C=I+(L<<20&4294967295|L>>>12),L=E+(I^k&(C^I))+V[13]+2850285829&4294967295,E=C+(L<<5&4294967295|L>>>27),L=k+(C^I&(E^C))+V[2]+4243563512&4294967295,k=E+(L<<9&4294967295|L>>>23),L=I+(E^C&(k^E))+V[7]+1735328473&4294967295,I=k+(L<<14&4294967295|L>>>18),L=C+(k^E&(I^k))+V[12]+2368359562&4294967295,C=I+(L<<20&4294967295|L>>>12),L=E+(C^I^k)+V[5]+4294588738&4294967295,E=C+(L<<4&4294967295|L>>>28),L=k+(E^C^I)+V[8]+2272392833&4294967295,k=E+(L<<11&4294967295|L>>>21),L=I+(k^E^C)+V[11]+1839030562&4294967295,I=k+(L<<16&4294967295|L>>>16),L=C+(I^k^E)+V[14]+4259657740&4294967295,C=I+(L<<23&4294967295|L>>>9),L=E+(C^I^k)+V[1]+2763975236&4294967295,E=C+(L<<4&4294967295|L>>>28),L=k+(E^C^I)+V[4]+1272893353&4294967295,k=E+(L<<11&4294967295|L>>>21),L=I+(k^E^C)+V[7]+4139469664&4294967295,I=k+(L<<16&4294967295|L>>>16),L=C+(I^k^E)+V[10]+3200236656&4294967295,C=I+(L<<23&4294967295|L>>>9),L=E+(C^I^k)+V[13]+681279174&4294967295,E=C+(L<<4&4294967295|L>>>28),L=k+(E^C^I)+V[0]+3936430074&4294967295,k=E+(L<<11&4294967295|L>>>21),L=I+(k^E^C)+V[3]+3572445317&4294967295,I=k+(L<<16&4294967295|L>>>16),L=C+(I^k^E)+V[6]+76029189&4294967295,C=I+(L<<23&4294967295|L>>>9),L=E+(C^I^k)+V[9]+3654602809&4294967295,E=C+(L<<4&4294967295|L>>>28),L=k+(E^C^I)+V[12]+3873151461&4294967295,k=E+(L<<11&4294967295|L>>>21),L=I+(k^E^C)+V[15]+530742520&4294967295,I=k+(L<<16&4294967295|L>>>16),L=C+(I^k^E)+V[2]+3299628645&4294967295,C=I+(L<<23&4294967295|L>>>9),L=E+(I^(C|~k))+V[0]+4096336452&4294967295,E=C+(L<<6&4294967295|L>>>26),L=k+(C^(E|~I))+V[7]+1126891415&4294967295,k=E+(L<<10&4294967295|L>>>22),L=I+(E^(k|~C))+V[14]+2878612391&4294967295,I=k+(L<<15&4294967295|L>>>17),L=C+(k^(I|~E))+V[5]+4237533241&4294967295,C=I+(L<<21&4294967295|L>>>11),L=E+(I^(C|~k))+V[12]+1700485571&4294967295,E=C+(L<<6&4294967295|L>>>26),L=k+(C^(E|~I))+V[3]+2399980690&4294967295,k=E+(L<<10&4294967295|L>>>22),L=I+(E^(k|~C))+V[10]+4293915773&4294967295,I=k+(L<<15&4294967295|L>>>17),L=C+(k^(I|~E))+V[1]+2240044497&4294967295,C=I+(L<<21&4294967295|L>>>11),L=E+(I^(C|~k))+V[8]+1873313359&4294967295,E=C+(L<<6&4294967295|L>>>26),L=k+(C^(E|~I))+V[15]+4264355552&4294967295,k=E+(L<<10&4294967295|L>>>22),L=I+(E^(k|~C))+V[6]+2734768916&4294967295,I=k+(L<<15&4294967295|L>>>17),L=C+(k^(I|~E))+V[13]+1309151649&4294967295,C=I+(L<<21&4294967295|L>>>11),L=E+(I^(C|~k))+V[4]+4149444226&4294967295,E=C+(L<<6&4294967295|L>>>26),L=k+(C^(E|~I))+V[11]+3174756917&4294967295,k=E+(L<<10&4294967295|L>>>22),L=I+(E^(k|~C))+V[2]+718787259&4294967295,I=k+(L<<15&4294967295|L>>>17),L=C+(k^(I|~E))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+E&4294967295,O.g[1]=O.g[1]+(I+(L<<21&4294967295|L>>>11))&4294967295,O.g[2]=O.g[2]+I&4294967295,O.g[3]=O.g[3]+k&4294967295}r.prototype.u=function(O,E){E===void 0&&(E=O.length);for(var C=E-this.blockSize,V=this.B,I=this.h,k=0;k<E;){if(I==0)for(;k<=C;)i(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<E;)if(V[I++]=O.charCodeAt(k++),I==this.blockSize){i(this,V),I=0;break}}else for(;k<E;)if(V[I++]=O[k++],I==this.blockSize){i(this,V),I=0;break}}this.h=I,this.o+=E},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var E=1;E<O.length-8;++E)O[E]=0;var C=8*this.o;for(E=O.length-8;E<O.length;++E)O[E]=C&255,C/=256;for(this.u(O),O=Array(16),E=C=0;4>E;++E)for(var V=0;32>V;V+=8)O[C++]=this.g[E]>>>V&255;return O};function s(O,E){var C=a;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=E(O)}function o(O,E){this.h=E;for(var C=[],V=!0,I=O.length-1;0<=I;I--){var k=O[I]|0;V&&k==E||(C[I]=k,V=!1)}this.g=C}var a={};function l(O){return-128<=O&&128>O?s(O,function(E){return new o([E|0],0>E?-1:0)}):new o([O|0],0>O?-1:0)}function u(O){if(isNaN(O)||!isFinite(O))return p;if(0>O)return P(u(-O));for(var E=[],C=1,V=0;O>=C;V++)E[V]=O/C|0,C*=4294967296;return new o(E,0)}function d(O,E){if(O.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(O.charAt(0)=="-")return P(d(O.substring(1),E));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(E,8)),V=p,I=0;I<O.length;I+=8){var k=Math.min(8,O.length-I),L=parseInt(O.substring(I,I+k),E);8>k?(k=u(Math.pow(E,k)),V=V.j(k).add(u(L))):(V=V.j(C),V=V.add(u(L)))}return V}var p=l(0),g=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-P(this).m();for(var O=0,E=1,C=0;C<this.g.length;C++){var V=this.i(C);O+=(0<=V?V:4294967296+V)*E,E*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(x(this))return"-"+P(this).toString(O);for(var E=u(Math.pow(O,6)),C=this,V="";;){var I=H(C,E).g;C=_(C,I.j(E));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=I,A(C))return k+V;for(;6>k.length;)k="0"+k;V=k+V}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(var E=0;E<O.g.length;E++)if(O.g[E]!=0)return!1;return!0}function x(O){return O.h==-1}t.l=function(O){return O=_(this,O),x(O)?-1:A(O)?0:1};function P(O){for(var E=O.g.length,C=[],V=0;V<E;V++)C[V]=~O.g[V];return new o(C,~O.h).add(g)}t.abs=function(){return x(this)?P(this):this},t.add=function(O){for(var E=Math.max(this.g.length,O.g.length),C=[],V=0,I=0;I<=E;I++){var k=V+(this.i(I)&65535)+(O.i(I)&65535),L=(k>>>16)+(this.i(I)>>>16)+(O.i(I)>>>16);V=L>>>16,k&=65535,L&=65535,C[I]=L<<16|k}return new o(C,C[C.length-1]&-2147483648?-1:0)};function _(O,E){return O.add(P(E))}t.j=function(O){if(A(this)||A(O))return p;if(x(this))return x(O)?P(this).j(P(O)):P(P(this).j(O));if(x(O))return P(this.j(P(O)));if(0>this.l(m)&&0>O.l(m))return u(this.m()*O.m());for(var E=this.g.length+O.g.length,C=[],V=0;V<2*E;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var I=0;I<O.g.length;I++){var k=this.i(V)>>>16,L=this.i(V)&65535,Z=O.i(I)>>>16,we=O.i(I)&65535;C[2*V+2*I]+=L*we,b(C,2*V+2*I),C[2*V+2*I+1]+=k*we,b(C,2*V+2*I+1),C[2*V+2*I+1]+=L*Z,b(C,2*V+2*I+1),C[2*V+2*I+2]+=k*Z,b(C,2*V+2*I+2)}for(V=0;V<E;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=E;V<2*E;V++)C[V]=0;return new o(C,0)};function b(O,E){for(;(O[E]&65535)!=O[E];)O[E+1]+=O[E]>>>16,O[E]&=65535,E++}function N(O,E){this.g=O,this.h=E}function H(O,E){if(A(E))throw Error("division by zero");if(A(O))return new N(p,p);if(x(O))return E=H(P(O),E),new N(P(E.g),P(E.h));if(x(E))return E=H(O,P(E)),new N(P(E.g),E.h);if(30<O.g.length){if(x(O)||x(E))throw Error("slowDivide_ only works with positive integers.");for(var C=g,V=E;0>=V.l(O);)C=$(C),V=$(V);var I=J(C,1),k=J(V,1);for(V=J(V,2),C=J(C,2);!A(V);){var L=k.add(V);0>=L.l(O)&&(I=I.add(C),k=L),V=J(V,1),C=J(C,1)}return E=_(O,I.j(E)),new N(I,E)}for(I=p;0<=O.l(E);){for(C=Math.max(1,Math.floor(O.m()/E.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),k=u(C),L=k.j(E);x(L)||0<L.l(O);)C-=V,k=u(C),L=k.j(E);A(k)&&(k=g),I=I.add(k),O=_(O,L)}return new N(I,O)}t.A=function(O){return H(this,O).h},t.and=function(O){for(var E=Math.max(this.g.length,O.g.length),C=[],V=0;V<E;V++)C[V]=this.i(V)&O.i(V);return new o(C,this.h&O.h)},t.or=function(O){for(var E=Math.max(this.g.length,O.g.length),C=[],V=0;V<E;V++)C[V]=this.i(V)|O.i(V);return new o(C,this.h|O.h)},t.xor=function(O){for(var E=Math.max(this.g.length,O.g.length),C=[],V=0;V<E;V++)C[V]=this.i(V)^O.i(V);return new o(C,this.h^O.h)};function $(O){for(var E=O.g.length+1,C=[],V=0;V<E;V++)C[V]=O.i(V)<<1|O.i(V-1)>>>31;return new o(C,O.h)}function J(O,E){var C=E>>5;E%=32;for(var V=O.g.length-C,I=[],k=0;k<V;k++)I[k]=0<E?O.i(k+C)>>>E|O.i(k+C+1)<<32-E:O.i(k+C);return new o(I,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,zl=o}).apply(typeof Zb<"u"?Zb:typeof self<"u"?self:typeof window<"u"?window:{});var np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XE,jh,JE,kp,Ey,ZE,eT,tT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,T){return h==Array.prototype||h==Object.prototype||(h[w]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof np=="object"&&np];for(var w=0;w<h.length;++w){var T=h[w];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var T=r;h=h.split(".");for(var B=0;B<h.length-1;B++){var oe=h[B];if(!(oe in T))break e;T=T[oe]}h=h[h.length-1],B=T[h],w=w(B),w!=B&&w!=null&&e(T,h,{configurable:!0,writable:!0,value:w})}}function s(h,w){h instanceof String&&(h+="");var T=0,B=!1,oe={next:function(){if(!B&&T<h.length){var pe=T++;return{value:w(pe,h[pe]),done:!1}}return B=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}i("Array.prototype.values",function(h){return h||function(){return s(this,function(w,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function u(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function d(h,w,T){return h.call.apply(h.bind,arguments)}function p(h,w,T){if(!h)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,B),h.apply(w,oe)}}return function(){return h.apply(w,arguments)}}function g(h,w,T){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function m(h,w){var T=Array.prototype.slice.call(arguments,1);return function(){var B=T.slice();return B.push.apply(B,arguments),h.apply(this,B)}}function A(h,w){function T(){}T.prototype=w.prototype,h.aa=w.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(B,oe,pe){for(var ke=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)ke[vt-2]=arguments[vt];return w.prototype[oe].apply(B,ke)}}function x(h){const w=h.length;if(0<w){const T=Array(w);for(let B=0;B<w;B++)T[B]=h[B];return T}return[]}function P(h,w){for(let T=1;T<arguments.length;T++){const B=arguments[T];if(l(B)){const oe=h.length||0,pe=B.length||0;h.length=oe+pe;for(let ke=0;ke<pe;ke++)h[oe+ke]=B[ke]}else h.push(B)}}class _{constructor(w,T){this.i=w,this.j=T,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function b(h){return/^[\s\xa0]*$/.test(h)}function N(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function H(h){return H[" "](h),h}H[" "]=function(){};var $=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function J(h,w,T){for(const B in h)w.call(T,h[B],B,h)}function O(h,w){for(const T in h)w.call(void 0,h[T],T,h)}function E(h){const w={};for(const T in h)w[T]=h[T];return w}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,w){let T,B;for(let oe=1;oe<arguments.length;oe++){B=arguments[oe];for(T in B)h[T]=B[T];for(let pe=0;pe<C.length;pe++)T=C[pe],Object.prototype.hasOwnProperty.call(B,T)&&(h[T]=B[T])}}function I(h){var w=1;h=h.split(":");const T=[];for(;0<w&&h.length;)T.push(h.shift()),w--;return h.length&&T.push(h.join(":")),T}function k(h){a.setTimeout(()=>{throw h},0)}function L(){var h=ue;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class Z{constructor(){this.h=this.g=null}add(w,T){const B=we.get();B.set(w,T),this.h?this.h.next=B:this.g=B,this.h=B}}var we=new _(()=>new ge,h=>h.reset());class ge{constructor(){this.next=this.g=this.h=null}set(w,T){this.h=w,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let me,X=!1,ue=new Z,ce=()=>{const h=a.Promise.resolve(void 0);me=()=>{h.then(Oe)}};var Oe=()=>{for(var h;h=L();){try{h.h.call(h.g)}catch(T){k(T)}var w=we;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}X=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};a.addEventListener("test",T,w),a.removeEventListener("test",T,w)}catch{}return h}();function ee(h,w){if(W.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,B=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if($){e:{try{H(w.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(w=null)}}else T=="mouseover"?w=h.fromElement:T=="mouseout"&&(w=h.toElement);this.relatedTarget=w,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ie[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ee.aa.h.call(this)}}A(ee,W);var ie={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),ye=0;function ve(h,w,T,B,oe){this.listener=h,this.proxy=null,this.src=w,this.type=T,this.capture=!!B,this.ha=oe,this.key=++ye,this.da=this.fa=!1}function Fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Re(h){this.src=h,this.g={},this.h=0}Re.prototype.add=function(h,w,T,B,oe){var pe=h.toString();h=this.g[pe],h||(h=this.g[pe]=[],this.h++);var ke=Be(h,w,B,oe);return-1<ke?(w=h[ke],T||(w.fa=!1)):(w=new ve(w,this.src,pe,!!B,oe),w.fa=T,h.push(w)),w};function ze(h,w){var T=w.type;if(T in h.g){var B=h.g[T],oe=Array.prototype.indexOf.call(B,w,void 0),pe;(pe=0<=oe)&&Array.prototype.splice.call(B,oe,1),pe&&(Fe(w),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Be(h,w,T,B){for(var oe=0;oe<h.length;++oe){var pe=h[oe];if(!pe.da&&pe.listener==w&&pe.capture==!!T&&pe.ha==B)return oe}return-1}var it="closure_lm_"+(1e6*Math.random()|0),Se={};function Q(h,w,T,B,oe){if(Array.isArray(w)){for(var pe=0;pe<w.length;pe++)Q(h,w[pe],T,B,oe);return null}return T=yt(T),h&&h[he]?h.K(w,T,u(B)?!!B.capture:!!B,oe):gt(h,w,T,!1,B,oe)}function gt(h,w,T,B,oe,pe){if(!w)throw Error("Invalid event type");var ke=u(oe)?!!oe.capture:!!oe,vt=tt(h);if(vt||(h[it]=vt=new Re(h)),T=vt.add(w,T,B,ke,pe),T.proxy)return T;if(B=Ze(),T.proxy=B,B.src=h,B.listener=T,h.addEventListener)Y||(oe=ke),oe===void 0&&(oe=!1),h.addEventListener(w.toString(),B,oe);else if(h.attachEvent)h.attachEvent(We(w.toString()),B);else if(h.addListener&&h.removeListener)h.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ze(){function h(T){return w.call(h.src,h.listener,T)}const w=He;return h}function De(h,w,T,B,oe){if(Array.isArray(w))for(var pe=0;pe<w.length;pe++)De(h,w[pe],T,B,oe);else B=u(B)?!!B.capture:!!B,T=yt(T),h&&h[he]?(h=h.i,w=String(w).toString(),w in h.g&&(pe=h.g[w],T=Be(pe,T,B,oe),-1<T&&(Fe(pe[T]),Array.prototype.splice.call(pe,T,1),pe.length==0&&(delete h.g[w],h.h--)))):h&&(h=tt(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Be(w,T,B,oe)),(T=-1<h?w[h]:null)&&Ve(T))}function Ve(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[he])ze(w.i,h);else{var T=h.type,B=h.proxy;w.removeEventListener?w.removeEventListener(T,B,h.capture):w.detachEvent?w.detachEvent(We(T),B):w.addListener&&w.removeListener&&w.removeListener(B),(T=tt(w))?(ze(T,h),T.h==0&&(T.src=null,w[it]=null)):Fe(h)}}}function We(h){return h in Se?Se[h]:Se[h]="on"+h}function He(h,w){if(h.da)h=!0;else{w=new ee(w,this);var T=h.listener,B=h.ha||h.src;h.fa&&Ve(h),h=T.call(B,w)}return h}function tt(h){return h=h[it],h instanceof Re?h:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function yt(h){return typeof h=="function"?h:(h[dt]||(h[dt]=function(w){return h.handleEvent(w)}),h[dt])}function nt(){M.call(this),this.i=new Re(this),this.M=this,this.F=null}A(nt,M),nt.prototype[he]=!0,nt.prototype.removeEventListener=function(h,w,T,B){De(this,h,w,T,B)};function ut(h,w){var T,B=h.F;if(B)for(T=[];B;B=B.F)T.push(B);if(h=h.M,B=w.type||w,typeof w=="string")w=new W(w,h);else if(w instanceof W)w.target=w.target||h;else{var oe=w;w=new W(B,h),V(w,oe)}if(oe=!0,T)for(var pe=T.length-1;0<=pe;pe--){var ke=w.g=T[pe];oe=Dt(ke,B,!0,w)&&oe}if(ke=w.g=h,oe=Dt(ke,B,!0,w)&&oe,oe=Dt(ke,B,!1,w)&&oe,T)for(pe=0;pe<T.length;pe++)ke=w.g=T[pe],oe=Dt(ke,B,!1,w)&&oe}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var T=h.g[w],B=0;B<T.length;B++)Fe(T[B]);delete h.g[w],h.h--}}this.F=null},nt.prototype.K=function(h,w,T,B){return this.i.add(String(h),w,!1,T,B)},nt.prototype.L=function(h,w,T,B){return this.i.add(String(h),w,!0,T,B)};function Dt(h,w,T,B){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var oe=!0,pe=0;pe<w.length;++pe){var ke=w[pe];if(ke&&!ke.da&&ke.capture==T){var vt=ke.listener,It=ke.ha||ke.src;ke.fa&&ze(h.i,ke),oe=vt.call(It,B)!==!1&&oe}}return oe&&!B.defaultPrevented}function at(h,w,T){if(typeof h=="function")T&&(h=g(h,T));else if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:a.setTimeout(h,w||0)}function Et(h){h.g=at(()=>{h.g=null,h.i&&(h.i=!1,Et(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Ge extends M{constructor(w,T){super(),this.m=w,this.l=T,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Et(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wn(h){M.call(this),this.h=h,this.g={}}A(wn,M);var kt=[];function $r(h){J(h.g,function(w,T){this.g.hasOwnProperty(T)&&Ve(w)},h),h.g={}}wn.prototype.N=function(){wn.aa.N.call(this),$r(this)},wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vt=a.JSON.stringify,Zt=a.JSON.parse,Pi=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Lt(){}Lt.prototype.h=null;function _s(h){return h.h||(h.h=h.i())}function sn(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){W.call(this,"d")}A(ai,W);function en(){W.call(this,"c")}A(en,W);var st={},Ot=null;function Ni(){return Ot=Ot||new nt}st.La="serverreachability";function Fn(h){W.call(this,st.La,h)}A(Fn,W);function mr(h){const w=Ni();ut(w,new Fn(w))}st.STAT_EVENT="statevent";function li(h,w){W.call(this,st.STAT_EVENT,h),this.stat=w}A(li,W);function Ye(h){const w=Ni();ut(w,new li(w,h))}st.Ma="timingevent";function Wr(h,w){W.call(this,st.Ma,h),this.size=w}A(Wr,W);function gr(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},w)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function In(h,w,T,B,oe,pe){h.info(function(){if(h.g)if(pe)for(var ke="",vt=pe.split("&"),It=0;It<vt.length;It++){var wt=vt[It].split("=");if(1<wt.length){var zt=wt[0];wt=wt[1];var Qt=zt.split("_");ke=2<=Qt.length&&Qt[1]=="type"?ke+(zt+"="+wt+"&"):ke+(zt+"=redacted&")}}else ke=null;else ke=pe;return"XMLHTTP REQ ("+B+") [attempt "+oe+"]: "+w+`
`+T+`
`+ke})}function _n(h,w,T,B,oe,pe,ke){h.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+oe+"]: "+w+`
`+T+`
`+pe+" "+ke})}function Vn(h,w,T,B){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Gi(h,T)+(B?" "+B:"")})}function Bo(h,w){h.info(function(){return"TIMEOUT: "+w})}jn.prototype.info=function(){};function Gi(h,w){if(!h.g)return w;if(!w)return null;try{var T=JSON.parse(w);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var B=T[h];if(!(2>B.length)){var oe=B[1];if(Array.isArray(oe)&&!(1>oe.length)){var pe=oe[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var ke=1;ke<oe.length;ke++)oe[ke]=""}}}}return Vt(T)}catch{return w}}var yr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Or;function Mr(){}A(Mr,Lt),Mr.prototype.g=function(){return new XMLHttpRequest},Mr.prototype.i=function(){return{}},Or=new Mr;function Pn(h,w,T,B){this.j=h,this.i=w,this.l=T,this.R=B||1,this.U=new wn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var bs={},xs={};function Ss(h,w,T){h.L=1,h.v=no(Fr(w)),h.m=T,h.P=!0,Xs(h,null)}function Xs(h,w){h.F=Date.now(),Uo(h),h.A=Fr(h.v);var T=h.A,B=h.R;Array.isArray(B)||(B=[String(B)]),ft(T.i,"t",B),h.C=0,T=h.j.J,h.h=new ui,h.g=R(h.j,T?w:null,!h.m),0<h.O&&(h.M=new Ge(g(h.Y,h,h.g),h.O)),w=h.U,T=h.g,B=h.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(kt[0]=oe.toString()),oe=kt);for(var pe=0;pe<oe.length;pe++){var ke=Q(T,oe[pe],B||w.handleEvent,!1,w.h||w);if(!ke)break;w.g[ke.key]=ke}w=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),mr(),In(h.i,h.u,h.A,h.l,h.R,h.m)}Pn.prototype.ca=function(h){h=h.target;const w=this.M;w&&$n(h)==3?w.j():this.Y(h)},Pn.prototype.Y=function(h){try{if(h==this.g)e:{const Qt=$n(this.g);var w=this.g.Ba();const ts=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||wu(this.g)))){this.J||Qt!=4||w==7||(w==8||0>=ts?mr(3):mr(2)),As(this);var T=this.g.Z();this.X=T;t:if(Js(this)){var B=wu(this.g);h="";var oe=B.length,pe=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ki(this),Es(this);var ke="";break t}this.h.i=new a.TextDecoder}for(w=0;w<oe;w++)this.h.h=!0,h+=this.h.i.decode(B[w],{stream:!(pe&&w==oe-1)});B.length=0,this.h.g+=h,this.C=0,ke=this.h.g}else ke=this.g.oa();if(this.o=T==200,_n(this.i,this.u,this.A,this.l,this.R,Qt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var vt,It=this.g;if((vt=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(vt)){var wt=vt;break t}}wt=null}if(T=wt)Vn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zs(this,T);else{this.o=!1,this.s=3,Ye(12),Ki(this),Es(this);break e}}if(this.P){T=!0;let ir;for(;!this.J&&this.C<ke.length;)if(ir=cu(this,ke),ir==xs){Qt==4&&(this.s=4,Ye(14),T=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==bs){this.s=4,Ye(15),Vn(this.i,this.l,ke,"[Invalid Chunk]"),T=!1;break}else Vn(this.i,this.l,ir,null),Zs(this,ir);if(Js(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||ke.length!=0||this.h.h||(this.s=1,Ye(16),T=!1),this.o=this.o&&T,!T)Vn(this.i,this.l,ke,"[Invalid Chunked Response]"),Ki(this),Es(this);else if(0<ke.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+ke.length),ta(zt),zt.M=!0,Ye(11))}}else Vn(this.i,this.l,ke,null),Zs(this,ke);Qt==4&&Ki(this),this.o&&!this.J&&(Qt==4?ks(this.j,this):(this.o=!1,Uo(this)))}else Ps(this.g),T==400&&0<ke.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),Ki(this),Es(this)}}}catch{}finally{}};function Js(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function cu(h,w){var T=h.C,B=w.indexOf(`
`,T);return B==-1?xs:(T=Number(w.substring(T,B)),isNaN(T)?bs:(B+=1,B+T>w.length?xs:(w=w.slice(B,B+T),h.C=B+T,w)))}Pn.prototype.cancel=function(){this.J=!0,Ki(this)};function Uo(h){h.S=Date.now()+h.I,hu(h,h.I)}function hu(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=gr(g(h.ba,h),w)}function As(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Pn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Bo(this.i,this.A),this.L!=2&&(mr(),Ye(17)),Ki(this),this.s=2,Es(this)):hu(this,this.S-h)};function Es(h){h.j.G==0||h.J||ks(h.j,h)}function Ki(h){As(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,$r(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function Zs(h,w){try{var T=h.j;if(T.G!=0&&(T.g==h||sl(T.h,h))){if(!h.K&&sl(T.h,h)&&T.G==3){try{var B=T.Da.g.parse(w)}catch{B=null}if(Array.isArray(B)&&B.length==3){var oe=B;if(oe[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)es(T),Xo(T);else break e;ao(T),Ye(18)}}else T.za=oe[1],0<T.za-T.T&&37500>oe[2]&&T.F&&T.v==0&&!T.C&&(T.C=gr(g(T.Za,T),6e3));if(1>=eo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else vr(T,11)}else if((h.K||T.g==h)&&es(T),!b(w))for(oe=T.Da.g.parse(w),w=0;w<oe.length;w++){let wt=oe[w];if(T.T=wt[0],wt=wt[1],T.G==2)if(wt[0]=="c"){T.K=wt[1],T.ia=wt[2];const zt=wt[3];zt!=null&&(T.la=zt,T.j.info("VER="+T.la));const Qt=wt[4];Qt!=null&&(T.Aa=Qt,T.j.info("SVER="+T.Aa));const ts=wt[5];ts!=null&&typeof ts=="number"&&0<ts&&(B=1.5*ts,T.L=B,T.j.info("backChannelRequestTimeoutMs_="+B)),B=T;const ir=h.g;if(ir){const Cs=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cs){var pe=B.h;pe.g||Cs.indexOf("spdy")==-1&&Cs.indexOf("quic")==-1&&Cs.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(on(pe,pe.h),pe.h=null))}if(B.D){const Ls=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Ls&&(B.ya=Ls,qt(B.I,B.D,Ls))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),B=T;var ke=h;if(B.qa=y(B,B.J?B.ia:null,B.W),ke.K){ol(B.h,ke);var vt=ke,It=B.L;It&&(vt.I=It),vt.B&&(As(vt),Uo(vt)),B.g=ke}else ea(B);0<T.i.length&&Jo(T)}else wt[0]!="stop"&&wt[0]!="close"||vr(T,7);else T.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?vr(T,7):Zi(T):wt[0]!="noop"&&T.l&&T.l.ta(wt),T.v=0)}}mr(4)}catch{}}var eh=class{constructor(h,w){this.g=h,this.map=w}};function il(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function du(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function eo(h){return h.h?1:h.g?h.g.size:0}function sl(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function on(h,w){h.g?h.g.add(w):h.h=w}function ol(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}il.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function al(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const T of h.g.values())w=w.concat(T.D);return w}return x(h.i)}function fu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var w=[],T=h.length,B=0;B<T;B++)w.push(h[B]);return w}w=[],T=0;for(B in h)w[T++]=h[B];return w}function ll(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var w=[];h=h.length;for(var T=0;T<h;T++)w.push(T);return w}w=[],T=0;for(const B in h)w[T++]=B;return w}}}function pu(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var T=ll(h),B=fu(h),oe=B.length,pe=0;pe<oe;pe++)w.call(void 0,B[pe],T&&T[pe],h)}var Kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zo(h,w){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var B=h[T].indexOf("="),oe=null;if(0<=B){var pe=h[T].substring(0,B);oe=h[T].substring(B+1)}else pe=h[T];w(pe,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function bn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof bn){this.h=h.h,to(this,h.j),this.o=h.o,this.g=h.g,qo(this,h.s),this.l=h.l;var w=h.i,T=new Ts;T.i=w.i,w.g&&(T.g=new Map(w.g),T.h=w.h),ul(this,T),this.m=h.m}else h&&(w=String(h).match(Kr))?(this.h=!1,to(this,w[1]||"",!0),this.o=ro(w[2]||""),this.g=ro(w[3]||"",!0),qo(this,w[4]),this.l=ro(w[5]||"",!0),ul(this,w[6]||"",!0),this.m=ro(w[7]||"")):(this.h=!1,this.i=new Ts(null,this.h))}bn.prototype.toString=function(){var h=[],w=this.j;w&&h.push(Yi(w,mu,!0),":");var T=this.g;return(T||w=="file")&&(h.push("//"),(w=this.o)&&h.push(Yi(w,mu,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Yi(T,T.charAt(0)=="/"?Qi:nh,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Yi(T,$o)),h.join("")};function Fr(h){return new bn(h)}function to(h,w,T){h.j=T?ro(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function qo(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function ul(h,w,T){w instanceof Ts?(h.i=w,rh(h.i,h.h)):(T||(w=Yi(w,Ho)),h.i=new Ts(w,h.h))}function qt(h,w,T){h.i.set(w,T)}function no(h){return qt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ro(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yi(h,w,T){return typeof h=="string"?(h=encodeURI(h).replace(w,th),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function th(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var mu=/[#\/\?@]/g,nh=/[#\?:]/g,Qi=/[#\?]/g,Ho=/[#\?@]/g,$o=/#/g;function Ts(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function an(h){h.g||(h.g=new Map,h.h=0,h.i&&zo(h.i,function(w,T){h.add(decodeURIComponent(w.replace(/\+/g," ")),T)}))}t=Ts.prototype,t.add=function(h,w){an(this),this.i=null,h=Is(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(w),this.h+=1,this};function gu(h,w){an(h),w=Is(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function cl(h,w){return an(h),w=Is(h,w),h.g.has(w)}t.forEach=function(h,w){an(this),this.g.forEach(function(T,B){T.forEach(function(oe){h.call(w,oe,B,this)},this)},this)},t.na=function(){an(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),T=[];for(let B=0;B<w.length;B++){const oe=h[B];for(let pe=0;pe<oe.length;pe++)T.push(w[B])}return T},t.V=function(h){an(this);let w=[];if(typeof h=="string")cl(this,h)&&(w=w.concat(this.g.get(Is(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)w=w.concat(h[T])}return w},t.set=function(h,w){return an(this),this.i=null,h=Is(this,h),cl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function ft(h,w,T){gu(h,w),0<T.length&&(h.i=null,h.g.set(Is(h,w),x(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var T=0;T<w.length;T++){var B=w[T];const pe=encodeURIComponent(String(B)),ke=this.V(B);for(B=0;B<ke.length;B++){var oe=pe;ke[B]!==""&&(oe+="="+encodeURIComponent(String(ke[B]))),h.push(oe)}}return this.i=h.join("&")};function Is(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function rh(h,w){w&&!h.j&&(an(h),h.i=null,h.g.forEach(function(T,B){var oe=B.toLowerCase();B!=oe&&(gu(this,B),ft(this,oe,T))},h)),h.j=w}function ki(h,w){const T=new jn;if(a.Image){const B=new Image;B.onload=m(ci,T,"TestLoadImage: loaded",!0,w,B),B.onerror=m(ci,T,"TestLoadImage: error",!1,w,B),B.onabort=m(ci,T,"TestLoadImage: abort",!1,w,B),B.ontimeout=m(ci,T,"TestLoadImage: timeout",!1,w,B),a.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=h}else w(!1)}function yu(h,w){const T=new jn,B=new AbortController,oe=setTimeout(()=>{B.abort(),ci(T,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:B.signal}).then(pe=>{clearTimeout(oe),pe.ok?ci(T,"TestPingServer: ok",!0,w):ci(T,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(oe),ci(T,"TestPingServer: error",!1,w)})}function ci(h,w,T,B,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),B(T)}catch{}}function Wo(){this.g=new Pi}function hl(h,w,T){const B=T||"";try{pu(h,function(oe,pe){let ke=oe;u(oe)&&(ke=Vt(oe)),w.push(B+pe+"="+encodeURIComponent(ke))})}catch(oe){throw w.push(B+"type="+encodeURIComponent("_badmap")),oe}}function Go(h){this.l=h.Ub||null,this.j=h.eb||!1}A(Go,Lt),Go.prototype.g=function(){return new Ko(this.l,this.j)},Go.prototype.i=function(h){return function(){return h}}({});function Ko(h,w){nt.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ko,nt),t=Ko.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,hi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xi(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Xi(this):hi(this),this.readyState==3&&vu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Xi(this))},t.Qa=function(h){this.g&&(this.response=h,Xi(this))},t.ga=function(){this.g&&Xi(this)};function Xi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,hi(h)}t.setRequestHeader=function(h,w){this.u.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var T=w.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=w.next();return h.join(`\r
`)};function hi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ji(h){let w="";return J(h,function(T,B){w+=B,w+=":",w+=T,w+=`\r
`}),w}function dl(h,w,T){e:{for(B in T){var B=!1;break e}B=!0}B||(T=Ji(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):qt(h,w,T))}function Ut(h){nt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ut,nt);var fl=/^https?$/i,Yo=["POST","PUT"];t=Ut.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,w,T,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Or.g(),this.v=this.o?_s(this.o):_s(Or),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(pe){pl(this,pe);return}if(h=T||"",T=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var oe in B)T.set(oe,B[oe]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const pe of B.keys())T.set(pe,B.get(pe));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(T.keys()).find(pe=>pe.toLowerCase()=="content-type"),oe=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Yo,w,void 0))||B||oe||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,ke]of T)this.g.setRequestHeader(pe,ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{di(this),this.u=!0,this.g.send(h),this.u=!1}catch(pe){pl(this,pe)}};function pl(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,ml(h),io(h)}function ml(h){h.A||(h.A=!0,ut(h,"complete"),ut(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ut(this,"complete"),ut(this,"abort"),io(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),io(this,!0)),Ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gl(this):this.bb())},t.bb=function(){gl(this)};function gl(h){if(h.h&&typeof o<"u"&&(!h.v[1]||$n(h)!=4||h.Z()!=2)){if(h.u&&$n(h)==4)at(h.Ea,0,h);else if(ut(h,"readystatechange"),$n(h)==4){h.h=!1;try{const ke=h.Z();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var T;if(!(T=w)){var B;if(B=ke===0){var oe=String(h.D).match(Kr)[1]||null;!oe&&a.self&&a.self.location&&(oe=a.self.location.protocol.slice(0,-1)),B=!fl.test(oe?oe.toLowerCase():"")}T=B}if(T)ut(h,"complete"),ut(h,"success");else{h.m=6;try{var pe=2<$n(h)?h.g.statusText:""}catch{pe=""}h.l=pe+" ["+h.Z()+"]",ml(h)}}finally{io(h)}}}}function io(h,w){if(h.g){di(h);const T=h.g,B=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||ut(h,"ready");try{T.onreadystatechange=B}catch{}}}function di(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function $n(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Zt(w)}};function wu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ps(h){const w={};h=(h.g&&2<=$n(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<h.length;B++){if(b(h[B]))continue;var T=I(h[B]);const oe=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const pe=w[oe]||[];w[oe]=pe,pe.push(T)}O(w,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(h,w,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||w}function Qo(h){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rr("baseRetryDelayMs",5e3,h),this.cb=rr("retryDelaySeedMs",1e4,h),this.Wa=rr("forwardChannelMaxRetries",2,h),this.wa=rr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new il(h&&h.concurrentRequestLimit),this.Da=new Wo,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Qo.prototype,t.la=8,t.G=1,t.connect=function(h,w,T,B){Ye(0),this.W=h,this.H=w||{},T&&B!==void 0&&(this.H.OSID=T,this.H.OAID=B),this.F=this.X,this.I=y(this,null,this.W),Jo(this)};function Zi(h){if(so(h),h.G==3){var w=h.U++,T=Fr(h.I);if(qt(T,"SID",h.K),qt(T,"RID",w),qt(T,"TYPE","terminate"),Ns(h,T),w=new Pn(h,h.j,w),w.L=2,w.v=no(Fr(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!T&&a.Image&&(new Image().src=w.v,T=!0),T||(w.g=R(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Uo(w)}ra(h)}function Xo(h){h.g&&(ta(h),h.g.cancel(),h.g=null)}function so(h){Xo(h),h.u&&(a.clearTimeout(h.u),h.u=null),es(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Jo(h){if(!du(h.h)&&!h.s){h.s=!0;var w=h.Ga;me||ce(),X||(me(),X=!0),ue.add(w,h),h.B=0}}function yl(h,w){return eo(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=gr(g(h.Ga,h,w),na(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const oe=new Pn(this,this.j,h);let pe=this.o;if(this.S&&(pe?(pe=E(pe),V(pe,this.S)):pe=this.S),this.m!==null||this.O||(oe.H=pe,pe=null),this.P)e:{for(var w=0,T=0;T<this.i.length;T++){t:{var B=this.i[T];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(w+=B,4096<w){w=T;break e}if(w===4096||T===this.i.length-1){w=T+1;break e}}w=1e3}else w=1e3;w=oo(this,oe,w),T=Fr(this.I),qt(T,"RID",h),qt(T,"CVER",22),this.D&&qt(T,"X-HTTP-Session-Id",this.D),Ns(this,T),pe&&(this.O?w="headers="+encodeURIComponent(String(Ji(pe)))+"&"+w:this.m&&dl(T,this.m,pe)),on(this.h,oe),this.Ua&&qt(T,"TYPE","init"),this.P?(qt(T,"$req",w),qt(T,"SID","null"),oe.T=!0,Ss(oe,T,null)):Ss(oe,T,w),this.G=2}}else this.G==3&&(h?Zo(this,h):this.i.length==0||du(this.h)||Zo(this))};function Zo(h,w){var T;w?T=w.l:T=h.U++;const B=Fr(h.I);qt(B,"SID",h.K),qt(B,"RID",T),qt(B,"AID",h.T),Ns(h,B),h.m&&h.o&&dl(B,h.m,h.o),T=new Pn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),w&&(h.i=w.D.concat(h.i)),w=oo(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),on(h.h,T),Ss(T,B,w)}function Ns(h,w){h.H&&J(h.H,function(T,B){qt(w,B,T)}),h.l&&pu({},function(T,B){qt(w,B,T)})}function oo(h,w,T){T=Math.min(h.i.length,T);var B=h.l?g(h.l.Na,h.l,h):null;e:{var oe=h.i;let pe=-1;for(;;){const ke=["count="+T];pe==-1?0<T?(pe=oe[0].g,ke.push("ofs="+pe)):pe=0:ke.push("ofs="+pe);let vt=!0;for(let It=0;It<T;It++){let wt=oe[It].g;const zt=oe[It].map;if(wt-=pe,0>wt)pe=Math.max(0,oe[It].g-100),vt=!1;else try{hl(zt,ke,"req"+wt+"_")}catch{B&&B(zt)}}if(vt){B=ke.join("&");break e}}}return h=h.i.splice(0,T),w.D=h,B}function ea(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;me||ce(),X||(me(),X=!0),ue.add(w,h),h.v=0}}function ao(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=gr(g(h.Fa,h),na(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=gr(g(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ye(10),Xo(this),_u(this))};function ta(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function _u(h){h.g=new Pn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=Fr(h.qa);qt(w,"RID","rpc"),qt(w,"SID",h.K),qt(w,"AID",h.T),qt(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&qt(w,"TO",h.ja),qt(w,"TYPE","xmlhttp"),Ns(h,w),h.m&&h.o&&dl(w,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=no(Fr(w)),T.m=null,T.P=!0,Xs(T,h)}t.Za=function(){this.C!=null&&(this.C=null,Xo(this),ao(this),Ye(19))};function es(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function ks(h,w){var T=null;if(h.g==w){es(h),ta(h),h.g=null;var B=2}else if(sl(h.h,w))T=w.D,ol(h.h,w),B=1;else return;if(h.G!=0){if(w.o)if(B==1){T=w.m?w.m.length:0,w=Date.now()-w.F;var oe=h.B;B=Ni(),ut(B,new Wr(B,T)),Jo(h)}else ea(h);else if(oe=w.s,oe==3||oe==0&&0<w.X||!(B==1&&yl(h,w)||B==2&&ao(h)))switch(T&&0<T.length&&(w=h.h,w.i=w.i.concat(T)),oe){case 1:vr(h,5);break;case 4:vr(h,10);break;case 3:vr(h,6);break;default:vr(h,2)}}}function na(h,w){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*w}function vr(h,w){if(h.j.info("Error code "+w),w==2){var T=g(h.fb,h),B=h.Xa;const oe=!B;B=new bn(B||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||to(B,"https"),no(B),oe?ki(B.toString(),T):yu(B.toString(),T)}else Ye(2);h.G=0,h.l&&h.l.sa(w),ra(h),so(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function ra(h){if(h.G=0,h.ka=[],h.l){const w=al(h.h);(w.length!=0||h.i.length!=0)&&(P(h.ka,w),P(h.ka,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.ra()}}function y(h,w,T){var B=T instanceof bn?Fr(T):new bn(T);if(B.g!="")w&&(B.g=w+"."+B.g),qo(B,B.s);else{var oe=a.location;B=oe.protocol,w=w?w+"."+oe.hostname:oe.hostname,oe=+oe.port;var pe=new bn(null);B&&to(pe,B),w&&(pe.g=w),oe&&qo(pe,oe),T&&(pe.l=T),B=pe}return T=h.D,w=h.ya,T&&w&&qt(B,T,w),qt(B,"VER",h.la),Ns(h,B),B}function R(h,w,T){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new Ut(new Go({eb:T})):new Ut(h.pa),w.Ha(h.J),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function K(){}t=K.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function te(){}te.prototype.g=function(h,w){return new ae(h,w)};function ae(h,w){nt.call(this),this.g=new Qo(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!b(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!b(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new qe(this)}A(ae,nt),ae.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ae.prototype.close=function(){Zi(this.g)},ae.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Vt(h),h=T);w.i.push(new eh(w.Ya++,h)),w.G==3&&Jo(w)},ae.prototype.N=function(){this.g.l=null,delete this.j,Zi(this.g),delete this.g,ae.aa.N.call(this)};function xe(h){ai.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const T in w){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}A(xe,ai);function Ne(){en.call(this),this.status=1}A(Ne,en);function qe(h){this.g=h}A(qe,K),qe.prototype.ua=function(){ut(this.g,"a")},qe.prototype.ta=function(h){ut(this.g,new xe(h))},qe.prototype.sa=function(h){ut(this.g,new Ne)},qe.prototype.ra=function(){ut(this.g,"b")},te.prototype.createWebChannel=te.prototype.g,ae.prototype.send=ae.prototype.o,ae.prototype.open=ae.prototype.m,ae.prototype.close=ae.prototype.close,tT=function(){return new te},eT=function(){return Ni()},ZE=st,Ey={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,kp=yr,Gr.COMPLETE="complete",JE=Gr,sn.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",nt.prototype.listen=nt.prototype.K,jh=sn,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,XE=Ut}).apply(typeof np<"u"?np:typeof self<"u"?self:typeof window<"u"?window:{});const ex="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new D2("@firebase/firestore");function Ph(){return Zl.logLevel}function et(t,...e){if(Zl.logLevel<=Ct.DEBUG){const n=e.map(F2);Zl.debug(`Firestore (${Kc}): ${t}`,...n)}}function Do(t,...e){if(Zl.logLevel<=Ct.ERROR){const n=e.map(F2);Zl.error(`Firestore (${Kc}): ${t}`,...n)}}function Lc(t,...e){if(Zl.logLevel<=Ct.WARN){const n=e.map(F2);Zl.warn(`Firestore (${Kc}): ${t}`,...n)}}function F2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t="Unexpected state"){const e=`FIRESTORE (${Kc}) INTERNAL ASSERTION FAILED: `+t;throw Do(e),new Error(e)}function Kt(t,e){t||mt()}function xt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends Vo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ir.UNAUTHENTICATED))}shutdown(){}}class cM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hM{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Kt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ql;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ql,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ql)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string"),new nT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string"),new Ir(e)}}class dM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Kt(this.o===void 0);const r=s=>{s.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,et("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Kt(typeof n.token=="string"),this.R=n.token,new pM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function jt(t,e){return t<e?-1:t>e?1:0}function Rc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Je(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Je(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Je(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yn.fromMillis(Date.now())}static fromDate(e){return Yn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Yn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Yn(0,0))}static max(){return new bt(new Yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r){n===void 0?n=0:n>e.length&&mt(),r===void 0?r=e.length-n:r>e.length-n&&mt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ld.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ld?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class un extends Ld{construct(e,n,r){return new un(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Je(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new un(n)}static emptyPath(){return new un([])}}const yM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends Ld{construct(e,n,r){return new cr(e,n,r)}static isValidIdentifier(e){return yM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new cr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Je(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Je(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Je(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Je(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(n)}static emptyPath(){return new cr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(un.fromString(e))}static fromName(e){return new rt(un.fromString(e).popFirst(5))}static empty(){return new rt(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&un.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return un.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new un(e.slice()))}}function vM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(r===1e9?new Yn(n+1,0):new Yn(n,r));return new Ya(i,rt.empty(),e)}function wM(t){return new Ya(t.readTime,t.key,-1)}class Ya{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ya(bt.min(),rt.empty(),-1)}static max(){return new Ya(bt.max(),rt.empty(),-1)}}function _M(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=rt.comparator(t.documentKey,e.documentKey),n!==0?n:jt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(t){if(t.code!==Ie.FAILED_PRECONDITION||t.message!==bM)throw t;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Le((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Le?n:Le.resolve(n)}catch(n){return Le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Le.reject(n)}static resolve(e){return new Le((n,r)=>{n(e)})}static reject(e){return new Le((n,r)=>{r(e)})}static waitFor(e){return new Le((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Le.resolve(!1);for(const r of e)n=n.next(i=>i?Le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Le((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new Le((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function SM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}j2.oe=-1;function mg(t){return t==null}function Em(t){return t===0&&1/t==-1/0}function AM(t){return typeof t=="number"&&Number.isInteger(t)&&!Em(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.comparator=e,this.root=n||ur.EMPTY}insert(e,n){return new vn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rp(this.root,e,this.comparator,!1)}getReverseIterator(){return new rp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rp(this.root,e,this.comparator,!0)}}class rp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ur{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ur.RED,this.left=i??ur.EMPTY,this.right=s??ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ur(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ur.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ur(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nx(this.data.getIterator())}getIteratorFrom(e){return new nx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dr(this.comparator);return n.data=e,n}}class nx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new ds([])}unionWith(e){let n=new dr(cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ds(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sT("Invalid base64 string: "+s):s}}(e);return new pr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new pr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pr.EMPTY_BYTE_STRING=new pr("");const EM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(t){if(Kt(!!t),typeof t=="string"){let e=0;const n=EM.exec(t);if(Kt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ln(t.seconds),nanos:Ln(t.nanos)}}function Ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eu(t){return typeof t=="string"?pr.fromBase64String(t):pr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function B2(t){const e=t.mapValue.fields.__previous_value__;return V2(e)?B2(e):e}function Rd(t){const e=Qa(t.mapValue.fields.__local_write_time__.timestampValue);return new Yn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Dd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function tu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?V2(t)?4:PM(t)?9007199254740991:IM(t)?10:11:mt()}function Ys(t,e){if(t===e)return!0;const n=tu(t);if(n!==tu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rd(t).isEqual(Rd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Qa(i.timestampValue),a=Qa(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return eu(i.bytesValue).isEqual(eu(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ln(i.geoPointValue.latitude)===Ln(s.geoPointValue.latitude)&&Ln(i.geoPointValue.longitude)===Ln(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ln(i.integerValue)===Ln(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ln(i.doubleValue),a=Ln(s.doubleValue);return o===a?Em(o)===Em(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Rc(t.arrayValue.values||[],e.arrayValue.values||[],Ys);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tx(o)!==tx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ys(o[l],a[l])))return!1;return!0}(t,e);default:return mt()}}function Od(t,e){return(t.values||[]).find(n=>Ys(n,e))!==void 0}function Dc(t,e){if(t===e)return 0;const n=tu(t),r=tu(e);if(n!==r)return jt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return jt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ln(s.integerValue||s.doubleValue),l=Ln(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return rx(t.timestampValue,e.timestampValue);case 4:return rx(Rd(t),Rd(e));case 5:return jt(t.stringValue,e.stringValue);case 6:return function(s,o){const a=eu(s),l=eu(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=jt(a[u],l[u]);if(d!==0)return d}return jt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=jt(Ln(s.latitude),Ln(o.latitude));return a!==0?a:jt(Ln(s.longitude),Ln(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ix(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const p=s.fields||{},g=o.fields||{},m=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(l=g.value)===null||l===void 0?void 0:l.arrayValue,x=jt(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=A==null?void 0:A.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:ix(m,A)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ip.mapValue&&o===ip.mapValue)return 0;if(s===ip.mapValue)return 1;if(o===ip.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const g=jt(l[p],d[p]);if(g!==0)return g;const m=Dc(a[l[p]],u[d[p]]);if(m!==0)return m}return jt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw mt()}}function rx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return jt(t,e);const n=Qa(t),r=Qa(e),i=jt(n.seconds,r.seconds);return i!==0?i:jt(n.nanos,r.nanos)}function ix(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Dc(n[i],r[i]);if(s)return s}return jt(n.length,r.length)}function Oc(t){return Ty(t)}function Ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return eu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return rt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ty(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ty(n.fields[o])}`;return i+"}"}(t.mapValue):mt()}function sx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Iy(t){return!!t&&"integerValue"in t}function U2(t){return!!t&&"arrayValue"in t}function ox(t){return!!t&&"nullValue"in t}function ax(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cp(t){return!!t&&"mapValue"in t}function IM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function td(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=td(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=td(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.value=e}static empty(){return new zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=td(n)}setAll(e){let n=cr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=td(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Cp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ys(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zi(td(this.value))}}function oT(t){const e=[];return Yc(t.fields,(n,r)=>{const i=new cr([n]);if(Cp(r)){const s=oT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ds(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nr(e,0,bt.min(),bt.min(),bt.min(),zi.empty(),0)}static newFoundDocument(e,n,r,i){return new Nr(e,1,n,bt.min(),r,i,0)}static newNoDocument(e,n){return new Nr(e,2,n,bt.min(),bt.min(),zi.empty(),0)}static newUnknownDocument(e,n){return new Nr(e,3,n,bt.min(),bt.min(),zi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.position=e,this.inclusive=n}}function lx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=rt.comparator(rt.fromName(o.referenceValue),n.key):r=Dc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ux(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ys(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n="asc"){this.field=e,this.dir=n}}function NM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{}class Hn extends aT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CM(e,n,r):n==="array-contains"?new DM(e,r):n==="in"?new OM(e,r):n==="not-in"?new MM(e,r):n==="array-contains-any"?new FM(e,r):new Hn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LM(e,r):new RM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Dc(n,this.value)):n!==null&&tu(this.value)===tu(n)&&this.matchesComparison(Dc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gs extends aT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new gs(e,n)}matches(e){return lT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lT(t){return t.op==="and"}function uT(t){return kM(t)&&lT(t)}function kM(t){for(const e of t.filters)if(e instanceof gs)return!1;return!0}function Py(t){if(t instanceof Hn)return t.field.canonicalString()+t.op.toString()+Oc(t.value);if(uT(t))return t.filters.map(e=>Py(e)).join(",");{const e=t.filters.map(n=>Py(n)).join(",");return`${t.op}(${e})`}}function cT(t,e){return t instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.field.isEqual(i.field)&&Ys(r.value,i.value)}(t,e):t instanceof gs?function(r,i){return i instanceof gs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&cT(o,i.filters[a]),!0):!1}(t,e):void mt()}function hT(t){return t instanceof Hn?function(n){return`${n.field.canonicalString()} ${n.op} ${Oc(n.value)}`}(t):t instanceof gs?function(n){return n.op.toString()+" {"+n.getFilters().map(hT).join(" ,")+"}"}(t):"Filter"}class CM extends Hn{constructor(e,n,r){super(e,n,r),this.key=rt.fromName(r.referenceValue)}matches(e){const n=rt.comparator(e.key,this.key);return this.matchesComparison(n)}}class LM extends Hn{constructor(e,n){super(e,"in",n),this.keys=dT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RM extends Hn{constructor(e,n){super(e,"not-in",n),this.keys=dT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>rt.fromName(r.referenceValue))}class DM extends Hn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return U2(n)&&Od(n.arrayValue,this.value)}}class OM extends Hn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Od(this.value.arrayValue,n)}}class MM extends Hn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Od(this.value.arrayValue,n)}}class FM extends Hn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!U2(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Od(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function cx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jM(t,e,n,r,i,s,o)}function z2(t){const e=xt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Py(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),mg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oc(r)).join(",")),e.ue=n}return e.ue}function q2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ux(t.startAt,e.startAt)&&ux(t.endAt,e.endAt)}function Ny(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VM(t,e,n,r,i,s,o,a){return new Qc(t,e,n,r,i,s,o,a)}function H2(t){return new Qc(t)}function hx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fT(t){return t.collectionGroup!==null}function nd(t){const e=xt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new dr(cr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Md(s,r))}),n.has(cr.keyField().canonicalString())||e.ce.push(new Md(cr.keyField(),r))}return e.ce}function Hs(t){const e=xt(t);return e.le||(e.le=BM(e,nd(t))),e.le}function BM(t,e){if(t.limitType==="F")return cx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Md(i.field,s)});const n=t.endAt?new Tm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tm(t.startAt.position,t.startAt.inclusive):null;return cx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ky(t,e){const n=t.filters.concat([e]);return new Qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cy(t,e,n){return new Qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gg(t,e){return q2(Hs(t),Hs(e))&&t.limitType===e.limitType}function pT(t){return`${z2(Hs(t))}|lt:${t.limitType}`}function Fu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hT(i)).join(", ")}]`),mg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oc(i)).join(",")),`Target(${r})`}(Hs(t))}; limitType=${t.limitType})`}function yg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):rt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of nd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=lx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,nd(r),i)||r.endAt&&!function(o,a,l){const u=lx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,nd(r),i))}(t,e)}function UM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mT(t){return(e,n)=>{let r=!1;for(const i of nd(t)){const s=zM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function zM(t,e,n){const r=t.field.isKeyField()?rt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Dc(l,u):mt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return iT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new vn(rt.comparator);function Oo(){return qM}const gT=new vn(rt.comparator);function Vh(...t){let e=gT;for(const n of t)e=e.insert(n.key,n);return e}function yT(t){let e=gT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fl(){return rd()}function vT(){return rd()}function rd(){return new Xc(t=>t.toString(),(t,e)=>t.isEqual(e))}const HM=new vn(rt.comparator),$M=new dr(rt.comparator);function Nt(...t){let e=$M;for(const n of t)e=e.add(n);return e}const WM=new dr(jt);function GM(){return WM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Em(e)?"-0":e}}function wT(t){return{integerValue:""+t}}function KM(t,e){return AM(e)?wT(e):$2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this._=void 0}}function YM(t,e,n){return t instanceof Fd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&V2(s)&&(s=B2(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof jd?bT(t,e):t instanceof Vd?xT(t,e):function(i,s){const o=_T(i,s),a=dx(o)+dx(i.Pe);return Iy(o)&&Iy(i.Pe)?wT(a):$2(i.serializer,a)}(t,e)}function QM(t,e,n){return t instanceof jd?bT(t,e):t instanceof Vd?xT(t,e):n}function _T(t,e){return t instanceof Im?function(r){return Iy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Fd extends vg{}class jd extends vg{constructor(e){super(),this.elements=e}}function bT(t,e){const n=ST(e);for(const r of t.elements)n.some(i=>Ys(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vd extends vg{constructor(e){super(),this.elements=e}}function xT(t,e){let n=ST(e);for(const r of t.elements)n=n.filter(i=>!Ys(i,r));return{arrayValue:{values:n}}}class Im extends vg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function dx(t){return Ln(t.integerValue||t.doubleValue)}function ST(t){return U2(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n){this.field=e,this.transform=n}}function JM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof jd&&i instanceof jd||r instanceof Vd&&i instanceof Vd?Rc(r.elements,i.elements,Ys):r instanceof Im&&i instanceof Im?Ys(r.Pe,i.Pe):r instanceof Fd&&i instanceof Fd}(t.transform,e.transform)}class ZM{constructor(e,n){this.version=e,this.transformResults=n}}class Io{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Io}static exists(e){return new Io(void 0,e)}static updateTime(e){return new Io(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wg{}function AT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new TT(t.key,Io.none()):new rf(t.key,t.data,Io.none());{const n=t.data,r=zi.empty();let i=new dr(cr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ou(t.key,r,new ds(i.toArray()),Io.none())}}function eF(t,e,n){t instanceof rf?function(i,s,o){const a=i.value.clone(),l=px(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ou?function(i,s,o){if(!Lp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=px(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(ET(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function id(t,e,n,r){return t instanceof rf?function(s,o,a,l){if(!Lp(s.precondition,o))return a;const u=s.value.clone(),d=mx(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ou?function(s,o,a,l){if(!Lp(s.precondition,o))return a;const u=mx(s.fieldTransforms,l,o),d=o.data;return d.setAll(ET(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Lp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function tF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=_T(r.transform,i||null);s!=null&&(n===null&&(n=zi.empty()),n.set(r.field,s))}return n||null}function fx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Rc(r,i,(s,o)=>JM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rf extends wg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ou extends wg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ET(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function px(t,e,n){const r=new Map;Kt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,QM(o,a,n[i]))}return r}function mx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,YM(s,o,e))}return r}class TT extends wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nF extends wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=id(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=id(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=AT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Nt())}isEqual(e){return this.batchId===e.batchId&&Rc(this.mutations,e.mutations,(n,r)=>fx(n,r))&&Rc(this.baseMutations,e.baseMutations,(n,r)=>fx(n,r))}}class W2{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Kt(e.mutations.length===r.length);let i=function(){return HM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new W2(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn,Rt;function oF(t){switch(t){default:return mt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0}}function IT(t){if(t===void 0)return Do("GRPC error has no .code"),Ie.UNKNOWN;switch(t){case zn.OK:return Ie.OK;case zn.CANCELLED:return Ie.CANCELLED;case zn.UNKNOWN:return Ie.UNKNOWN;case zn.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case zn.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case zn.INTERNAL:return Ie.INTERNAL;case zn.UNAVAILABLE:return Ie.UNAVAILABLE;case zn.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case zn.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case zn.NOT_FOUND:return Ie.NOT_FOUND;case zn.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case zn.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case zn.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case zn.ABORTED:return Ie.ABORTED;case zn.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case zn.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case zn.DATA_LOSS:return Ie.DATA_LOSS;default:return mt()}}(Rt=zn||(zn={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=new zl([4294967295,4294967295],0);function gx(t){const e=aF().encode(t),n=new QE;return n.update(e),new Uint8Array(n.digest())}function yx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zl([n,r],0),new zl([i,s],0)]}class G2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bh(`Invalid padding: ${n}`);if(r<0)throw new Bh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Bh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Bh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=zl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(zl.fromNumber(r)));return i.compare(lF)===1&&(i=new zl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=gx(e),[r,i]=yx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new G2(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=gx(e),[r,i]=yx(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _g(bt.min(),i,new vn(jt),Oo(),Nt())}}class sf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sf(r,n,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class PT{constructor(e,n){this.targetId=e,this.me=n}}class NT{constructor(e,n,r=pr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vx{constructor(){this.fe=0,this.ge=_x(),this.pe=pr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Nt(),n=Nt(),r=Nt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:mt()}}),new sf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=_x()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Kt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uF{constructor(e){this.Le=e,this.Be=new Map,this.ke=Oo(),this.qe=wx(),this.Qe=new vn(jt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:mt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Ny(s))if(r===0){const o=new rt(s.path);this.Ue(n,o,Nr.newNoDocument(o,bt.min()))}else Kt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=eu(r).toUint8Array()}catch(l){if(l instanceof sT)return Lc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new G2(o,i,s)}catch(l){return Lc(l instanceof Bh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Ny(a.target)){const l=new rt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Nr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Nt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new _g(e,n,this.Qe,this.ke,r);return this.ke=Oo(),this.qe=wx(),this.Qe=new vn(jt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new vx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dr(jt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||et("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function wx(){return new vn(rt.comparator)}function _x(){return new vn(rt.comparator)}const cF={asc:"ASCENDING",desc:"DESCENDING"},hF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dF={and:"AND",or:"OR"};class fF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ly(t,e){return t.useProto3Json||mg(e)?e:{value:e}}function Pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pF(t,e){return Pm(t,e.toTimestamp())}function $s(t){return Kt(!!t),bt.fromTimestamp(function(n){const r=Qa(n);return new Yn(r.seconds,r.nanos)}(t))}function K2(t,e){return Ry(t,e).canonicalString()}function Ry(t,e){const n=function(i){return new un(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CT(t){const e=un.fromString(t);return Kt(MT(e)),e}function Dy(t,e){return K2(t.databaseId,e.path)}function z0(t,e){const n=CT(e);if(n.get(1)!==t.databaseId.projectId)throw new Je(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Je(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rt(RT(n))}function LT(t,e){return K2(t.databaseId,e)}function mF(t){const e=CT(t);return e.length===4?un.emptyPath():RT(e)}function Oy(t){return new un(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RT(t){return Kt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bx(t,e,n){return{name:Dy(t,e),fields:n.value.mapValue.fields}}function gF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:mt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Kt(d===void 0||typeof d=="string"),pr.fromBase64String(d||"")):(Kt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),pr.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?Ie.UNKNOWN:IT(u.code);return new Je(d,u.message||"")}(o);n=new NT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=z0(t,r.document.name),s=$s(r.document.updateTime),o=r.document.createTime?$s(r.document.createTime):bt.min(),a=new zi({mapValue:{fields:r.document.fields}}),l=Nr.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Rp(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=z0(t,r.document),s=r.readTime?$s(r.readTime):bt.min(),o=Nr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Rp([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=z0(t,r.document),s=r.removedTargetIds||[];n=new Rp([],s,i,null)}else{if(!("filter"in e))return mt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new sF(i,s),a=r.targetId;n=new PT(a,o)}}return n}function yF(t,e){let n;if(e instanceof rf)n={update:bx(t,e.key,e.value)};else if(e instanceof TT)n={delete:Dy(t,e.key)};else if(e instanceof ou)n={update:bx(t,e.key,e.data),updateMask:TF(e.fieldMask)};else{if(!(e instanceof nF))return mt();n={verify:Dy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Fd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Im)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw mt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:mt()}(t,e.precondition)),n}function vF(t,e){return t&&t.length>0?(Kt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?$s(i.updateTime):$s(s);return o.isEqual(bt.min())&&(o=$s(s)),new ZM(o,i.transformResults||[])}(n,e))):[]}function wF(t,e){return{documents:[LT(t,e.path)]}}function _F(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LT(t,i);const s=function(u){if(u.length!==0)return OT(gs.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:ju(g.field),direction:SF(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ly(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function bF(t){let e=mF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Kt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const g=DT(p);return g instanceof gs&&uT(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(A){return new Md(Vu(A.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,mg(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(p){const g=!!p.before,m=p.values||[];return new Tm(m,g)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const g=!p.before,m=p.values||[];return new Tm(m,g)}(n.endAt)),VM(e,i,o,s,a,"F",l,u)}function xF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vu(n.unaryFilter.field);return Hn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vu(n.unaryFilter.field);return Hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vu(n.unaryFilter.field);return Hn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vu(n.unaryFilter.field);return Hn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(t):t.fieldFilter!==void 0?function(n){return Hn.create(Vu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gs.create(n.compositeFilter.filters.map(r=>DT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return mt()}}(n.compositeFilter.op))}(t):mt()}function SF(t){return cF[t]}function AF(t){return hF[t]}function EF(t){return dF[t]}function ju(t){return{fieldPath:t.canonicalString()}}function Vu(t){return cr.fromServerFormat(t.fieldPath)}function OT(t){return t instanceof Hn?function(n){if(n.op==="=="){if(ax(n.value))return{unaryFilter:{field:ju(n.field),op:"IS_NAN"}};if(ox(n.value))return{unaryFilter:{field:ju(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ax(n.value))return{unaryFilter:{field:ju(n.field),op:"IS_NOT_NAN"}};if(ox(n.value))return{unaryFilter:{field:ju(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(n.field),op:AF(n.op),value:n.value}}}(t):t instanceof gs?function(n){const r=n.getFilters().map(i=>OT(i));return r.length===1?r[0]:{compositeFilter:{op:EF(n.op),filters:r}}}(t):mt()}function TF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,r,i,s=bt.min(),o=bt.min(),a=pr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.ct=e}}function PF(t){const e=bF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.un=new kF}addToCollectionParentIndex(e,n){return this.un.add(n),Le.resolve()}getCollectionParents(e,n){return Le.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Le.resolve()}deleteFieldIndex(e,n){return Le.resolve()}deleteAllFieldIndexes(e){return Le.resolve()}createTargetIndexes(e,n){return Le.resolve()}getDocumentsMatchingTarget(e,n){return Le.resolve(null)}getIndexType(e,n){return Le.resolve(0)}getFieldIndexes(e,n){return Le.resolve([])}getNextCollectionGroupToUpdate(e){return Le.resolve(null)}getMinOffset(e,n){return Le.resolve(Ya.min())}getMinOffsetFromCollectionGroup(e,n){return Le.resolve(Ya.min())}updateCollectionGroup(e,n,r){return Le.resolve()}updateIndexEntries(e,n){return Le.resolve()}}class kF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dr(un.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dr(un.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Mc(0)}static kn(){return new Mc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.changes=new Xc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&id(r.mutation,i,ds.empty(),Yn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Nt()){const i=Fl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Vh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Nt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Oo();const o=rd(),a=function(){return rd()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ou)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),id(d.mutation,u,d.mutation.getFieldMask(),Yn.now())):o.set(u.key,ds.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return a.set(u,new LF(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=rd();let i=new vn((o,a)=>o-a),s=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||ds.empty();d=a.applyToLocalView(u,d),r.set(l,d);const p=(i.get(a.batchId)||Nt()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,p=vT();d.forEach(g=>{if(!s.has(g)){const m=AT(n.get(g),r.get(g));m!==null&&p.set(g,m),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return Le.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Le.resolve(Fl());let a=-1,l=s;return o.next(u=>Le.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?Le.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Nt())).next(d=>({batchId:a,changes:yT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rt(n)).next(r=>{let i=Vh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Vh();return this.indexManager.getCollectionParents(e,s).next(a=>Le.forEach(a,l=>{const u=function(p,g){return new Qc(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Nr.newInvalidDocument(d)))});let a=Vh();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&id(d.mutation,u,ds.empty(),Yn.now()),yg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Le.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$s(i.createTime)}}(n)),Le.resolve()}getNamedQuery(e,n){return Le.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:PF(i.bundledQuery),readTime:$s(i.readTime)}}(n)),Le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(){this.overlays=new vn(rt.comparator),this.Ir=new Map}getOverlay(e,n){return Le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fl();return Le.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),Le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Le.resolve()}getOverlaysForCollection(e,n,r){const i=Fl(),s=n.length+1,o=new rt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vn((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Fl(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Fl(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return Le.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iF(n,r));let s=this.Ir.get(n);s===void 0&&(s=Nt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(){this.sessionToken=pr.EMPTY_BYTE_STRING}getSessionToken(e){return Le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.Tr=new dr(Jn.Er),this.dr=new dr(Jn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Jn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Jn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new rt(new un([])),r=new Jn(n,e),i=new Jn(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new rt(new un([])),r=new Jn(n,e),i=new Jn(n,e+1);let s=Nt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Jn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Jn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return rt.comparator(e.key,n.key)||jt(e.wr,n.wr)}static Ar(e,n){return jt(e.wr,n.wr)||rt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new dr(Jn.Er)}checkEmpty(e){return Le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Jn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Le.resolve(o)}lookupMutationBatch(e,n){return Le.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return Le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Jn(n,0),i=new Jn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dr(jt);return n.forEach(i=>{const s=new Jn(i,0),o=new Jn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Le.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;rt.isDocumentKey(s)||(s=s.child(""));const o=new Jn(new rt(s),0);let a=new dr(jt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),Le.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Kt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Le.forEach(n.mutations,i=>{const s=new Jn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Jn(n,0),i=this.br.firstAfterOrEqual(r);return Le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Le.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.Mr=e,this.docs=function(){return new vn(rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Le.resolve(r?r.document.mutableCopy():Nr.newInvalidDocument(n))}getEntries(e,n){let r=Oo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nr.newInvalidDocument(i))}),Le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Oo();const o=n.path,a=new rt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||_M(wM(d),r)<=0||(i.has(d.key)||yg(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Le.resolve(s)}getAllFromCollectionGroup(e,n,r,i){mt()}Or(e,n){return Le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VF(this)}getSize(e){return Le.resolve(this.size)}}class VF extends CF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Le.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.persistence=e,this.Nr=new Xc(n=>z2(n),q2),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Y2,this.targetCount=0,this.kr=Mc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Le.resolve()}getLastRemoteSnapshotVersion(e){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Le.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Mc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Le.resolve()}updateTargetData(e,n){return this.Kn(n),Le.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Le.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Le.waitFor(s).next(()=>i)}getTargetCount(e){return Le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Le.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Le.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Le.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Le.resolve(r)}containsKey(e,n){return Le.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e,n){this.qr={},this.overlays={},this.Qr=new j2(0),this.Kr=!1,this.Kr=!0,this.$r=new MF,this.referenceDelegate=e(this),this.Ur=new BF(this),this.indexManager=new NF,this.remoteDocumentCache=function(i){return new jF(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new IF(n),this.Gr=new DF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new FF(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){et("MemoryPersistence","Starting transaction:",e);const i=new zF(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return Le.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class zF extends xM{constructor(e){super(),this.currentSequenceNumber=e}}class Q2{constructor(e){this.persistence=e,this.Jr=new Y2,this.Yr=null}static Zr(e){return new Q2(e)}get Xr(){if(this.Yr)return this.Yr;throw mt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Le.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Le.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Le.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.Xr,r=>{const i=rt.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,bt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Le.or([()=>Le.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Nt(),i=Nt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new X2(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return WD()?8:SM(Dr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new qF;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ph()<=Ct.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",Fu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Le.resolve()):(Ph()<=Ct.DEBUG&&et("QueryEngine","Query:",Fu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ph()<=Ct.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",Fu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hs(n))):Le.resolve())}Yi(e,n){if(hx(n))return Le.resolve(null);let r=Hs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cy(n,null,"F"),r=Hs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Nt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Cy(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return hx(n)||i.isEqual(bt.min())?Le.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?Le.resolve(null):(Ph()<=Ct.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fu(n)),this.rs(e,o,n,vM(i,-1)).next(a=>a))})}ts(e,n){let r=new dr(mT(e));return n.forEach((i,s)=>{yg(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ph()<=Ct.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Fu(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ya.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new vn(jt),this._s=new Xc(s=>z2(s),q2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function WF(t,e,n,r){return new $F(t,e,n,r)}async function FT(t,e){const n=xt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Nt();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function GF(t,e){const n=xt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const p=u.batch,g=p.keys();let m=Le.resolve();return g.forEach(A=>{m=m.next(()=>d.getEntry(l,A)).next(x=>{const P=u.docVersions.get(A);Kt(P!==null),x.version.compareTo(P)<0&&(p.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Nt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function jT(t){const e=xt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function KF(t,e){const n=xt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,p)=>{const g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,p)));let m=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(pr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(p,m),function(x,P,_){return x.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(g,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=Oo(),u=Nt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(YF(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(bt.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return Le.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function YF(t,e,n){let r=Nt(),i=Nt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Oo();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(bt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):et("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function QF(t,e){const n=xt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XF(t,e){const n=xt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,Le.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ca(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function My(t,e,n){const r=xt(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!nf(o))throw o;et("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function xx(t,e,n){const r=xt(t);let i=bt.min(),s=Nt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const p=xt(l),g=p._s.get(d);return g!==void 0?Le.resolve(p.os.get(g)):p.Ur.getTargetData(u,d)}(r,o,Hs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:bt.min(),n?s:Nt())).next(a=>(JF(r,UM(e),a),{documents:a,Ts:s})))}function JF(t,e,n){let r=t.us.get(e)||bt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Sx{constructor(){this.activeTargetIds=GM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZF{constructor(){this.so=new Sx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Sx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp=null;function q0(){return sp===null?sp=function(){return 268435456+Math.round(2147483648*Math.random())}():sp++,"0x"+sp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="WebChannelConnection";class rj extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=q0(),l=this.xo(n,r.toUriEncodedString());et("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(et("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Lc("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=tj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=q0();return new Promise((o,a)=>{const l=new XE;l.setWithCredentials(!0),l.listenOnce(JE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kp.NO_ERROR:const d=l.getResponseJson();et(br,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case kp.TIMEOUT:et(br,`RPC '${e}' ${s} timed out`),a(new Je(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case kp.HTTP_ERROR:const p=l.getStatus();if(et(br,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const m=g==null?void 0:g.error;if(m&&m.status&&m.message){const A=function(P){const _=P.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(_)>=0?_:Ie.UNKNOWN}(m.status);a(new Je(A,m.message))}else a(new Je(Ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Je(Ie.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{et(br,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);et(br,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=q0(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tT(),a=eT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");et(br,`Creating RPC '${e}' stream ${i}: ${d}`,l);const p=o.createWebChannel(d,l);let g=!1,m=!1;const A=new nj({Io:P=>{m?et(br,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(g||(et(br,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),et(br,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},To:()=>p.close()}),x=(P,_,b)=>{P.listen(_,N=>{try{b(N)}catch(H){setTimeout(()=>{throw H},0)}})};return x(p,jh.EventType.OPEN,()=>{m||(et(br,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),x(p,jh.EventType.CLOSE,()=>{m||(m=!0,et(br,`RPC '${e}' stream ${i} transport closed`),A.So())}),x(p,jh.EventType.ERROR,P=>{m||(m=!0,Lc(br,`RPC '${e}' stream ${i} transport errored:`,P),A.So(new Je(Ie.UNAVAILABLE,"The operation could not be completed")))}),x(p,jh.EventType.MESSAGE,P=>{var _;if(!m){const b=P.data[0];Kt(!!b);const N=b,H=N.error||((_=N[0])===null||_===void 0?void 0:_.error);if(H){et(br,`RPC '${e}' stream ${i} received error:`,H);const $=H.status;let J=function(C){const V=zn[C];if(V!==void 0)return IT(V)}($),O=H.message;J===void 0&&(J=Ie.INTERNAL,O="Unknown error status: "+$+" with message "+H.message),m=!0,A.So(new Je(J,O)),p.close()}else et(br,`RPC '${e}' stream ${i} received:`,b),A.bo(b)}}),x(a,ZE.STAT_EVENT,P=>{P.stat===Ey.PROXY?et(br,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Ey.NOPROXY&&et(br,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}}function H0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){return new fF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new VT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Ie.RESOURCE_EXHAUSTED?(Do(n.toString()),Do("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Je(Ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ij extends BT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gF(this.serializer,e),r=function(s){if(!("targetChange"in s))return bt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?bt.min():o.readTime?$s(o.readTime):bt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Oy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Ny(l)?{documents:wF(s,l)}:{query:_F(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=kT(s,o.resumeToken);const u=Ly(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(bt.min())>0){a.readTime=Pm(s,o.snapshotVersion.toTimestamp());const u=Ly(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=xF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Oy(this.serializer),n.removeTarget=e,this.a_(n)}}class sj extends BT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=vF(e.writeResults,e.commitTime),r=$s(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Oy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yF(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Je(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Ry(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Je(Ie.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Ry(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Je(Ie.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Do(n),this.D_=!1):et("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{au(this)&&(et("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xt(l);u.L_.add(4),await of(u),u.q_.set("Unknown"),u.L_.delete(4),await xg(u)}(this))})}),this.q_=new aj(r,i)}}async function xg(t){if(au(t))for(const e of t.B_)await e(!0)}async function of(t){for(const e of t.B_)await e(!1)}function UT(t,e){const n=xt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),t5(n)?e5(n):Jc(n).r_()&&Z2(n,e))}function J2(t,e){const n=xt(t),r=Jc(n);n.N_.delete(e),r.r_()&&zT(n,e),n.N_.size===0&&(r.r_()?r.o_():au(n)&&n.q_.set("Unknown"))}function Z2(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jc(t).A_(e)}function zT(t,e){t.Q_.xe(e),Jc(t).R_(e)}function e5(t){t.Q_=new uF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Jc(t).start(),t.q_.v_()}function t5(t){return au(t)&&!Jc(t).n_()&&t.N_.size>0}function au(t){return xt(t).L_.size===0}function qT(t){t.Q_=void 0}async function uj(t){t.q_.set("Online")}async function cj(t){t.N_.forEach((e,n)=>{Z2(t,e)})}async function hj(t,e){qT(t),t5(t)?(t.q_.M_(e),e5(t)):t.q_.set("Unknown")}async function dj(t,e,n){if(t.q_.set("Online"),e instanceof NT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nm(t,r)}else if(e instanceof Rp?t.Q_.Ke(e):e instanceof PT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(bt.min()))try{const r=await jT(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(pr.EMPTY_BYTE_STRING,d.snapshotVersion)),zT(s,l);const p=new Ca(d.target,l,u,d.sequenceNumber);Z2(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){et("RemoteStore","Failed to raise snapshot:",r),await Nm(t,r)}}async function Nm(t,e,n){if(!nf(e))throw e;t.L_.add(1),await of(t),t.q_.set("Offline"),n||(n=()=>jT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{et("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await xg(t)})}function HT(t,e){return e().catch(n=>Nm(t,n,e))}async function Sg(t){const e=xt(t),n=Xa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fj(e);)try{const i=await QF(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,pj(e,i)}catch(i){await Nm(e,i)}$T(e)&&WT(e)}function fj(t){return au(t)&&t.O_.length<10}function pj(t,e){t.O_.push(e);const n=Xa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $T(t){return au(t)&&!Xa(t).n_()&&t.O_.length>0}function WT(t){Xa(t).start()}async function mj(t){Xa(t).p_()}async function gj(t){const e=Xa(t);for(const n of t.O_)e.m_(n.mutations)}async function yj(t,e,n){const r=t.O_.shift(),i=W2.from(r,e,n);await HT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sg(t)}async function vj(t,e){e&&Xa(t).V_&&await async function(r,i){if(function(o){return oF(o)&&o!==Ie.ABORTED}(i.code)){const s=r.O_.shift();Xa(r).s_(),await HT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Sg(r)}}(t,e),$T(t)&&WT(t)}async function Ex(t,e){const n=xt(t);n.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const r=au(n);n.L_.add(3),await of(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await xg(n)}async function wj(t,e){const n=xt(t);e?(n.L_.delete(2),await xg(n)):e||(n.L_.add(2),await of(n),n.q_.set("Unknown"))}function Jc(t){return t.K_||(t.K_=function(n,r,i){const s=xt(n);return s.w_(),new ij(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:uj.bind(null,t),Ro:cj.bind(null,t),mo:hj.bind(null,t),d_:dj.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),t5(t)?e5(t):t.q_.set("Unknown")):(await t.K_.stop(),qT(t))})),t.K_}function Xa(t){return t.U_||(t.U_=function(n,r,i){const s=xt(n);return s.w_(),new sj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mj.bind(null,t),mo:vj.bind(null,t),f_:gj.bind(null,t),g_:yj.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Sg(t)):(await t.U_.stop(),t.O_.length>0&&(et("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new n5(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Je(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r5(t,e){if(Do("AsyncQueue",`${e}: ${t}`),nf(t))return new Je(Ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||rt.comparator(n.key,r.key):(n,r)=>rt.comparator(n.key,r.key),this.keyedMap=Vh(),this.sortedSet=new vn(this.comparator)}static emptySet(e){return new fc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.W_=new vn(rt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):mt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fc{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fc(e,n,fc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class bj{constructor(){this.queries=Ix(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=xt(n),s=i.queries;i.queries=Ix(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Je(Ie.ABORTED,"Firestore shutting down"))}}function Ix(){return new Xc(t=>pT(t),gg)}async function xj(t,e){const n=xt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new _j,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=r5(o,`Initialization of query '${Fu(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&i5(n)}async function Sj(t,e){const n=xt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Aj(t,e){const n=xt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&i5(n)}function Ej(t,e,n){const r=xt(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function i5(t){t.Y_.forEach(e=>{e.next()})}var Fy,Px;(Px=Fy||(Fy={})).ea="default",Px.Cache="cache";class Tj{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.key=e}}class KT{constructor(e){this.key=e}}class Ij{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Nt(),this.mutatedKeys=Nt(),this.Aa=mT(e),this.Ra=new fc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Tx,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const g=i.get(d),m=yg(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let P=!1;g&&m?g.data.isEqual(m.data)?A!==x&&(r.track({type:3,doc:m}),P=!0):this.ga(g,m)||(r.track({type:2,doc:m}),P=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),P=!0):g&&!m&&(r.track({type:1,doc:g}),P=!0,(l||u)&&(a=!0)),P&&(m?(o=o.add(m),s=x?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,p)=>function(m,A){const x=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return x(m)-x(A)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Fc(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Tx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Nt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new KT(r))}),this.da.forEach(r=>{e.has(r)||n.push(new GT(r))}),n}ba(e){this.Ta=e.Ts,this.da=Nt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Fc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Pj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nj{constructor(e){this.key=e,this.va=!1}}class kj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Xc(a=>pT(a),gg),this.Ma=new Map,this.xa=new Set,this.Oa=new vn(rt.comparator),this.Na=new Map,this.La=new Y2,this.Ba={},this.ka=new Map,this.qa=Mc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Cj(t,e,n=!0){const r=eI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await YT(r,e,n,!0),i}async function Lj(t,e){const n=eI(t);await YT(n,e,!0,!1)}async function YT(t,e,n,r){const i=await XF(t.localStore,Hs(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Rj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&UT(t.remoteStore,i),a}async function Rj(t,e,n,r,i){t.Ka=(p,g,m)=>async function(x,P,_,b){let N=P.view.ma(_);N.ns&&(N=await xx(x.localStore,P.query,!1).then(({documents:O})=>P.view.ma(O,N)));const H=b&&b.targetChanges.get(P.targetId),$=b&&b.targetMismatches.get(P.targetId)!=null,J=P.view.applyChanges(N,x.isPrimaryClient,H,$);return kx(x,P.targetId,J.wa),J.snapshot}(t,p,g,m);const s=await xx(t.localStore,e,!0),o=new Ij(e,s.Ts),a=o.ma(s.documents),l=sf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);kx(t,n,u.wa);const d=new Pj(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function Dj(t,e,n){const r=xt(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!gg(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await My(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&J2(r.remoteStore,i.targetId),jy(r,i.targetId)}).catch(tf)):(jy(r,i.targetId),await My(r.localStore,i.targetId,!0))}async function Oj(t,e){const n=xt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),J2(n.remoteStore,r.targetId))}async function Mj(t,e,n){const r=qj(t);try{const i=await function(o,a){const l=xt(o),u=Yn.now(),d=a.reduce((m,A)=>m.add(A.key),Nt());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let A=Oo(),x=Nt();return l.cs.getEntries(m,d).next(P=>{A=P,A.forEach((_,b)=>{b.isValidDocument()||(x=x.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,A)).next(P=>{p=P;const _=[];for(const b of a){const N=tF(b,p.get(b.key).overlayedDocument);N!=null&&_.push(new ou(b.key,N,oT(N.value.mapValue),Io.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,a)}).next(P=>{g=P;const _=P.applyToLocalDocumentSet(p,x);return l.documentOverlayCache.saveOverlays(m,P.batchId,_)})}).then(()=>({batchId:g.batchId,changes:yT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new vn(jt)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await af(r,i.changes),await Sg(r.remoteStore)}catch(i){const s=r5(i,"Failed to persist write");n.reject(s)}}async function QT(t,e){const n=xt(t);try{const r=await KF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Kt(o.va):i.removedDocuments.size>0&&(Kt(o.va),o.va=!1))}),await af(n,r,e)}catch(r){await tf(r)}}function Nx(t,e,n){const r=xt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=xt(o);l.onlineState=a;let u=!1;l.queries.forEach((d,p)=>{for(const g of p.j_)g.Z_(a)&&(u=!0)}),u&&i5(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Fj(t,e,n){const r=xt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new vn(rt.comparator);o=o.insert(s,Nr.newNoDocument(s,bt.min()));const a=Nt().add(s),l=new _g(bt.min(),new Map,new vn(jt),o,a);await QT(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),s5(r)}else await My(r.localStore,e,!1).then(()=>jy(r,e,n)).catch(tf)}async function jj(t,e){const n=xt(t),r=e.batch.batchId;try{const i=await GF(n.localStore,e);JT(n,r,null),XT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await af(n,i)}catch(i){await tf(i)}}async function Vj(t,e,n){const r=xt(t);try{const i=await function(o,a){const l=xt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(Kt(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);JT(r,e,n),XT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await af(r,i)}catch(i){await tf(i)}}function XT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function JT(t,e,n){const r=xt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function jy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ZT(t,r)})}function ZT(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(J2(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),s5(t))}function kx(t,e,n){for(const r of n)r instanceof GT?(t.La.addReference(r.key,e),Bj(t,r)):r instanceof KT?(et("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ZT(t,r.key)):mt()}function Bj(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(et("SyncEngine","New document in limbo: "+n),t.xa.add(r),s5(t))}function s5(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new rt(un.fromString(e)),r=t.qa.next();t.Na.set(r,new Nj(n)),t.Oa=t.Oa.insert(n,r),UT(t.remoteStore,new Ca(Hs(H2(n.path)),r,"TargetPurposeLimboResolution",j2.oe))}}async function af(t,e,n){const r=xt(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);const p=X2.Wi(l.targetId,u);s.push(p)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=xt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Le.forEach(u,g=>Le.forEach(g.$i,m=>d.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>Le.forEach(g.Ui,m=>d.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!nf(p))throw p;et("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const g=p.targetId;if(!p.fromCache){const m=d.os.get(g),A=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(A);d.os=d.os.insert(g,x)}}}(r.localStore,s))}async function Uj(t,e){const n=xt(t);if(!n.currentUser.isEqual(e)){et("SyncEngine","User change. New user:",e.toKey());const r=await FT(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Je(Ie.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await af(n,r.hs)}}function zj(t,e){const n=xt(t),r=n.Na.get(e);if(r&&r.va)return Nt().add(r.key);{let i=Nt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function eI(t){const e=xt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fj.bind(null,e),e.Ca.d_=Aj.bind(null,e.eventManager),e.Ca.$a=Ej.bind(null,e.eventManager),e}function qj(t){const e=xt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vj.bind(null,e),e}class km{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return WF(this.persistence,new HF,e.initialUser,this.serializer)}Ga(e){return new UF(Q2.Zr,this.serializer)}Wa(e){return new ZF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}km.provider={build:()=>new km};class Vy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Nx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uj.bind(null,this.syncEngine),await wj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bj}()}createDatastore(e){const n=bg(e.databaseInfo.databaseId),r=function(s){return new rj(s)}(e.databaseInfo);return function(s,o,a,l){return new oj(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new lj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Nx(this.syncEngine,n,0),function(){return Ax.D()?new Ax:new ej}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const p=new kj(i,s,o,a,l,u);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=xt(i);et("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await of(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vy.provider={build:()=>new Vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Do("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ir.UNAUTHENTICATED,this.clientId=rT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{et("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(et("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ql;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=r5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $0(t,e){t.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Cx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Wj(t);et("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ex(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ex(e.remoteStore,i)),t._onlineComponents=e}async function Wj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{await $0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ie.FAILED_PRECONDITION||i.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Lc("Error using user provided cache. Falling back to memory cache: "+n),await $0(t,new km)}}else et("FirestoreClient","Using default OfflineComponentProvider"),await $0(t,new km);return t._offlineComponents}async function tI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),await Cx(t,t._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),await Cx(t,new Vy))),t._onlineComponents}function Gj(t){return tI(t).then(e=>e.syncEngine)}async function Lx(t){const e=await tI(t),n=e.eventManager;return n.onListen=Cj.bind(null,e.syncEngine),n.onUnlisten=Dj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Lj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Oj.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e,n){if(!n)throw new Je(Ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Kj(t,e,n,r){if(e===!0&&r===!0)throw new Je(Ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dx(t){if(!rt.isDocumentKey(t))throw new Je(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ox(t){if(rt.isDocumentKey(t))throw new Je(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ag(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":mt()}function sd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Je(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ag(t);throw new Je(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Je(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Je(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Je(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Je(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Je(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Je(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Je(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uM;switch(r.type){case"firstParty":return new fM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Je(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Rx.get(n);r&&(et("ComponentProvider","Removing Datastore"),Rx.delete(n),r.terminate())}(this),Promise.resolve()}}function Yj(t,e,n,r={}){var i;const s=(t=sd(t,Eg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Lc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ir.MOCK_USER;else{a=VD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Je(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ir(u)}t._authCredentials=new cM(new nT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lu(this.firestore,e,this._query)}}class xi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xi(this.firestore,e,this._key)}}class Ha extends lu{constructor(e,n,r){super(e,n,H2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xi(this.firestore,null,new rt(e))}withConverter(e){return new Ha(this.firestore,e,this._path)}}function Fx(t,e,...n){if(t=Ei(t),rI("collection","path",e),t instanceof Eg){const r=un.fromString(e,...n);return Ox(r),new Ha(t,null,r)}{if(!(t instanceof xi||t instanceof Ha))throw new Je(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(un.fromString(e,...n));return Ox(r),new Ha(t.firestore,null,r)}}function Qj(t,e,...n){if(t=Ei(t),arguments.length===1&&(e=rT.newId()),rI("doc","path",e),t instanceof Eg){const r=un.fromString(e,...n);return Dx(r),new xi(t,null,new rt(r))}{if(!(t instanceof xi||t instanceof Ha))throw new Je(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(un.fromString(e,...n));return Dx(r),new xi(t.firestore,t instanceof Ha?t.converter:null,new rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new VT(this,"async_queue_retry"),this.Vu=()=>{const r=H0();r&&et("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=H0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=H0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ql;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!nf(e))throw e;et("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Do("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=n5.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&mt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Vx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Cm extends Eg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new jx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jx(e),this._firestoreClient=void 0,await e}}}function Xj(t,e){const n=typeof t=="object"?t:GE(),r=typeof t=="string"?t:"(default)",i=M2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=FD("firestore");s&&Yj(i,...s)}return i}function iI(t){if(t._terminated)throw new Je(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Jj(t),t._firestoreClient}function Jj(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new TM(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,nI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new $j(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jc(pr.fromBase64String(e))}catch(n){throw new Je(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jc(pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Je(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Je(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Je(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=/^__.*__$/;class e9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ou(e,this.data,this.fieldMask,n,this.fieldTransforms):new rf(e,this.data,n,this.fieldTransforms)}}function sI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class c5{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new c5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Lm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(sI(this.Cu)&&Zj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class t9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bg(e)}Qu(e,n,r,i=!1){return new c5({Cu:e,methodName:n,qu:r,path:cr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oI(t){const e=t._freezeSettings(),n=bg(t._databaseId);return new t9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function n9(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);uI("Data must be an object, but it was:",o,r);const a=aI(r,o);let l,u;if(s.merge)l=new ds(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const g=i9(e,p,n);if(!o.contains(g))throw new Je(Ie.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);o9(d,g)||d.push(g)}l=new ds(d),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new e9(new zi(a),l,u)}class h5 extends a5{_toFieldTransform(e){return new XM(e.path,new Fd)}isEqual(e){return e instanceof h5}}function r9(t,e,n,r=!1){return d5(n,t.Qu(r?4:3,e))}function d5(t,e){if(lI(t=Ei(t)))return uI("Unsupported field value:",e,t),aI(t,e);if(t instanceof a5)return function(r,i){if(!sI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=d5(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ei(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Yn.fromDate(r);return{timestampValue:Pm(i.serializer,s)}}if(r instanceof Yn){const s=new Yn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pm(i.serializer,s)}}if(r instanceof l5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jc)return{bytesValue:kT(i.serializer,r._byteString)};if(r instanceof xi){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:K2(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof u5)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return $2(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Ag(r)}`)}(t,e)}function aI(t,e){const n={};return iT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yc(t,(r,i)=>{const s=d5(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function lI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yn||t instanceof l5||t instanceof jc||t instanceof xi||t instanceof a5||t instanceof u5)}function uI(t,e,n){if(!lI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ag(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function i9(t,e,n){if((e=Ei(e))instanceof o5)return e._internalPath;if(typeof e=="string")return cI(t,e);throw Lm("Field path arguments must be of type string or ",t,!1,void 0,n)}const s9=new RegExp("[~\\*/\\[\\]]");function cI(t,e,n){if(e.search(s9)>=0)throw Lm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new o5(...e.split("."))._internalPath}catch{throw Lm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Je(Ie.INVALID_ARGUMENT,a+t+l)}function o9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new xi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(f5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a9 extends hI{data(){return super.data()}}function f5(t,e){return typeof e=="string"?cI(t,e):e instanceof o5?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Je(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p5{}class dI extends p5{}function u9(t,e,...n){let r=[];e instanceof p5&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof g5).length,a=s.filter(l=>l instanceof m5).length;if(o>1||o>0&&a>0)throw new Je(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class m5 extends dI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new m5(e,n,r)}_apply(e){const n=this._parse(e);return fI(e._query,n),new lu(e.firestore,e.converter,ky(e._query,n))}_parse(e){const n=oI(e.firestore);return function(s,o,a,l,u,d,p){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Je(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Ux(p,d);const m=[];for(const A of p)m.push(Bx(l,s,A));g={arrayValue:{values:m}}}else g=Bx(l,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Ux(p,d),g=r9(a,o,p,d==="in"||d==="not-in");return Hn.create(u,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class g5 extends p5{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new g5(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)fI(o,l),o=ky(o,l)}(e._query,n),new lu(e.firestore,e.converter,ky(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class y5 extends dI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new y5(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Je(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Je(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Md(s,o)}(e._query,this._field,this._direction);return new lu(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Qc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function c9(t,e="asc"){const n=e,r=f5("orderBy",t);return y5._create(r,n)}function Bx(t,e,n){if(typeof(n=Ei(n))=="string"){if(n==="")throw new Je(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fT(e)&&n.indexOf("/")!==-1)throw new Je(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(un.fromString(n));if(!rt.isDocumentKey(r))throw new Je(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sx(t,new rt(r))}if(n instanceof xi)return sx(t,n._key);throw new Je(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ag(n)}.`)}function Ux(t,e){if(!Array.isArray(t)||t.length===0)throw new Je(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Je(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Je(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class h9{convertValue(e,n="none"){switch(tu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw mt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ln(o.doubleValue));return new u5(s)}convertGeoPoint(e){return new l5(Ln(e.latitude),Ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=B2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rd(e));default:return null}}convertTimestamp(e){const n=Qa(e);return new Yn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=un.fromString(e);Kt(MT(r));const i=new Dd(r.get(1),r.get(3)),s=new rt(r.popFirst(5));return i.isEqual(n)||Do(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pI extends hI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(f5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Dp extends pI{data(e={}){return super.data(e)}}class f9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Uh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dp(this._firestore,this._userDataWriter,r.key,r,new Uh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Je(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Dp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Uh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Dp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Uh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:p9(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function p9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}class mI extends h9{constructor(e){super(),this.firestore=e}convertBytes(e){return new jc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xi(this.firestore,null,n)}}function m9(t,e){const n=sd(t.firestore,Cm),r=Qj(t),i=d9(t.converter,e);return y9(n,[n9(oI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Io.exists(!1))]).then(()=>r)}function g9(t,...e){var n,r,i;t=Ei(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Vx(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Vx(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,d;if(t instanceof xi)u=sd(t.firestore,Cm),d=H2(t._key.path),l={next:p=>{e[o]&&e[o](v9(u,t,p))},error:e[o+1],complete:e[o+2]};else{const p=sd(t,lu);u=sd(p.firestore,Cm),d=p._query;const g=new mI(u);l={next:m=>{e[o]&&e[o](new f9(u,g,p,m))},error:e[o+1],complete:e[o+2]},l9(t._query)}return function(g,m,A,x){const P=new Hj(x),_=new Tj(m,P,A);return g.asyncQueue.enqueueAndForget(async()=>xj(await Lx(g),_)),()=>{P.Za(),g.asyncQueue.enqueueAndForget(async()=>Sj(await Lx(g),_))}}(iI(u),d,a,l)}function y9(t,e){return function(r,i){const s=new ql;return r.asyncQueue.enqueueAndForget(async()=>Mj(await Gj(r),i,s)),s.promise}(iI(t),e)}function v9(t,e,n){const r=n.docs.get(e._key),i=new mI(t);return new pI(t,i,e._key,r,new Uh(n.hasPendingWrites,n.fromCache),e.converter)}function w9(){return new h5("serverTimestamp")}(function(e,n=!0){(function(i){Kc=i})(Gc),Cc(new Jl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Cm(new hM(r.getProvider("auth-internal")),new mM(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Je(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dd(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qa(ex,"4.7.3",e),qa(ex,"4.7.3","esm2017")})();var _9="firebase",b9="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qa(_9,b9,"app");function v5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x9=gI,yI=new Zd("auth","Firebase",gI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=new D2("@firebase/auth");function S9(t,...e){Rm.logLevel<=Ct.WARN&&Rm.warn(`Auth (${Gc}): ${t}`,...e)}function Op(t,...e){Rm.logLevel<=Ct.ERROR&&Rm.error(`Auth (${Gc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t,...e){throw w5(t,...e)}function Ws(t,...e){return w5(t,...e)}function vI(t,e,n){const r=Object.assign(Object.assign({},x9()),{[e]:n});return new Zd("auth","Firebase",r).create(e,{appName:t.name})}function Hl(t){return vI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yI.create(t,...e)}function pt(t,e,...n){if(!t)throw w5(e,...n)}function bo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Op(e),new Error(e)}function Fo(t,e){t||bo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function A9(){return zx()==="http:"||zx()==="https:"}function zx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A9()||qD()||"connection"in navigator)?navigator.onLine:!0}function T9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fo(n>e,"Short delay should be less than long delay!"),this.isMobile=BD()||HD()}get(){return E9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t,e){Fo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=new lf(3e4,6e4);function b5(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zc(t,e,n,r,i={}){return _I(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ef(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return zD()||(u.referrerPolicy="no-referrer"),wI.fetch()(bI(t,t.config.apiHost,n,a),u)})}async function _I(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},I9),e);try{const i=new k9(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw op(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw op(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw op(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw op(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw vI(t,d,u);Mo(t,d)}}catch(i){if(i instanceof Vo)throw i;Mo(t,"network-request-failed",{message:String(i)})}}async function N9(t,e,n,r,i={}){const s=await Zc(t,e,n,r,i);return"mfaPendingCredential"in s&&Mo(t,"multi-factor-auth-required",{_serverResponse:s}),s}function bI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?_5(t.config,i):`${t.config.apiScheme}://${i}`}class k9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ws(this.auth,"network-request-failed")),P9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function op(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ws(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e){return Zc(t,"POST","/v1/accounts:delete",e)}async function xI(t,e){return Zc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L9(t,e=!1){const n=Ei(t),r=await n.getIdToken(e),i=x5(r);pt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:od(W0(i.auth_time)),issuedAtTime:od(W0(i.iat)),expirationTime:od(W0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function W0(t){return Number(t)*1e3}function x5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Op("JWT malformed, contained fewer than 3 sections"),null;try{const i=BE(n);return i?JSON.parse(i):(Op("Failed to decode base64 JWT payload"),null)}catch(i){return Op("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function qx(t){const e=x5(t);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vo&&R9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function R9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=od(this.lastLoginAt),this.creationTime=od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Bd(t,xI(n,{idToken:r}));pt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?SI(s.providerUserInfo):[],a=M9(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Uy(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function O9(t){const e=Ei(t);await Dm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SI(t){return t.map(e=>{var{providerId:n}=e,r=v5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(t,e){const n=await _I(t,{},async()=>{const r=ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=bI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function j9(t,e){return Zc(t,"POST","/v2/accounts:revokeToken",b5(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pt(e.length!==0,"internal-error");const n=qx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await F9(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new pc;return r&&(pt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pc,this.toJSON())}_performRefresh(){return bo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t,e){pt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=v5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new D9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Uy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Bd(this,this.stsTokenManager.getToken(this.auth,e));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return L9(this,e)}reload(){return O9(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ka(this.auth.app))return Promise.reject(Hl(this.auth));const e=await this.getIdToken();return await Bd(this,C9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:H,isAnonymous:$,providerData:J,stsTokenManager:O}=n;pt(N&&O,e,"internal-error");const E=pc.fromJSON(this.name,O);pt(typeof N=="string",e,"internal-error"),ga(p,e.name),ga(g,e.name),pt(typeof H=="boolean",e,"internal-error"),pt(typeof $=="boolean",e,"internal-error"),ga(m,e.name),ga(A,e.name),ga(x,e.name),ga(P,e.name),ga(_,e.name),ga(b,e.name);const C=new xo({uid:N,auth:e,email:g,emailVerified:H,displayName:p,isAnonymous:$,photoURL:A,phoneNumber:m,tenantId:x,stsTokenManager:E,createdAt:_,lastLoginAt:b});return J&&Array.isArray(J)&&(C.providerData=J.map(V=>Object.assign({},V))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new pc;i.updateFromServerResponse(n);const s=new xo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Dm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?SI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new pc;a.updateFromIdToken(r);const l=new xo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Uy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new Map;function So(t){Fo(t instanceof Function,"Expected a class definition");let e=Hx.get(t);return e?(Fo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AI.type="NONE";const $x=AI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t,e,n){return`firebase:${t}:${e}:${n}`}class mc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Mp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Mp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mc(So($x),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||So($x);const o=Mp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const p=xo._fromJSON(e,d);u!==s&&(a=p),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new mc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new mc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kI(e))return"Blackberry";if(CI(e))return"Webos";if(TI(e))return"Safari";if((e.includes("chrome/")||II(e))&&!e.includes("edge/"))return"Chrome";if(NI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EI(t=Dr()){return/firefox\//i.test(t)}function TI(t=Dr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function II(t=Dr()){return/crios\//i.test(t)}function PI(t=Dr()){return/iemobile/i.test(t)}function NI(t=Dr()){return/android/i.test(t)}function kI(t=Dr()){return/blackberry/i.test(t)}function CI(t=Dr()){return/webos/i.test(t)}function S5(t=Dr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function V9(t=Dr()){var e;return S5(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function B9(){return $D()&&document.documentMode===10}function LI(t=Dr()){return S5(t)||NI(t)||CI(t)||kI(t)||/windows phone/i.test(t)||PI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e=[]){let n;switch(t){case"Browser":n=Wx(Dr());break;case"Worker":n=`${Wx(Dr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(t,e={}){return Zc(t,"GET","/v2/passwordPolicy",b5(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=6;class H9{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:q9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gx(this),this.idTokenSubscription=new Gx(this),this.beforeStateQueue=new U9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=So(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await mc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xI(this,{idToken:e}),r=await xo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ka(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ka(this.app))return Promise.reject(Hl(this));const n=e?Ei(e):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ka(this.app)?Promise.reject(Hl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ka(this.app)?Promise.reject(Hl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(So(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await z9(this),n=new H9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await j9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&So(e)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await mc.create(this,[So(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&S9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function A5(t){return Ei(t)}class Gx{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZD(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E5={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W9(t){E5=t}function G9(t){return E5.loadJS(t)}function K9(){return E5.gapiScript}function Y9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t,e){const n=M2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Sm(s,e??{}))return i;Mo(i,"already-initialized")}return n.initialize({options:e})}function X9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(So);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function J9(t,e,n){const r=A5(t);pt(r._canInitEmulator,r,"emulator-config-failed"),pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=DI(e),{host:o,port:a}=Z9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),eV()}function DI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z9(t){const e=DI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Kx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Kx(o)}}}function Kx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bo("not implemented")}_getIdTokenResponse(e){return bo("not implemented")}_linkToIdToken(e,n){return bo("not implemented")}_getReauthenticationResolver(e){return bo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t,e){return N9(t,"POST","/v1/accounts:signInWithIdp",b5(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="http://localhost";class nu extends OI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new nu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=v5(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new nu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return gc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gc(e,n)}buildRequest(){const e={requestUri:tV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ef(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends MI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends uf{constructor(){super("facebook.com")}static credential(e){return nu._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Aa.credential(e.oauthAccessToken)}catch{return null}}}Aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends uf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return nu._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ea.credential(n,r)}catch{return null}}}Ea.GOOGLE_SIGN_IN_METHOD="google.com";Ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends uf{constructor(){super("github.com")}static credential(e){return nu._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.GITHUB_SIGN_IN_METHOD="github.com";Ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends uf{constructor(){super("twitter.com")}static credential(e,n){return nu._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ia.credential(n,r)}catch{return null}}}Ia.TWITTER_SIGN_IN_METHOD="twitter.com";Ia.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await xo._fromIdTokenResponse(e,r,i),o=Yx(r);return new Vc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Yx(r);return new Vc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Yx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends Vo{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Om.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Om(e,n,r,i)}}function FI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Om._fromErrorAndOperation(t,s,e,r):s})}async function nV(t,e,n=!1){const r=await Bd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(t,e,n=!1){const{auth:r}=t;if(ka(r.app))return Promise.reject(Hl(r));const i="reauthenticate";try{const s=await Bd(t,FI(r,i,e,t),n);pt(s.idToken,r,"internal-error");const o=x5(s.idToken);pt(o,r,"internal-error");const{sub:a}=o;return pt(t.uid===a,r,"user-mismatch"),Vc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t,e,n=!1){if(ka(t.app))return Promise.reject(Hl(t));const r="signIn",i=await FI(t,r,e),s=await Vc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function sV(t,e,n,r){return Ei(t).onIdTokenChanged(e,n,r)}function oV(t,e,n){return Ei(t).beforeAuthStateChanged(e,n)}const Mm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mm,"1"),this.storage.removeItem(Mm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=1e3,lV=10;class VI extends jI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);B9()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VI.type="LOCAL";const uV=VI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI extends jI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BI.type="SESSION";const UI=BI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Tg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await cV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=T5("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(){return window}function dV(t){Gs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof Gs().WorkerGlobalScope<"u"&&typeof Gs().importScripts=="function"}async function fV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mV(){return zI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="firebaseLocalStorageDb",gV=1,Fm="firebaseLocalStorage",HI="fbase_key";class cf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ig(t,e){return t.transaction([Fm],e?"readwrite":"readonly").objectStore(Fm)}function yV(){const t=indexedDB.deleteDatabase(qI);return new cf(t).toPromise()}function zy(){const t=indexedDB.open(qI,gV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fm,{keyPath:HI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fm)?e(r):(r.close(),await yV(),e(await zy()))})})}async function Qx(t,e,n){const r=Ig(t,!0).put({[HI]:e,value:n});return new cf(r).toPromise()}async function vV(t,e){const n=Ig(t,!1).get(e),r=await new cf(n).toPromise();return r===void 0?null:r.value}function Xx(t,e){const n=Ig(t,!0).delete(e);return new cf(n).toPromise()}const wV=800,_V=3;class $I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_V)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tg._getInstance(mV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fV(),!this.activeServiceWorker)return;this.sender=new hV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zy();return await Qx(e,Mm,"1"),await Xx(e,Mm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ig(i,!1).getAll();return new cf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$I.type="LOCAL";const bV=$I;new lf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t,e){return e?So(e):(pt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5 extends OI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SV(t){return iV(t.auth,new I5(t),t.bypassAuthState)}function AV(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),rV(n,new I5(t),t.bypassAuthState)}async function EV(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),nV(n,new I5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SV;case"linkViaPopup":case"linkViaRedirect":return EV;case"reauthViaPopup":case"reauthViaRedirect":return AV;default:Mo(this.auth,"internal-error")}}resolve(e){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new lf(2e3,1e4);class sc extends WI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,sc.currentPopupAction&&sc.currentPopupAction.cancel(),sc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){Fo(this.filter.length===1,"Popup operations only handle one event");const e=T5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TV.get())};e()}}sc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="pendingRedirect",Fp=new Map;class PV extends WI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fp.get(this.auth._key());if(!e){try{const r=await NV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fp.set(this.auth._key(),e)}return this.bypassAuthState||Fp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NV(t,e){const n=LV(e),r=CV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kV(t,e){Fp.set(t._key(),e)}function CV(t){return So(t._redirectPersistence)}function LV(t){return Mp(IV,t.config.apiKey,t.name)}async function RV(t,e,n=!1){if(ka(t.app))return Promise.reject(Hl(t));const r=A5(t),i=xV(r,e),o=await new PV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=10*60*1e3;class OV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ws(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jx(e))}saveEventToCache(e){this.cachedEventUids.add(Jx(e)),this.lastProcessedEventTime=Date.now()}}function Jx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV(t,e={}){return Zc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VV=/^https?/;async function BV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FV(t);for(const n of e)try{if(UV(n))return}catch{}Mo(t,"unauthorized-domain")}function UV(t){const e=By(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!VV.test(n))return!1;if(jV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new lf(3e4,6e4);function Zx(){const t=Gs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qV(t){return new Promise((e,n)=>{var r,i,s;function o(){Zx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zx(),n(Ws(t,"network-request-failed"))},timeout:zV.get()})}if(!((i=(r=Gs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Gs().gapi)===null||s===void 0)&&s.load)o();else{const a=Y9("iframefcb");return Gs()[a]=()=>{gapi.load?o():n(Ws(t,"network-request-failed"))},G9(`${K9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw jp=null,e})}let jp=null;function HV(t){return jp=jp||qV(t),jp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new lf(5e3,15e3),WV="__/auth/iframe",GV="emulator/auth/iframe",KV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QV(t){const e=t.config;pt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_5(e,GV):`https://${t.config.authDomain}/${WV}`,r={apiKey:e.apiKey,appName:t.name,v:Gc},i=YV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ef(r).slice(1)}`}async function XV(t){const e=await HV(t),n=Gs().gapi;return pt(n,t,"internal-error"),e.open({where:document.body,url:QV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ws(t,"network-request-failed"),a=Gs().setTimeout(()=>{s(o)},$V.get());function l(){Gs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZV=500,eB=600,tB="_blank",nB="http://localhost";class e4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rB(t,e,n,r=ZV,i=eB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},JV),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Dr().toLowerCase();n&&(a=II(u)?tB:n),EI(u)&&(e=e||nB,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[m,A])=>`${g}${m}=${A},`,"");if(V9(u)&&a!=="_self")return iB(e||"",a),new e4(null);const p=window.open(e||"",a,d);pt(p,t,"popup-blocked");try{p.focus()}catch{}return new e4(p)}function iB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB="__/auth/handler",oB="emulator/auth/handler",aB=encodeURIComponent("fac");async function t4(t,e,n,r,i,s){pt(t.config.authDomain,t,"auth-domain-config-required"),pt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gc,eventId:i};if(e instanceof MI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",JD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof uf){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${aB}=${encodeURIComponent(l)}`:"";return`${lB(t)}?${ef(a).slice(1)}${u}`}function lB({config:t}){return t.emulator?_5(t,oB):`https://${t.authDomain}/${sB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="webStorageSupport";class uB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UI,this._completeRedirectFn=RV,this._overrideRedirectResult=kV}async _openPopup(e,n,r,i){var s;Fo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await t4(e,n,r,By(),i);return rB(e,o,T5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await t4(e,n,r,By(),i);return dV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Fo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XV(e),r=new OV(e);return n.register("authEvent",i=>(pt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(G0,{type:G0},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[G0];o!==void 0&&n(!!o),Mo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LI()||TI()||S5()}}const cB=uB;var n4="@firebase/auth",r4="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fB(t){Cc(new Jl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RI(t)},u=new $9(r,i,s,l);return X9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cc(new Jl("auth-internal",e=>{const n=A5(e.getProvider("auth").getImmediate());return(r=>new hB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qa(n4,r4,dB(t)),qa(n4,r4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=5*60,mB=qE("authIdTokenMaxAge")||pB;let i4=null;const gB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mB)return;const i=n==null?void 0:n.token;i4!==i&&(i4=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yB(t=GE()){const e=M2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Q9(t,{popupRedirectResolver:cB,persistence:[bV,uV,UI]}),r=qE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=gB(s.toString());oV(n,o,()=>o(n.currentUser)),sV(n,a=>o(a))}}const i=UE("auth");return i&&J9(n,`http://${i}`),n}function vB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}W9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ws("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fB("Browser");class wB{collection(){return this}doc(){return this}get(){return Promise.resolve({exists:()=>!1,data:()=>null})}set(){return Promise.resolve()}update(){return Promise.resolve()}delete(){return Promise.resolve()}onSnapshot(e){return e({docs:[]}),()=>{}}}class _B{constructor(){this.currentUser=null}onAuthStateChanged(e){return e(null),()=>{}}signInWithEmailAndPassword(){return Promise.reject(new Error("Firebase not configured"))}createUserWithEmailAndPassword(){return Promise.reject(new Error("Firebase not configured"))}signOut(){return Promise.resolve()}}let K0,qy=new wB,bB=new _B,xB=!1;try{const t={apiKey:"your-firebase-api-key",authDomain:"your-firebase-domain.firebaseapp.com",projectId:"your-project-id",storageBucket:"your-storage-bucket.appspot.com",messagingSenderId:"your-messaging-sender-id",appId:"your-app-id"};t.apiKey&&t.apiKey!=="demo-api-key"&&t.apiKey!=="your-api-key"?(K0=WE(t),qy=Xj(K0),bB=yB(K0),xB=!0,console.log("Firebase initialized successfully")):console.warn("Using mock Firebase implementation - real Firebase credentials not provided")}catch(t){console.error("Error initializing Firebase:",t),console.warn("Using mock Firebase implementation due to initialization error")}const SB=(t={})=>{const{userId:e="anonymous",saveToFirebase:n=!1,autoAddTypingIndicator:r=!0}=t,[i,s]=Ce.useState([]),[o,a]=Ce.useState(!1),[l,u]=Ce.useState(null);Ce.useEffect(()=>{if(!n||e==="anonymous")return;const x=Fx(qy,"users",e,"chats"),P=u9(x,c9("timestamp","asc")),_=g9(P,b=>{const N=[];b.forEach(H=>{var J;const $=H.data();N.push({id:H.id,content:$.content,sender:$.sender,timestamp:((J=$.timestamp)==null?void 0:J.toDate())||new Date,health:$.health,error:$.error})}),s(N)},b=>{console.error("Error loading messages:",b),u("Failed to load chat history.")});return()=>_()},[e,n]);const d=Ce.useCallback(async(x,P,_,b=!1)=>{const N={id:Date.now().toString(),content:x,sender:P,timestamp:new Date,health:_,isTyping:b};if(s(H=>[...H,N]),n&&e&&!b)try{const H=Fx(qy,"users",e,"chats");await m9(H,{content:x,sender:P,timestamp:w9(),health:_})}catch(H){console.error("Error saving message:",H)}return N},[e,n]),p=Ce.useCallback((x,P,_)=>{s(b=>b.map(N=>N.id===x?{...N,content:P,isTyping:!1,health:_}:N))},[]);Ce.useCallback(x=>{let P=`Based on your symptoms, you may have: **${x.condition}**

`;const _=x.urgency==="high"?"":x.urgency==="medium"?"":"";P+=`**Urgency**: ${_} ${x.urgency.charAt(0).toUpperCase()+x.urgency.slice(1)}

`,P+=`**What you can do**:
`,x.remedies.forEach(N=>P+=`- ${N}
`),P+=`
${x.explanation}

`;const b=g(x.condition);return b&&(P+=`**Health Tips**:
${b}

`),P+="*Disclaimer: This analysis is based on the symptoms you described, but is not a medical diagnosis. Please consult a healthcare professional for proper medical advice and treatment.*",P},[]);const g=x=>{const P=x.toLowerCase();return P.includes("malaria")?"Prevention is key - use mosquito nets, wear long-sleeved clothing, and use repellents. Keep your surroundings clean and free of stagnant water.":P.includes("flu")||P.includes("cold")?"Stay hydrated with warm fluids, get plenty of rest, and consider traditional remedies like lemon and honey tea or ginger infusions.":P.includes("headache")||P.includes("tension")?"Consider local remedies like feverfew tea or try a cool cloth on your forehead while resting in a dark, quiet room.":P.includes("diarrhea")||P.includes("stomach")?"Rehydration is crucial. Try a simple solution of water with a pinch of salt and sugar. Consume easily digestible foods like sadza (maize porridge).":P.includes("joint")||P.includes("arthritis")?"Traditional remedies include warm compression with maize meal or salt bags. Gentle stretching and maintaining movement can also help.":null},m=Ce.useCallback(async x=>{try{a(!0),u(null),await d(x,"user");let P="";r&&(P=(await d("Thinking...","ai",void 0,!0)).id);try{const _=i.slice(-10).filter(N=>!N.isTyping).map(N=>({role:N.sender,content:N.content}));console.log("Sending chat message:",x),console.log("Chat history length:",_.length);let b;try{b=await FE.getChatResponse(x,_),console.log("Received chat response")}catch(N){console.error("Error getting chat response:",N),b="I apologize, but I'm having trouble connecting to my knowledge base right now. Please try again in a moment or ask me another question."}P?p(P,b):await d(b,"ai")}catch(_){console.error("Error in sendMessage:",_),P?p(P,"I'm sorry, I encountered an error processing your request. Please try again or ask a different question."):await d("I'm sorry, I encountered an error processing your request. Please try again or ask a different question.","ai",void 0,!1,!0)}finally{a(!1)}}catch(P){console.error("Unhandled error in sendMessage:",P),u(P instanceof Error?P:new Error(String(P))),a(!1),await d("I apologize, but something went wrong. Please try again later.","ai",void 0,!1,!0)}},[i,d,p,r]),A=Ce.useCallback(()=>{s([])},[]);return{messages:i,isLoading:o,error:l,sendMessage:m,addMessage:d,clearMessages:A}},Zr={Send:t=>U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[U.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),U.jsx("path",{d:"M22 2 11 13"})]}),MapPin:t=>U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[U.jsx("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),U.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),X:t=>U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[U.jsx("path",{d:"M18 6 6 18"}),U.jsx("path",{d:"m6 6 12 12"})]}),Sparkles:t=>U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:U.jsx("path",{d:"m12 3-1.9 5.8a2 2 0 0 1-1.1 1.1L3.2 12l5.8 1.9a2 2 0 0 1 1.1 1.1L12 21l1.9-5.8a2 2 0 0 1 1.1-1.1L20.8 12l-5.8-1.9a2 2 0 0 1-1.1-1.1Z"})}),RefreshCw:t=>U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[U.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),U.jsx("path",{d:"M21 3v5h-5"}),U.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),U.jsx("path",{d:"M3 21v-5h5"})]}),MessageSquare:t=>U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:U.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),Clock:t=>U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[U.jsx("circle",{cx:"12",cy:"12",r:"10"}),U.jsx("polyline",{points:"12 6 12 12 16 14"})]})};try{const t=require("lucide-react");if(t){const{Send:e,MapPin:n,Sparkles:r,RefreshCw:i,X:s,MessageSquare:o,Clock:a}=t;Zr.Send=e,Zr.MapPin=n,Zr.Sparkles=r,Zr.RefreshCw=i,Zr.X=s,Zr.MessageSquare=o,Zr.Clock=a}}catch{console.warn("Could not load lucide-react, using fallback icons")}const AB=({children:t})=>{const e=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/- (.*?)(\n|$)/g,"<li>$1</li>").split(`

`).map((n,r)=>n.startsWith("<li>")?`<ul>${n}</ul>`:`<p>${n}</p>`).join("");return U.jsx("div",{dangerouslySetInnerHTML:{__html:e}})};let KI=({children:t,className:e})=>U.jsx(AB,{children:t});try{const t=require("react-markdown");t&&t.default&&(KI=({children:e,className:n})=>U.jsx(t.default,{className:n||"prose prose-sm max-w-none dark:prose-invert",components:{p:({children:r})=>U.jsx("p",{className:"mb-2",children:r}),ul:({children:r})=>U.jsx("ul",{className:"list-disc pl-5 mb-2",children:r}),li:({children:r})=>U.jsx("li",{className:"mb-1",children:r}),strong:({children:r})=>U.jsx("strong",{className:"font-bold",children:r}),em:({children:r})=>U.jsx("em",{className:"italic text-gray-400",children:r})},children:e}))}catch{console.warn("Could not load react-markdown, using simple markdown implementation")}const YI=({onClose:t,isOpen:e=!0,className:n="",initialMessage:r=null})=>{const[i,s]=Ce.useState(""),[o,a]=Ce.useState(!0),[l,u]=Ce.useState(!1),[d,p]=Ce.useState(null),[g,m]=Ce.useState([]),[A,x]=Ce.useState(!1),P=Ce.useRef(null),_=Ce.useRef(null),b=SB({autoAddTypingIndicator:!0}),N=["I have a fever and body aches","I've been coughing and have chest pain","I have a persistent headache and fatigue","I have abdominal pain and diarrhea","I have a rash and itching skin","I feel dizzy and short of breath","I have joint pain and swelling"];Ce.useEffect(()=>{(async()=>{try{if(o){b.addMessage(`Mhoro! Welcome to Ratidzo. I'm here to help you with your health concerns.

Please tell me about your symptoms and I'll analyze them to provide health insights and suggestions.

Remember, I'm not a doctor, but I can offer guidance based on what you tell me.

**Important**: I can provide information on a wide range of health topics including HIV/AIDS, malaria, diabetes, and more.`,"ai"),a(!1);const V=[...N].sort(()=>.5-Math.random()).slice(0,3);m(V),r&&!l&&(u(!0),setTimeout(async()=>{await b.addMessage(r,"user"),await $(r)},500))}}catch(V){console.error("Error in sendInitialWelcomeMessage:",V),p(V instanceof Error?V:new Error(String(V)))}})()},[r,o,l]),Ce.useEffect(()=>{H()},[b.messages]),Ce.useEffect(()=>{e&&P.current&&P.current.focus()},[e]);const H=()=>{var C;(C=_.current)==null||C.scrollIntoView({behavior:"smooth"})},$=async C=>{if(C&&C.preventDefault(),!i.trim())return;const V=i.trim();try{x(!0),s("");const I=V.toLowerCase();if((I.includes("clinic")||I.includes("hospital")||I.includes("doctor")||I.includes("pharmacy"))&&(I.includes("show")||I.includes("find")||I.includes("where")||I.includes("locate")||I.includes("map")||I.includes("nearby"))){await b.addMessage(V,"user");let k="clinic";I.includes("hospital")&&(k="hospital"),I.includes("pharmacy")&&(k="pharmacy"),I.includes("doctor")&&(k="doctor"),await b.addMessage(`I can help you find ${k}s near you. For the best experience, you can use the Healthcare Finder feature by clicking on the "Find healthcare facilities" button below, or I can provide information about healthcare options.`,"ai"),window.dispatchEvent(new CustomEvent("open-healthcare-map",{detail:{facilityType:k}})),x(!1)}else await J(V)}catch(I){console.error("Error in handleSubmit:",I),p(I instanceof Error?I:new Error(String(I))),x(!1)}},J=async C=>{try{console.log("Sending message:",C),await b.sendMessage(C),x(!1)}catch(V){console.error("Error in handleSendMessage:",V),p(V instanceof Error?V:new Error(String(V)))}},O=C=>C.isTyping?U.jsxs("div",{className:"flex items-center",children:[U.jsx("span",{className:"mr-2",children:"Processing your question"}),U.jsxs("span",{className:"flex space-x-1",children:[U.jsx(je.span,{animate:{opacity:[.2,1,.2]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},className:"h-1.5 w-1.5 bg-gray-600 dark:bg-gray-400 rounded-full"}),U.jsx(je.span,{animate:{opacity:[.2,1,.2]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut",delay:.2},className:"h-1.5 w-1.5 bg-gray-600 dark:bg-gray-400 rounded-full"}),U.jsx(je.span,{animate:{opacity:[.2,1,.2]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut",delay:.4},className:"h-1.5 w-1.5 bg-gray-600 dark:bg-gray-400 rounded-full"})]})]}):U.jsx(KI,{className:"prose prose-sm max-w-none dark:prose-invert",children:C.content}),E=(C="medium")=>{switch(C){case"high":return"bg-red-900 bg-opacity-40 text-red-400 border-red-700";case"medium":return"bg-orange-900 bg-opacity-40 text-orange-400 border-orange-700";case"low":return"bg-green-900 bg-opacity-40 text-green-400 border-green-700";default:return"bg-blue-900 bg-opacity-40 text-blue-400 border-blue-700"}};if(d)return U.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg text-white",children:[U.jsx("h3",{className:"text-xl font-bold mb-4 text-red-400",children:"Error"}),U.jsx("p",{className:"mb-4",children:"Something went wrong with the chat interface. Please try refreshing the page."}),U.jsx("p",{className:"text-sm bg-gray-900 p-3 rounded mb-4",children:d.message}),U.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Refresh Page"})]});try{return U.jsxs("div",{className:`flex flex-col bg-gray-800 rounded-2xl shadow-xl overflow-hidden ${n}`,children:[U.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-green-600 via-yellow-500 to-red-600 text-white flex justify-between items-center",children:[U.jsxs("div",{className:"flex items-center space-x-2",children:[U.jsx(Zr.Sparkles,{className:"w-5 h-5"}),U.jsx("h2",{className:"font-semibold text-lg",children:"Ratidzo Health Assistant"})]}),A&&U.jsxs("div",{className:"flex items-center",children:[U.jsx(Zr.RefreshCw,{className:"w-4 h-4 animate-spin mr-2"}),U.jsx("span",{className:"text-xs",children:"Preparing response..."})]}),t&&U.jsx("button",{onClick:t,className:"text-white hover:text-gray-200",children:U.jsx(Zr.X,{className:"w-5 h-5"})})]}),U.jsx("div",{className:"flex flex-col md:flex-row flex-1 max-h-[600px]",children:U.jsxs("div",{className:"flex flex-col flex-1",children:[U.jsx("div",{className:"flex-1 p-4 overflow-y-auto bg-gray-900",children:b.messages.length===0?U.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-400 p-6",children:[U.jsx(Zr.MessageSquare,{className:"w-12 h-12 text-gray-600 mb-4"}),U.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-300",children:"Welcome to Ratidzo"}),U.jsx("p",{className:"mb-4",children:"Tell me about your symptoms, and I'll provide health insights to help you."}),U.jsxs("div",{className:"p-3 bg-gray-800 rounded-lg mb-4 max-w-lg",children:[U.jsx("p",{className:"text-sm text-yellow-400 font-medium mb-1",children:"Important Note:"}),U.jsx("p",{className:"text-xs text-gray-400",children:"I can only answer questions related to health and medical topics. For any other subjects, please consult appropriate resources."})]}),U.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 w-full max-w-md",children:N.map(C=>U.jsx("button",{className:"px-4 py-2 border border-gray-700 rounded-lg text-left text-sm text-gray-300 hover:bg-gray-800 transition-colors",onClick:()=>{s(C),P.current&&P.current.focus()},children:C},C))})]}):U.jsxs(U.Fragment,{children:[b.messages.map(C=>U.jsxs("div",{className:`mb-4 ${C.sender==="user"?"pl-8":"pr-8"}`,children:[U.jsxs("div",{className:`p-4 rounded-2xl ${C.sender==="user"?"bg-green-600 text-white rounded-tr-none ml-auto":"bg-gray-800 text-gray-200 rounded-tl-none"}`,children:[O(C),C.sender==="ai"&&C.health&&U.jsx("div",{className:"mt-4 pt-3 border-t border-gray-700",children:U.jsx("div",{className:`p-3 rounded-lg border ${E(C.health.urgency)}`,children:U.jsxs("div",{className:"flex justify-between items-center mb-2",children:[U.jsx("span",{className:"font-semibold",children:C.health.condition}),U.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${C.health.urgency==="high"?"bg-red-900 text-red-200":C.health.urgency==="medium"?"bg-orange-900 text-orange-200":"bg-green-900 text-green-200"}`,children:[C.health.urgency.toUpperCase()," Urgency"]})]})})})]}),U.jsxs("div",{className:"mt-1 text-xs text-gray-500 flex items-center",children:[U.jsx(Zr.Clock,{className:"w-3 h-3 mr-1"}),C.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]},C.id)),U.jsx("div",{ref:_})]})}),U.jsx("div",{className:"border-t border-gray-700 p-4 bg-gray-800",children:U.jsxs("form",{onSubmit:$,className:"flex items-end space-x-2",children:[U.jsx("textarea",{ref:P,value:i,onChange:C=>s(C.target.value),onKeyDown:C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),$())},placeholder:"Describe your symptoms in detail...",className:"flex-1 bg-gray-700 border border-gray-600 text-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none placeholder-gray-400",rows:1,style:{minHeight:"44px",maxHeight:"120px"}}),U.jsx("button",{type:"submit",disabled:i.trim()===""||b.isLoading,className:`p-2 rounded-lg ${i.trim()===""||b.isLoading?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:b.isLoading?U.jsx(Zr.RefreshCw,{className:"w-5 h-5 animate-spin"}):U.jsx(Zr.Send,{className:"w-5 h-5"})})]})})]})})]})}catch(C){return console.error("Error rendering ChatInterface:",C),U.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg text-white",children:[U.jsx("h3",{className:"text-xl font-bold mb-4 text-red-400",children:"Rendering Error"}),U.jsx("p",{className:"mb-4",children:"Failed to render the chat interface. Please try again later."}),U.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Refresh Page"})]})}};let QI=({className:t})=>U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t||"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})});try{const t=require("react-icons/fi");if(t&&t.FiMessageSquare){const{FiMessageSquare:e}=t;QI=({className:n})=>U.jsx(e,{className:n||"w-6 h-6"})}}catch{console.warn("Could not load react-icons, using fallback icon")}const XI=Ce.forwardRef(({isOpen:t,onToggle:e,isFollowUp:n=!1,diagnosisName:r=""},i)=>{const[s,o]=Ce.useState(!1),[a,l]=Ce.useState(null),[u,d]=Ce.useState(null),[p,g]=Ce.useState(!0);Ce.useEffect(()=>{t!==void 0&&o(t)},[t]),Ce.useEffect(()=>{const x=setTimeout(()=>{g(!1)},5e3);return()=>clearTimeout(x)},[]),Ce.useEffect(()=>{const x=P=>{try{d("Hello! How can I help you with your health questions today?"),o(!0),g(!0),setTimeout(()=>{g(!1)},5e3),e&&e(!0)}catch(_){console.error("Error handling open-health-chat event:",_),l(_ instanceof Error?_:new Error(String(_)))}};return window.addEventListener("open-health-chat",x),()=>{window.removeEventListener("open-health-chat",x)}},[e]);const m=()=>{try{const x=!s;o(x),e&&e(x)}catch(x){console.error("Error toggling chat:",x),l(x instanceof Error?x:new Error(String(x)))}},A=()=>{try{o(!1),d(null),e&&e(!1)}catch(x){console.error("Error closing chat:",x),l(x instanceof Error?x:new Error(String(x)))}};if(a)return U.jsx("button",{ref:i,onClick:()=>window.location.reload(),className:"floating-chat-button w-14 h-14 rounded-full bg-red-600 text-white shadow-lg hover:shadow-xl flex items-center justify-center focus:outline-none fixed bottom-5 right-5 z-50",title:"An error occurred. Click to reload.",children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})});try{return U.jsxs(U.Fragment,{children:[U.jsxs("div",{className:"fixed bottom-5 right-5 z-50 flex items-center",children:[p&&u&&U.jsx(je.div,{className:"mr-3 bg-gray-800 text-white text-sm py-2 px-4 rounded-lg shadow-lg max-w-xs",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:"Need help? Chat with Ratidzo Health AI"}),U.jsx(je.button,{ref:i,onClick:m,className:"floating-chat-button w-14 h-14 rounded-full bg-gradient-to-r from-green-600 via-yellow-500 to-red-600 text-white shadow-lg hover:shadow-xl flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:U.jsx(QI,{className:"w-6 h-6"})})]}),s&&U.jsx("div",{className:"fixed bottom-24 right-5 z-50 w-full max-w-md",children:U.jsx(YI,{isOpen:s,onClose:A,initialMessage:u})})]})}catch(x){return console.error("Error rendering FloatingChatButton:",x),U.jsx("button",{ref:i,onClick:()=>window.location.reload(),className:"floating-chat-button w-14 h-14 rounded-full bg-red-600 text-white shadow-lg fixed bottom-5 right-5 z-50",title:"An error occurred. Click to reload.",children:"Error"})}});XI.displayName="FloatingChatButton";const EB="modulepreload",TB=function(t){return"/"+t},s4={},Hy=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=TB(l),l in s4)return;s4[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":EB,u||(p.as="script"),p.crossOrigin="",p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),u)return new Promise((g,m)=>{p.addEventListener("load",g),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Wt(t){"@babel/helpers - typeof";return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(t)}var Cr=Uint8Array,vi=Uint16Array,P5=Int32Array,Pg=new Cr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ng=new Cr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$y=new Cr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JI=function(t,e){for(var n=new vi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new P5(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},ZI=JI(Pg,2),eP=ZI.b,Wy=ZI.r;eP[28]=258,Wy[258]=28;var tP=JI(Ng,0),IB=tP.b,o4=tP.r,Gy=new vi(32768);for(var cn=0;cn<32768;++cn){var ya=(cn&43690)>>1|(cn&21845)<<1;ya=(ya&52428)>>2|(ya&13107)<<2,ya=(ya&61680)>>4|(ya&3855)<<4,Gy[cn]=((ya&65280)>>8|(ya&255)<<8)>>1}var Ks=function(t,e,n){for(var r=t.length,i=0,s=new vi(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new vi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new vi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],p=o[t[i]-1]++<<d,g=p|(1<<d)-1;p<=g;++p)a[Gy[p]>>l]=u}else for(a=new vi(r),i=0;i<r;++i)t[i]&&(a[i]=Gy[o[t[i]-1]++]>>15-t[i]);return a},Ja=new Cr(288);for(var cn=0;cn<144;++cn)Ja[cn]=8;for(var cn=144;cn<256;++cn)Ja[cn]=9;for(var cn=256;cn<280;++cn)Ja[cn]=7;for(var cn=280;cn<288;++cn)Ja[cn]=8;var Ud=new Cr(32);for(var cn=0;cn<32;++cn)Ud[cn]=5;var PB=Ks(Ja,9,0),NB=Ks(Ja,9,1),kB=Ks(Ud,5,0),CB=Ks(Ud,5,1),Y0=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ss=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},Q0=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},N5=function(t){return(t+7)/8|0},nP=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Cr(t.subarray(e,n))},LB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],us=function(t,e,n){var r=new Error(e||LB[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,us),!n)throw r;return r},RB=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Cr(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new Cr(i*3));var u=function(Re){var ze=n.length;if(Re>ze){var Be=new Cr(Math.max(ze*2,Re));Be.set(n),n=Be}},d=e.f||0,p=e.p||0,g=e.b||0,m=e.l,A=e.d,x=e.m,P=e.n,_=i*8;do{if(!m){d=ss(t,p,1);var b=ss(t,p+1,3);if(p+=3,b)if(b==1)m=NB,A=CB,x=9,P=5;else if(b==2){var J=ss(t,p,31)+257,O=ss(t,p+10,15)+4,E=J+ss(t,p+5,31)+1;p+=14;for(var C=new Cr(E),V=new Cr(19),I=0;I<O;++I)V[$y[I]]=ss(t,p+I*3,7);p+=O*3;for(var k=Y0(V),L=(1<<k)-1,Z=Ks(V,k,1),I=0;I<E;){var we=Z[ss(t,p,L)];p+=we&15;var N=we>>4;if(N<16)C[I++]=N;else{var ge=0,me=0;for(N==16?(me=3+ss(t,p,3),p+=2,ge=C[I-1]):N==17?(me=3+ss(t,p,7),p+=3):N==18&&(me=11+ss(t,p,127),p+=7);me--;)C[I++]=ge}}var X=C.subarray(0,J),ue=C.subarray(J);x=Y0(X),P=Y0(ue),m=Ks(X,x,1),A=Ks(ue,P,1)}else us(1);else{var N=N5(p)+4,H=t[N-4]|t[N-3]<<8,$=N+H;if($>i){l&&us(0);break}a&&u(g+H),n.set(t.subarray(N,$),g),e.b=g+=H,e.p=p=$*8,e.f=d;continue}if(p>_){l&&us(0);break}}a&&u(g+131072);for(var ce=(1<<x)-1,Oe=(1<<P)-1,M=p;;M=p){var ge=m[Q0(t,p)&ce],W=ge>>4;if(p+=ge&15,p>_){l&&us(0);break}if(ge||us(2),W<256)n[g++]=W;else if(W==256){M=p,m=null;break}else{var Y=W-254;if(W>264){var I=W-257,ee=Pg[I];Y=ss(t,p,(1<<ee)-1)+eP[I],p+=ee}var ie=A[Q0(t,p)&Oe],he=ie>>4;ie||us(3),p+=ie&15;var ue=IB[he];if(he>3){var ee=Ng[he];ue+=Q0(t,p)&(1<<ee)-1,p+=ee}if(p>_){l&&us(0);break}a&&u(g+131072);var ye=g+Y;if(g<ue){var ve=s-ue,Fe=Math.min(ue,ye);for(ve+g<0&&us(3);g<Fe;++g)n[g]=r[ve+g]}for(;g<ye;++g)n[g]=n[g-ue]}}e.l=m,e.p=M,e.b=g,e.f=d,m&&(d=1,e.m=x,e.d=A,e.n=P)}while(!d);return g!=n.length&&o?nP(n,0,g):n.subarray(0,g)},go=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Nh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},X0=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:iP,l:0};if(i==1){var o=new Cr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function($,J){return $.f-J.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,d=1,p=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};d!=i-1;)a=n[n[u].f<n[p].f?u++:p++],l=n[u!=d&&n[u].f<n[p].f?u++:p++],n[d++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new vi(g+1),A=Ky(n[d-1],m,0);if(A>e){var r=0,x=0,P=A-e,_=1<<P;for(s.sort(function(J,O){return m[O.s]-m[J.s]||J.f-O.f});r<i;++r){var b=s[r].s;if(m[b]>e)x+=_-(1<<A-m[b]),m[b]=e;else break}for(x>>=P;x>0;){var N=s[r].s;m[N]<e?x-=1<<e-m[N]++-1:++r}for(;r>=0&&x;--r){var H=s[r].s;m[H]==e&&(--m[H],++x)}A=e}return{t:new Cr(m),l:A}},Ky=function(t,e,n){return t.s==-1?Math.max(Ky(t.l,e,n+1),Ky(t.r,e,n+1)):e[t.s]=n},a4=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new vi(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},kh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},rP=function(t,e,n){var r=n.length,i=N5(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},l4=function(t,e,n,r,i,s,o,a,l,u,d){go(e,d++,n),++i[256];for(var p=X0(i,15),g=p.t,m=p.l,A=X0(s,15),x=A.t,P=A.l,_=a4(g),b=_.c,N=_.n,H=a4(x),$=H.c,J=H.n,O=new vi(19),E=0;E<b.length;++E)++O[b[E]&31];for(var E=0;E<$.length;++E)++O[$[E]&31];for(var C=X0(O,7),V=C.t,I=C.l,k=19;k>4&&!V[$y[k-1]];--k);var L=u+5<<3,Z=kh(i,Ja)+kh(s,Ud)+o,we=kh(i,g)+kh(s,x)+o+14+3*k+kh(O,V)+2*O[16]+3*O[17]+7*O[18];if(l>=0&&L<=Z&&L<=we)return rP(e,d,t.subarray(l,l+u));var ge,me,X,ue;if(go(e,d,1+(we<Z)),d+=2,we<Z){ge=Ks(g,m,0),me=g,X=Ks(x,P,0),ue=x;var ce=Ks(V,I,0);go(e,d,N-257),go(e,d+5,J-1),go(e,d+10,k-4),d+=14;for(var E=0;E<k;++E)go(e,d+3*E,V[$y[E]]);d+=3*k;for(var Oe=[b,$],M=0;M<2;++M)for(var W=Oe[M],E=0;E<W.length;++E){var Y=W[E]&31;go(e,d,ce[Y]),d+=V[Y],Y>15&&(go(e,d,W[E]>>5&127),d+=W[E]>>12)}}else ge=PB,me=Ja,X=kB,ue=Ud;for(var E=0;E<a;++E){var ee=r[E];if(ee>255){var Y=ee>>18&31;Nh(e,d,ge[Y+257]),d+=me[Y+257],Y>7&&(go(e,d,ee>>23&31),d+=Pg[Y]);var ie=ee&31;Nh(e,d,X[ie]),d+=ue[ie],ie>3&&(Nh(e,d,ee>>5&8191),d+=Ng[ie])}else Nh(e,d,ge[ee]),d+=me[ee]}return Nh(e,d,ge[256]),d+me[256]},DB=new P5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iP=new Cr(0),OB=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Cr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var p=DB[e-1],g=p>>13,m=p&8191,A=(1<<n)-1,x=s.p||new vi(32768),P=s.h||new vi(A+1),_=Math.ceil(n/3),b=2*_,N=function(it){return(t[it]^t[it+1]<<_^t[it+2]<<b)&A},H=new P5(25e3),$=new vi(288),J=new vi(32),O=0,E=0,C=s.i||0,V=0,I=s.w||0,k=0;C+2<o;++C){var L=N(C),Z=C&32767,we=P[L];if(x[Z]=we,P[L]=Z,I<=C){var ge=o-C;if((O>7e3||V>24576)&&(ge>423||!u)){d=l4(t,l,0,H,$,J,E,V,k,C-k,d),V=O=E=0,k=C;for(var me=0;me<286;++me)$[me]=0;for(var me=0;me<30;++me)J[me]=0}var X=2,ue=0,ce=m,Oe=Z-we&32767;if(ge>2&&L==N(C-Oe))for(var M=Math.min(g,ge)-1,W=Math.min(32767,C),Y=Math.min(258,ge);Oe<=W&&--ce&&Z!=we;){if(t[C+X]==t[C+X-Oe]){for(var ee=0;ee<Y&&t[C+ee]==t[C+ee-Oe];++ee);if(ee>X){if(X=ee,ue=Oe,ee>M)break;for(var ie=Math.min(Oe,ee-2),he=0,me=0;me<ie;++me){var ye=C-Oe+me&32767,ve=x[ye],Fe=ye-ve&32767;Fe>he&&(he=Fe,we=ye)}}}Z=we,we=x[Z],Oe+=Z-we&32767}if(ue){H[V++]=268435456|Wy[X]<<18|o4[ue];var Re=Wy[X]&31,ze=o4[ue]&31;E+=Pg[Re]+Ng[ze],++$[257+Re],++J[ze],I=C+X,++O}else H[V++]=t[C],++$[t[C]]}}for(C=Math.max(C,I);C<o;++C)H[V++]=t[C],++$[t[C]];d=l4(t,l,u,H,$,J,E,V,k,C-k,d),u||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=P,s.p=x,s.i=C,s.w=I)}else{for(var C=s.w||0;C<o+u;C+=65535){var Be=C+65535;Be>=o&&(l[d/8|0]=u,Be=o),d=rP(l,d+1,t.subarray(C,Be))}s.i=o}return nP(a,0,r+N5(d)+i)},sP=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},MB=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Cr(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return OB(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},oP=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},FB=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=sP();i.p(e.dictionary),oP(t,2,i.d())}},jB=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&us(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&us(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Yy(t,e){e||(e={});var n=sP();n.p(t);var r=MB(t,e,e.dictionary?6:2,4);return FB(r,e),oP(r,r.length-4,n.d()),r}function VB(t,e){return RB(t.subarray(jB(t,e),-4),{i:2},e,e)}var BB=typeof TextDecoder<"u"&&new TextDecoder,UB=0;try{BB.decode(iP,{stream:!0}),UB=1}catch{}var ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function J0(){ht.console&&typeof ht.console.log=="function"&&ht.console.log.apply(ht.console,arguments)}var Jt={log:J0,warn:function(t){ht.console&&(typeof ht.console.warn=="function"?ht.console.warn.apply(ht.console,arguments):J0.call(null,arguments))},error:function(t){ht.console&&(typeof ht.console.error=="function"?ht.console.error.apply(ht.console,arguments):J0(t))}};function Z0(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){kl(r.response,e,n)},r.onerror=function(){Jt.error("could not download file")},r.send()}function u4(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ap(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ad,Qy,kl=ht.saveAs||((typeof window>"u"?"undefined":Wt(window))!=="object"||window!==ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=ht.URL||ht.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?u4(i.href)?Z0(t,e,n):ap(i,i.target="_blank"):ap(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){ap(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(u4(t))Z0(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){ap(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Wt(s)!=="object"&&(Jt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Z0(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(ht.HTMLElement)||ht.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Wt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},a.readAsDataURL(t)}else{var l=ht.URL||ht.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function aP(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function e1(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=xr(n,r,i,s,e[0],7,-680876936),s=xr(s,n,r,i,e[1],12,-389564586),i=xr(i,s,n,r,e[2],17,606105819),r=xr(r,i,s,n,e[3],22,-1044525330),n=xr(n,r,i,s,e[4],7,-176418897),s=xr(s,n,r,i,e[5],12,1200080426),i=xr(i,s,n,r,e[6],17,-1473231341),r=xr(r,i,s,n,e[7],22,-45705983),n=xr(n,r,i,s,e[8],7,1770035416),s=xr(s,n,r,i,e[9],12,-1958414417),i=xr(i,s,n,r,e[10],17,-42063),r=xr(r,i,s,n,e[11],22,-1990404162),n=xr(n,r,i,s,e[12],7,1804603682),s=xr(s,n,r,i,e[13],12,-40341101),i=xr(i,s,n,r,e[14],17,-1502002290),n=Sr(n,r=xr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Sr(s,n,r,i,e[6],9,-1069501632),i=Sr(i,s,n,r,e[11],14,643717713),r=Sr(r,i,s,n,e[0],20,-373897302),n=Sr(n,r,i,s,e[5],5,-701558691),s=Sr(s,n,r,i,e[10],9,38016083),i=Sr(i,s,n,r,e[15],14,-660478335),r=Sr(r,i,s,n,e[4],20,-405537848),n=Sr(n,r,i,s,e[9],5,568446438),s=Sr(s,n,r,i,e[14],9,-1019803690),i=Sr(i,s,n,r,e[3],14,-187363961),r=Sr(r,i,s,n,e[8],20,1163531501),n=Sr(n,r,i,s,e[13],5,-1444681467),s=Sr(s,n,r,i,e[2],9,-51403784),i=Sr(i,s,n,r,e[7],14,1735328473),n=Ar(n,r=Sr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ar(s,n,r,i,e[8],11,-2022574463),i=Ar(i,s,n,r,e[11],16,1839030562),r=Ar(r,i,s,n,e[14],23,-35309556),n=Ar(n,r,i,s,e[1],4,-1530992060),s=Ar(s,n,r,i,e[4],11,1272893353),i=Ar(i,s,n,r,e[7],16,-155497632),r=Ar(r,i,s,n,e[10],23,-1094730640),n=Ar(n,r,i,s,e[13],4,681279174),s=Ar(s,n,r,i,e[0],11,-358537222),i=Ar(i,s,n,r,e[3],16,-722521979),r=Ar(r,i,s,n,e[6],23,76029189),n=Ar(n,r,i,s,e[9],4,-640364487),s=Ar(s,n,r,i,e[12],11,-421815835),i=Ar(i,s,n,r,e[15],16,530742520),n=Er(n,r=Ar(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Er(s,n,r,i,e[7],10,1126891415),i=Er(i,s,n,r,e[14],15,-1416354905),r=Er(r,i,s,n,e[5],21,-57434055),n=Er(n,r,i,s,e[12],6,1700485571),s=Er(s,n,r,i,e[3],10,-1894986606),i=Er(i,s,n,r,e[10],15,-1051523),r=Er(r,i,s,n,e[1],21,-2054922799),n=Er(n,r,i,s,e[8],6,1873313359),s=Er(s,n,r,i,e[15],10,-30611744),i=Er(i,s,n,r,e[6],15,-1560198380),r=Er(r,i,s,n,e[13],21,1309151649),n=Er(n,r,i,s,e[4],6,-145523070),s=Er(s,n,r,i,e[11],10,-1120210379),i=Er(i,s,n,r,e[2],15,718787259),r=Er(r,i,s,n,e[9],21,-343485551),t[0]=La(n,t[0]),t[1]=La(r,t[1]),t[2]=La(i,t[2]),t[3]=La(s,t[3])}function kg(t,e,n,r,i,s){return e=La(La(e,t),La(r,s)),La(e<<i|e>>>32-i,n)}function xr(t,e,n,r,i,s,o){return kg(e&n|~e&r,t,e,i,s,o)}function Sr(t,e,n,r,i,s,o){return kg(e&r|n&~r,t,e,i,s,o)}function Ar(t,e,n,r,i,s,o){return kg(e^n^r,t,e,i,s,o)}function Er(t,e,n,r,i,s,o){return kg(n^(e|~r),t,e,i,s,o)}function lP(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)e1(r,zB(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(e1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,e1(r,i),r}function zB(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}ad=ht.atob.bind(ht),Qy=ht.btoa.bind(ht);var c4="0123456789abcdef".split("");function qB(t){for(var e="",n=0;n<4;n++)e+=c4[t>>8*n+4&15]+c4[t>>8*n&15];return e}function HB(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Xy(t){return lP(t).map(HB).join("")}var $B=function(t){for(var e=0;e<t.length;e++)t[e]=qB(t[e]);return t.join("")}(lP("hello"))!="5d41402abc4b2a76b9719d911017c592";function La(t,e){if($B){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Jy(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var d=a[l];u=(u+d+o.charCodeAt(l))%256,a[l]=a[u],a[u]=d}n=t,r=a}else a=r;var p=e.length,g=0,m=0,A="";for(l=0;l<p;l++)m=(m+(d=a[g=(g+1)%256]))%256,a[g]=a[m],a[m]=d,o=a[(a[g]+a[m])%256],A+=String.fromCharCode(e.charCodeAt(l)^o);return A}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var h4={print:4,modify:8,copy:16,"annot-forms":32};function Bu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(h4.perm!==void 0)throw new Error("Invalid permission: "+a);i+=h4[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=Xy(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Jy(this.encryptionKey,this.padding)}function Uu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function d4(t){if(Wt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){ht.console&&Jt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function jm(t){if(!(this instanceof jm))return new jm(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function uP(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Cl(t,e,n,r,i){if(!(this instanceof Cl))return new Cl(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,uP.call(this,r,i)}function oc(t,e,n,r,i){if(!(this instanceof oc))return new oc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,uP.call(this,r,i)}function ct(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",d=null;Wt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=d4;var A="1.3",x=m.__private__.getPdfVersion=function(){return A};m.__private__.setPdfVersion=function(y){A=y};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return P};var _=m.__private__.getPageFormat=function(y){return P[y]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},N=b.COMPAT;function H(){this.saveGraphicsState(),Q(new Ye(Ge,0,0,-Ge,0,vr()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),u="n",N=b.ADVANCED}function $(){this.restoreGraphicsState(),u="S",N=b.COMPAT}var J=m.__private__.combineFontStyleAndFontWeight=function(y,R){if(y=="bold"&&R=="normal"||y=="bold"&&R==400||y=="normal"&&R=="italic"||y=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(y=R==400||R==="normal"?y==="italic"?"italic":"normal":R!=700&&R!=="bold"||y!=="normal"?(R==700?"bold":R)+""+y:"bold"),y};m.advancedAPI=function(y){var R=N===b.COMPAT;return R&&H.call(this),typeof y!="function"||(y(this),R&&$.call(this)),this},m.compatAPI=function(y){var R=N===b.ADVANCED;return R&&$.call(this),typeof y!="function"||(y(this),R&&H.call(this)),this},m.isAdvancedAPI=function(){return N===b.ADVANCED};var O,E=function(y){if(N!==b.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=m.roundToPrecision=m.__private__.roundToPrecision=function(y,R){var K=e||R;if(isNaN(y)||isNaN(K))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(K).replace(/0+$/,"")};O=m.hpf=m.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return C(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return C(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return C(y,16)};var V=m.f2=m.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return C(y,2)},I=m.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return C(y,3)},k=m.scale=m.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return N===b.COMPAT?y*Ge:N===b.ADVANCED?y:void 0},L=function(y){return N===b.COMPAT?vr()-y:N===b.ADVANCED?y:void 0},Z=function(y){return k(L(y))};m.__private__.setPrecision=m.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var we,ge="00000000000000000000000000000000",me=m.__private__.getFileId=function(){return ge},X=m.__private__.setFileId=function(y){return ge=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(an=new Bu(d.userPermissions,d.userPassword,d.ownerPassword,ge)),ge};m.setFileId=function(y){return X(y),this},m.getFileId=function(){return me()};var ue=m.__private__.convertDateToPDFDate=function(y){var R=y.getTimezoneOffset(),K=R<0?"+":"-",te=Math.floor(Math.abs(R/60)),ae=Math.abs(R%60),xe=[K,Y(te),"'",Y(ae),"'"].join("");return["D:",y.getFullYear(),Y(y.getMonth()+1),Y(y.getDate()),Y(y.getHours()),Y(y.getMinutes()),Y(y.getSeconds()),xe].join("")},ce=m.__private__.convertPDFDateToDate=function(y){var R=parseInt(y.substr(2,4),10),K=parseInt(y.substr(6,2),10)-1,te=parseInt(y.substr(8,2),10),ae=parseInt(y.substr(10,2),10),xe=parseInt(y.substr(12,2),10),Ne=parseInt(y.substr(14,2),10);return new Date(R,K,te,ae,xe,Ne,0)},Oe=m.__private__.setCreationDate=function(y){var R;if(y===void 0&&(y=new Date),y instanceof Date)R=ue(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=y}return we=R},M=m.__private__.getCreationDate=function(y){var R=we;return y==="jsDate"&&(R=ce(we)),R};m.setCreationDate=function(y){return Oe(y),this},m.getCreationDate=function(y){return M(y)};var W,Y=m.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},ee=m.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},ie=0,he=[],ye=[],ve=0,Fe=[],Re=[],ze=!1,Be=ye,it=function(){ie=0,ve=0,ye=[],he=[],Fe=[],Gi=_n(),yr=_n()};m.__private__.setCustomOutputDestination=function(y){ze=!0,Be=y};var Se=function(y){ze||(Be=y)};m.__private__.resetCustomOutputDestination=function(){ze=!1,Be=ye};var Q=m.__private__.out=function(y){return y=y.toString(),ve+=y.length+1,Be.push(y),Be},gt=m.__private__.write=function(y){return Q(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},Ze=m.__private__.getArrayBuffer=function(y){for(var R=y.length,K=new ArrayBuffer(R),te=new Uint8Array(K);R--;)te[R]=y.charCodeAt(R);return K},De=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return De};var Ve=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(y){return Ve=N===b.ADVANCED?y/Ge:y,this};var We,He=m.__private__.getFontSize=m.getFontSize=function(){return N===b.COMPAT?Ve:Ve*Ge},tt=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(y){return tt=y,this},m.__private__.getR2L=m.getR2L=function(){return tt};var dt,yt=m.__private__.setZoomMode=function(y){var R=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))We=y;else if(isNaN(y)){if(R.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');We=y}else We=parseInt(y,10)};m.__private__.getZoomMode=function(){return We};var nt,ut=m.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');dt=y};m.__private__.getPageMode=function(){return dt};var Dt=m.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');nt=y};m.__private__.getLayoutMode=function(){return nt},m.__private__.setDisplayMode=m.setDisplayMode=function(y,R,K){return yt(y),Dt(R),ut(K),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(y){if(Object.keys(at).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[y]},m.__private__.getDocumentProperties=function(){return at},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(y){for(var R in at)at.hasOwnProperty(R)&&y[R]&&(at[R]=y[R]);return this},m.__private__.setDocumentProperty=function(y,R){if(Object.keys(at).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[y]=R};var Et,Ge,wn,kt,$r,Vt={},Zt={},Pi=[],Lt={},_s={},sn={},nr={},ai=null,en=0,st=[],Ot=new d4(m),Ni=t.hotfixes||[],Fn={},mr={},li=[],Ye=function y(R,K,te,ae,xe,Ne){if(!(this instanceof y))return new y(R,K,te,ae,xe,Ne);isNaN(R)&&(R=1),isNaN(K)&&(K=0),isNaN(te)&&(te=0),isNaN(ae)&&(ae=1),isNaN(xe)&&(xe=0),isNaN(Ne)&&(Ne=0),this._matrix=[R,K,te,ae,xe,Ne]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(y)},Ye.prototype.multiply=function(y){var R=y.sx*this.sx+y.shy*this.shx,K=y.sx*this.shy+y.shy*this.sy,te=y.shx*this.sx+y.sy*this.shx,ae=y.shx*this.shy+y.sy*this.sy,xe=y.tx*this.sx+y.ty*this.shx+this.tx,Ne=y.tx*this.shy+y.ty*this.sy+this.ty;return new Ye(R,K,te,ae,xe,Ne)},Ye.prototype.decompose=function(){var y=this.sx,R=this.shy,K=this.shx,te=this.sy,ae=this.tx,xe=this.ty,Ne=Math.sqrt(y*y+R*R),qe=(y/=Ne)*K+(R/=Ne)*te;K-=y*qe,te-=R*qe;var h=Math.sqrt(K*K+te*te);return qe/=h,y*(te/=h)<R*(K/=h)&&(y=-y,R=-R,qe=-qe,Ne=-Ne),{scale:new Ye(Ne,0,0,h,0,0),translate:new Ye(1,0,0,1,ae,xe),rotate:new Ye(y,R,-R,y,0,0),skew:new Ye(1,0,qe,1,0,0)}},Ye.prototype.toString=function(y){return this.join(" ")},Ye.prototype.inversed=function(){var y=this.sx,R=this.shy,K=this.shx,te=this.sy,ae=this.tx,xe=this.ty,Ne=1/(y*te-R*K),qe=te*Ne,h=-R*Ne,w=-K*Ne,T=y*Ne;return new Ye(qe,h,w,T,-qe*ae-w*xe,-h*ae-T*xe)},Ye.prototype.applyToPoint=function(y){var R=y.x*this.sx+y.y*this.shx+this.tx,K=y.x*this.shy+y.y*this.sy+this.ty;return new oo(R,K)},Ye.prototype.applyToRectangle=function(y){var R=this.applyToPoint(y),K=this.applyToPoint(new oo(y.x+y.w,y.y+y.h));return new ea(R.x,R.y,K.x-R.x,K.y-R.y)},Ye.prototype.clone=function(){var y=this.sx,R=this.shy,K=this.shx,te=this.sy,ae=this.tx,xe=this.ty;return new Ye(y,R,K,te,ae,xe)},m.Matrix=Ye;var Wr=m.matrixMult=function(y,R){return R.multiply(y)},gr=new Ye(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=gr;var jn=function(y,R){if(!_s[y]){var K=(R instanceof Cl?"Sh":"P")+(Object.keys(Lt).length+1).toString(10);R.id=K,_s[y]=K,Lt[K]=R,Ot.publish("addPattern",R)}};m.ShadingPattern=Cl,m.TilingPattern=oc,m.addShadingPattern=function(y,R){return E("addShadingPattern()"),jn(y,R),this},m.beginTilingPattern=function(y){E("beginTilingPattern()"),ta(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},m.endTilingPattern=function(y,R){E("endTilingPattern()"),R.stream=Re[W].join(`
`),jn(y,R),Ot.publish("endTilingPattern",R),li.pop().restore()};var In=m.__private__.newObject=function(){var y=_n();return Vn(y,!0),y},_n=m.__private__.newObjectDeferred=function(){return ie++,he[ie]=function(){return ve},ie},Vn=function(y,R){return R=typeof R=="boolean"&&R,he[y]=ve,R&&Q(y+" 0 obj"),y},Bo=m.__private__.newAdditionalObject=function(){var y={objId:_n(),content:""};return Fe.push(y),y},Gi=_n(),yr=_n(),Gr=m.__private__.decodeColorString=function(y){var R=y.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length===5&&(R[4]==="k"||R[4]==="K")&&(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var K=parseFloat(R[0]);R=[K,K,K,"r"]}for(var te="#",ae=0;ae<3;ae++)te+=("0"+Math.floor(255*parseFloat(R[ae])).toString(16)).slice(-2);return te},Or=m.__private__.encodeColorString=function(y){var R;typeof y=="string"&&(y={ch1:y});var K=y.ch1,te=y.ch2,ae=y.ch3,xe=y.ch4,Ne=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof K=="string"&&K.charAt(0)!=="#"){var qe=new aP(K);if(qe.ok)K=qe.toHex();else if(!/^\d*\.?\d*$/.test(K))throw new Error('Invalid color "'+K+'" passed to jsPDF.encodeColorString.')}if(typeof K=="string"&&/^#[0-9A-Fa-f]{3}$/.test(K)&&(K="#"+K[1]+K[1]+K[2]+K[2]+K[3]+K[3]),typeof K=="string"&&/^#[0-9A-Fa-f]{6}$/.test(K)){var h=parseInt(K.substr(1),16);K=h>>16&255,te=h>>8&255,ae=255&h}if(te===void 0||xe===void 0&&K===te&&te===ae)if(typeof K=="string")R=K+" "+Ne[0];else switch(y.precision){case 2:R=V(K/255)+" "+Ne[0];break;case 3:default:R=I(K/255)+" "+Ne[0]}else if(xe===void 0||Wt(xe)==="object"){if(xe&&!isNaN(xe.a)&&xe.a===0)return R=["1.","1.","1.",Ne[1]].join(" ");if(typeof K=="string")R=[K,te,ae,Ne[1]].join(" ");else switch(y.precision){case 2:R=[V(K/255),V(te/255),V(ae/255),Ne[1]].join(" ");break;default:case 3:R=[I(K/255),I(te/255),I(ae/255),Ne[1]].join(" ")}}else if(typeof K=="string")R=[K,te,ae,xe,Ne[2]].join(" ");else switch(y.precision){case 2:R=[V(K),V(te),V(ae),V(xe),Ne[2]].join(" ");break;case 3:default:R=[I(K),I(te),I(ae),I(xe),Ne[2]].join(" ")}return R},Mr=m.__private__.getFilters=function(){return o},Pn=m.__private__.putStream=function(y){var R=(y=y||{}).data||"",K=y.filters||Mr(),te=y.alreadyAppliedFilters||[],ae=y.addLength1||!1,xe=R.length,Ne=y.objectId,qe=function(vt){return vt};if(d!==null&&Ne===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(qe=an.encryptor(Ne,0));var h={};K===!0&&(K=["FlateEncode"]);var w=y.additionalKeyValues||[],T=(h=ct.API.processDataByFilters!==void 0?ct.API.processDataByFilters(R,K):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(h.data.length!==0&&(w.push({key:"Length",value:h.data.length}),ae===!0&&w.push({key:"Length1",value:xe})),T.length!=0)if(T.split("/").length-1==1)w.push({key:"Filter",value:T});else{w.push({key:"Filter",value:"["+T+"]"});for(var B=0;B<w.length;B+=1)if(w[B].key==="DecodeParms"){for(var oe=[],pe=0;pe<h.reverseChain.split("/").length-1;pe+=1)oe.push("null");oe.push(w[B].value),w[B].value="["+oe.join(" ")+"]"}}Q("<<");for(var ke=0;ke<w.length;ke++)Q("/"+w[ke].key+" "+w[ke].value);Q(">>"),h.data.length!==0&&(Q("stream"),Q(qe(h.data)),Q("endstream"))},ui=m.__private__.putPage=function(y){var R=y.number,K=y.data,te=y.objId,ae=y.contentsObjId;Vn(te,!0),Q("<</Type /Page"),Q("/Parent "+y.rootDictionaryObjId+" 0 R"),Q("/Resources "+y.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(O(y.mediaBox.bottomLeftX))+" "+parseFloat(O(y.mediaBox.bottomLeftY))+" "+O(y.mediaBox.topRightX)+" "+O(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&Q("/CropBox ["+O(y.cropBox.bottomLeftX)+" "+O(y.cropBox.bottomLeftY)+" "+O(y.cropBox.topRightX)+" "+O(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&Q("/BleedBox ["+O(y.bleedBox.bottomLeftX)+" "+O(y.bleedBox.bottomLeftY)+" "+O(y.bleedBox.topRightX)+" "+O(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&Q("/TrimBox ["+O(y.trimBox.bottomLeftX)+" "+O(y.trimBox.bottomLeftY)+" "+O(y.trimBox.topRightX)+" "+O(y.trimBox.topRightY)+"]"),y.artBox!==null&&Q("/ArtBox ["+O(y.artBox.bottomLeftX)+" "+O(y.artBox.bottomLeftY)+" "+O(y.artBox.topRightX)+" "+O(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&Q("/UserUnit "+y.userUnit),Ot.publish("putPage",{objId:te,pageContext:st[R],pageNumber:R,page:K}),Q("/Contents "+ae+" 0 R"),Q(">>"),Q("endobj");var xe=K.join(`
`);return N===b.ADVANCED&&(xe+=`
Q`),Vn(ae,!0),Pn({data:xe,filters:Mr(),objectId:ae}),Q("endobj"),te},bs=m.__private__.putPages=function(){var y,R,K=[];for(y=1;y<=en;y++)st[y].objId=_n(),st[y].contentsObjId=_n();for(y=1;y<=en;y++)K.push(ui({number:y,data:Re[y],objId:st[y].objId,contentsObjId:st[y].contentsObjId,mediaBox:st[y].mediaBox,cropBox:st[y].cropBox,bleedBox:st[y].bleedBox,trimBox:st[y].trimBox,artBox:st[y].artBox,userUnit:st[y].userUnit,rootDictionaryObjId:Gi,resourceDictionaryObjId:yr}));Vn(Gi,!0),Q("<</Type /Pages");var te="/Kids [";for(R=0;R<en;R++)te+=K[R]+" 0 R ";Q(te+"]"),Q("/Count "+en),Q(">>"),Q("endobj"),Ot.publish("postPutPages")},xs=function(y){Ot.publish("putFont",{font:y,out:Q,newObject:In,putStream:Pn}),y.isAlreadyPutted!==!0&&(y.objectNumber=In(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+Uu(y.postScriptName)),Q("/Subtype /Type1"),typeof y.encoding=="string"&&Q("/Encoding /"+y.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},Ss=function(){for(var y in Vt)Vt.hasOwnProperty(y)&&(p===!1||p===!0&&g.hasOwnProperty(y))&&xs(Vt[y])},Xs=function(y){y.objectNumber=In();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[O(y.x),O(y.y),O(y.x+y.width),O(y.y+y.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var K=y.pages[1].join(`
`);Pn({data:K,additionalKeyValues:R,objectId:y.objectNumber}),Q("endobj")},Js=function(){for(var y in Fn)Fn.hasOwnProperty(y)&&Xs(Fn[y])},cu=function(y,R){var K,te=[],ae=1/(R-1);for(K=0;K<1;K+=ae)te.push(K);if(te.push(1),y[0].offset!=0){var xe={offset:0,color:y[0].color};y.unshift(xe)}if(y[y.length-1].offset!=1){var Ne={offset:1,color:y[y.length-1].color};y.push(Ne)}for(var qe="",h=0,w=0;w<te.length;w++){for(K=te[w];K>y[h+1].offset;)h++;var T=y[h].offset,B=(K-T)/(y[h+1].offset-T),oe=y[h].color,pe=y[h+1].color;qe+=ee(Math.round((1-B)*oe[0]+B*pe[0]).toString(16))+ee(Math.round((1-B)*oe[1]+B*pe[1]).toString(16))+ee(Math.round((1-B)*oe[2]+B*pe[2]).toString(16))}return qe.trim()},Uo=function(y,R){R||(R=21);var K=In(),te=cu(y.colors,R),ae=[];ae.push({key:"FunctionType",value:"0"}),ae.push({key:"Domain",value:"[0.0 1.0]"}),ae.push({key:"Size",value:"["+R+"]"}),ae.push({key:"BitsPerSample",value:"8"}),ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pn({data:te,additionalKeyValues:ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:K}),Q("endobj"),y.objectNumber=In(),Q("<< /ShadingType "+y.type),Q("/ColorSpace /DeviceRGB");var xe="/Coords ["+O(parseFloat(y.coords[0]))+" "+O(parseFloat(y.coords[1]))+" ";y.type===2?xe+=O(parseFloat(y.coords[2]))+" "+O(parseFloat(y.coords[3])):xe+=O(parseFloat(y.coords[2]))+" "+O(parseFloat(y.coords[3]))+" "+O(parseFloat(y.coords[4]))+" "+O(parseFloat(y.coords[5])),Q(xe+="]"),y.matrix&&Q("/Matrix ["+y.matrix.toString()+"]"),Q("/Function "+K+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},hu=function(y,R){var K=_n(),te=In();R.push({resourcesOid:K,objectOid:te}),y.objectNumber=te;var ae=[];ae.push({key:"Type",value:"/Pattern"}),ae.push({key:"PatternType",value:"1"}),ae.push({key:"PaintType",value:"1"}),ae.push({key:"TilingType",value:"1"}),ae.push({key:"BBox",value:"["+y.boundingBox.map(O).join(" ")+"]"}),ae.push({key:"XStep",value:O(y.xStep)}),ae.push({key:"YStep",value:O(y.yStep)}),ae.push({key:"Resources",value:K+" 0 R"}),y.matrix&&ae.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Pn({data:y.stream,additionalKeyValues:ae,objectId:y.objectNumber}),Q("endobj")},As=function(y){var R;for(R in Lt)Lt.hasOwnProperty(R)&&(Lt[R]instanceof Cl?Uo(Lt[R]):Lt[R]instanceof oc&&hu(Lt[R],y))},Es=function(y){for(var R in y.objectNumber=In(),Q("<<"),y)switch(R){case"opacity":Q("/ca "+V(y[R]));break;case"stroke-opacity":Q("/CA "+V(y[R]))}Q(">>"),Q("endobj")},Ki=function(){var y;for(y in sn)sn.hasOwnProperty(y)&&Es(sn[y])},Zs=function(){for(var y in Q("/XObject <<"),Fn)Fn.hasOwnProperty(y)&&Fn[y].objectNumber>=0&&Q("/"+y+" "+Fn[y].objectNumber+" 0 R");Ot.publish("putXobjectDict"),Q(">>")},eh=function(){an.oid=In(),Q("<<"),Q("/Filter /Standard"),Q("/V "+an.v),Q("/R "+an.r),Q("/U <"+an.toHexString(an.U)+">"),Q("/O <"+an.toHexString(an.O)+">"),Q("/P "+an.P),Q(">>"),Q("endobj")},il=function(){for(var y in Q("/Font <<"),Vt)Vt.hasOwnProperty(y)&&(p===!1||p===!0&&g.hasOwnProperty(y))&&Q("/"+y+" "+Vt[y].objectNumber+" 0 R");Q(">>")},du=function(){if(Object.keys(Lt).length>0){for(var y in Q("/Shading <<"),Lt)Lt.hasOwnProperty(y)&&Lt[y]instanceof Cl&&Lt[y].objectNumber>=0&&Q("/"+y+" "+Lt[y].objectNumber+" 0 R");Ot.publish("putShadingPatternDict"),Q(">>")}},eo=function(y){if(Object.keys(Lt).length>0){for(var R in Q("/Pattern <<"),Lt)Lt.hasOwnProperty(R)&&Lt[R]instanceof m.TilingPattern&&Lt[R].objectNumber>=0&&Lt[R].objectNumber<y&&Q("/"+R+" "+Lt[R].objectNumber+" 0 R");Ot.publish("putTilingPatternDict"),Q(">>")}},sl=function(){if(Object.keys(sn).length>0){var y;for(y in Q("/ExtGState <<"),sn)sn.hasOwnProperty(y)&&sn[y].objectNumber>=0&&Q("/"+y+" "+sn[y].objectNumber+" 0 R");Ot.publish("putGStateDict"),Q(">>")}},on=function(y){Vn(y.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),il(),du(),eo(y.objectOid),sl(),Zs(),Q(">>"),Q("endobj")},ol=function(){var y=[];Ss(),Ki(),Js(),As(y),Ot.publish("putResources"),y.forEach(on),on({resourcesOid:yr,objectOid:Number.MAX_SAFE_INTEGER}),Ot.publish("postPutResources")},al=function(){Ot.publish("putAdditionalObjects");for(var y=0;y<Fe.length;y++){var R=Fe[y];Vn(R.objId,!0),Q(R.content),Q("endobj")}Ot.publish("postPutAdditionalObjects")},fu=function(y){Zt[y.fontName]=Zt[y.fontName]||{},Zt[y.fontName][y.fontStyle]=y.id},ll=function(y,R,K,te,ae){var xe={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:y,fontName:R,fontStyle:K,encoding:te,isStandardFont:ae||!1,metadata:{}};return Ot.publish("addFont",{font:xe,instance:this}),Vt[xe.id]=xe,fu(xe),xe.id},pu=function(y){for(var R=0,K=De.length;R<K;R++){var te=ll.call(this,y[R][0],y[R][1],y[R][2],De[R][3],!0);p===!1&&(g[te]=!0);var ae=y[R][0].split("-");fu({id:te,fontName:ae[0],fontStyle:ae[1]||""})}Ot.publish("addFonts",{fonts:Vt,dictionary:Zt})},Kr=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(te){var R=te.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var K="Error in function "+R.split(`
`)[0].split("<")[0]+": "+te.message;if(!ht.console)throw new Error(K);ht.console.error(K,te),ht.alert&&alert(K)}},y.foo.bar=y,y.foo},zo=function(y,R){var K,te,ae,xe,Ne,qe,h,w,T;if(ae=(R=R||{}).sourceEncoding||"Unicode",Ne=R.outputEncoding,(R.autoencode||Ne)&&Vt[Et].metadata&&Vt[Et].metadata[ae]&&Vt[Et].metadata[ae].encoding&&(xe=Vt[Et].metadata[ae].encoding,!Ne&&Vt[Et].encoding&&(Ne=Vt[Et].encoding),!Ne&&xe.codePages&&(Ne=xe.codePages[0]),typeof Ne=="string"&&(Ne=xe[Ne]),Ne)){for(h=!1,qe=[],K=0,te=y.length;K<te;K++)(w=Ne[y.charCodeAt(K)])?qe.push(String.fromCharCode(w)):qe.push(y[K]),qe[K].charCodeAt(0)>>8&&(h=!0);y=qe.join("")}for(K=y.length;h===void 0&&K!==0;)y.charCodeAt(K-1)>>8&&(h=!0),K--;if(!h)return y;for(qe=R.noBOM?[]:[254,255],K=0,te=y.length;K<te;K++){if((T=(w=y.charCodeAt(K))>>8)>>8)throw new Error("Character at position "+K+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(T),qe.push(w-(T<<8))}return String.fromCharCode.apply(void 0,qe)},bn=m.__private__.pdfEscape=m.pdfEscape=function(y,R){return zo(y,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fr=m.__private__.beginPage=function(y){Re[++en]=[],st[en]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},ul(en),Se(Re[W])},to=function(y,R){var K,te,ae;switch(n=R||n,typeof y=="string"&&(K=_(y.toLowerCase()),Array.isArray(K)&&(te=K[0],ae=K[1])),Array.isArray(y)&&(te=y[0]*Ge,ae=y[1]*Ge),isNaN(te)&&(te=i[0],ae=i[1]),(te>14400||ae>14400)&&(Jt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),ae=Math.min(14400,ae)),i=[te,ae],n.substr(0,1)){case"l":ae>te&&(i=[ae,te]);break;case"p":te>ae&&(i=[ae,te])}Fr(i),pl(fl),Q(rr),yl!==0&&Q(yl+" J"),Zo!==0&&Q(Zo+" j"),Ot.publish("addPage",{pageNumber:en})},qo=function(y){y>0&&y<=en&&(Re.splice(y,1),st.splice(y,1),en--,W>en&&(W=en),this.setPage(W))},ul=function(y){y>0&&y<=en&&(W=y)},qt=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Re.length-1},no=function(y,R,K){var te,ae=void 0;return K=K||{},y=y!==void 0?y:Vt[Et].fontName,R=R!==void 0?R:Vt[Et].fontStyle,te=y.toLowerCase(),Zt[te]!==void 0&&Zt[te][R]!==void 0?ae=Zt[te][R]:Zt[y]!==void 0&&Zt[y][R]!==void 0?ae=Zt[y][R]:K.disableWarning===!1&&Jt.warn("Unable to look up font label for font '"+y+"', '"+R+"'. Refer to getFontList() for available fonts."),ae||K.noFallback||(ae=Zt.times[R])==null&&(ae=Zt.times.normal),ae},ro=m.__private__.putInfo=function(){var y=In(),R=function(te){return te};for(var K in d!==null&&(R=an.encryptor(y,0)),Q("<<"),Q("/Producer ("+bn(R("jsPDF "+ct.version))+")"),at)at.hasOwnProperty(K)&&at[K]&&Q("/"+K.substr(0,1).toUpperCase()+K.substr(1)+" ("+bn(R(at[K]))+")");Q("/CreationDate ("+bn(R(we))+")"),Q(">>"),Q("endobj")},Yi=m.__private__.putCatalog=function(y){var R=(y=y||{}).rootDictionaryObjId||Gi;switch(In(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+R+" 0 R"),We||(We="fullwidth"),We){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var K=""+We;K.substr(K.length-1)==="%"&&(We=parseInt(We)/100),typeof We=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+V(We)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}dt&&Q("/PageMode /"+dt),Ot.publish("putCatalog"),Q(">>"),Q("endobj")},th=m.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(ie+1)),Q("/Root "+ie+" 0 R"),Q("/Info "+(ie-1)+" 0 R"),d!==null&&Q("/Encrypt "+an.oid+" 0 R"),Q("/ID [ <"+ge+"> <"+ge+"> ]"),Q(">>")},mu=m.__private__.putHeader=function(){Q("%PDF-"+A),Q("%")},nh=m.__private__.putXRef=function(){var y="0000000000";Q("xref"),Q("0 "+(ie+1)),Q("0000000000 65535 f ");for(var R=1;R<=ie;R++)typeof he[R]=="function"?Q((y+he[R]()).slice(-10)+" 00000 n "):he[R]!==void 0?Q((y+he[R]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},Qi=m.__private__.buildDocument=function(){it(),Se(ye),Ot.publish("buildDocument"),mu(),bs(),al(),ol(),d!==null&&eh(),ro(),Yi();var y=ve;return nh(),th(),Q("startxref"),Q(""+y),Q("%%EOF"),Se(Re[W]),ye.join(`
`)},Ho=m.__private__.getBlob=function(y){return new Blob([Ze(y)],{type:"application/pdf"})},$o=m.output=m.__private__.output=Kr(function(y,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",y){case void 0:return Qi();case"save":m.save(R.filename);break;case"arraybuffer":return Ze(Qi());case"blob":return Ho(Qi());case"bloburi":case"bloburl":if(ht.URL!==void 0&&typeof ht.URL.createObjectURL=="function")return ht.URL&&ht.URL.createObjectURL(Ho(Qi()))||void 0;Jt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var K="",te=Qi();try{K=Qy(te)}catch{K=Qy(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+R.filename+";base64,"+K;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(ae=R.pdfObjectUrl,xe="");var Ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ae+'"'+xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",qe=ht.open();return qe!==null&&qe.document.write(Ne),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',w=ht.open();if(w!==null){w.document.write(h);var T=this;w.document.documentElement.querySelector("#pdfViewer").onload=function(){w.document.title=R.filename,w.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(T.output("bloburl"))}}return w}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var B='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',oe=ht.open();if(oe!==null&&(oe.document.write(B),oe.document.title=R.filename),oe||typeof safari>"u")return oe;break;case"datauri":case"dataurl":return ht.document.location.href=this.output("datauristring",R);default:return null}}),Ts=function(y){return Array.isArray(Ni)===!0&&Ni.indexOf(y)>-1};switch(r){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=Ts("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ge=r}var an=null;Oe(),X();var gu=function(y){return d!==null?an.encryptor(y,0):function(R){return R}},cl=m.__private__.getPageInfo=m.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[y].objId,pageNumber:y,pageContext:st[y]}},ft=m.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in st)if(st[R].objId===y)break;return cl(R)},Is=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:st[W].objId,pageNumber:W,pageContext:st[W]}};m.addPage=function(){return to.apply(this,arguments),this},m.setPage=function(){return ul.apply(this,arguments),Se.call(this,Re[W]),this},m.insertPage=function(y){return this.addPage(),this.movePage(W,y),this},m.movePage=function(y,R){var K,te;if(y>R){K=Re[y],te=st[y];for(var ae=y;ae>R;ae--)Re[ae]=Re[ae-1],st[ae]=st[ae-1];Re[R]=K,st[R]=te,this.setPage(R)}else if(y<R){K=Re[y],te=st[y];for(var xe=y;xe<R;xe++)Re[xe]=Re[xe+1],st[xe]=st[xe+1];Re[R]=K,st[R]=te,this.setPage(R)}return this},m.deletePage=function(){return qo.apply(this,arguments),this},m.__private__.text=m.text=function(y,R,K,te,ae){var xe,Ne,qe,h,w,T,B,oe,pe,ke=(te=te||{}).scope||this;if(typeof y=="number"&&typeof R=="number"&&(typeof K=="string"||Array.isArray(K))){var vt=K;K=R,R=y,y=vt}if(arguments[3]instanceof Ye?(E("The transform parameter of text() with a Matrix value"),pe=ae):(qe=arguments[4],h=arguments[5],Wt(B=arguments[3])==="object"&&B!==null||(typeof qe=="string"&&(h=qe,qe=null),typeof B=="string"&&(h=B,B=null),typeof B=="number"&&(qe=B,B=null),te={flags:B,angle:qe,align:h})),isNaN(R)||isNaN(K)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return ke;var It="",wt=!1,zt=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:Ut,Qt=ke.internal.scaleFactor;function ts(tn){return tn=tn.split("	").join(Array(te.TabLen||9).join(" ")),bn(tn,B)}function ir(tn){for(var nn,kn=tn.concat(),Wn=[],ho=kn.length;ho--;)typeof(nn=kn.shift())=="string"?Wn.push(nn):Array.isArray(tn)&&(nn.length===1||nn[1]===void 0&&nn[2]===void 0)?Wn.push(nn[0]):Wn.push([nn[0],nn[1],nn[2]]);return Wn}function Cs(tn,nn){var kn;if(typeof tn=="string")kn=nn(tn)[0];else if(Array.isArray(tn)){for(var Wn,ho,hh=tn.concat(),Nu=[],mf=hh.length;mf--;)typeof(Wn=hh.shift())=="string"?Nu.push(nn(Wn)[0]):Array.isArray(Wn)&&typeof Wn[0]=="string"&&(ho=nn(Wn[0],Wn[1],Wn[2]),Nu.push([ho[0],ho[1],ho[2]]));kn=Nu}return kn}var Ls=!1,ih=!0;if(typeof y=="string")Ls=!0;else if(Array.isArray(y)){var sh=y.concat();Ne=[];for(var bu,sr=sh.length;sr--;)(typeof(bu=sh.shift())!="string"||Array.isArray(bu)&&typeof bu[0]!="string")&&(ih=!1);Ls=ih}if(Ls===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var xu=Ve/ke.internal.scaleFactor,Su=xu*(zt-1);switch(te.baseline){case"bottom":K-=Su;break;case"top":K+=xu-Su;break;case"hanging":K+=xu-2*Su;break;case"middle":K+=xu/2-Su}if((T=te.maxWidth||0)>0&&(typeof y=="string"?y=ke.splitTextToSize(y,T):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(tn,nn){return tn.concat(ke.splitTextToSize(nn,T))},[]))),xe={text:y,x:R,y:K,options:te,mutex:{pdfEscape:bn,activeFontKey:Et,fonts:Vt,activeFontSize:Ve}},Ot.publish("preProcessText",xe),y=xe.text,qe=(te=xe.options).angle,!(pe instanceof Ye)&&qe&&typeof qe=="number"){qe*=Math.PI/180,te.rotationDirection===0&&(qe=-qe),N===b.ADVANCED&&(qe=-qe);var Au=Math.cos(qe),oh=Math.sin(qe);pe=new Ye(Au,oh,-oh,Au,0,0)}else qe&&qe instanceof Ye&&(pe=qe);N!==b.ADVANCED||pe||(pe=gr),(w=te.charSpace||so)!==void 0&&(It+=O(k(w))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(oe=te.horizontalScale)!==void 0&&(It+=O(100*oe)+` Tz
`),te.lang;var Yr=-1,Cg=te.renderingMode!==void 0?te.renderingMode:te.stroke,ah=ke.internal.getCurrentPageInfo().pageContext;switch(Cg){case 0:case!1:case"fill":Yr=0;break;case 1:case!0:case"stroke":Yr=1;break;case 2:case"fillThenStroke":Yr=2;break;case 3:case"invisible":Yr=3;break;case 4:case"fillAndAddForClipping":Yr=4;break;case 5:case"strokeAndAddPathForClipping":Yr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Yr=6;break;case 7:case"addToPathForClipping":Yr=7}var hf=ah.usedRenderingMode!==void 0?ah.usedRenderingMode:-1;Yr!==-1?It+=Yr+` Tr
`:hf!==-1&&(It+=`0 Tr
`),Yr!==-1&&(ah.usedRenderingMode=Yr),h=te.align||"left";var Ci,Eu=Ve*zt,df=ke.internal.pageSize.getWidth(),ff=Vt[Et];w=te.charSpace||so,T=te.maxWidth||0,B=Object.assign({autoencode:!0,noBOM:!0},te.flags);var ia=[],vl=function(tn){return ke.getStringUnitWidth(tn,{font:ff,charSpace:w,fontSize:Ve,doKerning:!1})*Ve/Qt};if(Object.prototype.toString.call(y)==="[object Array]"){var Qr;Ne=ir(y),h!=="left"&&(Ci=Ne.map(vl));var jr,sa=0;if(h==="right"){R-=Ci[0],y=[],sr=Ne.length;for(var lo=0;lo<sr;lo++)lo===0?(jr=di(R),Qr=$n(K)):(jr=k(sa-Ci[lo]),Qr=-Eu),y.push([Ne[lo],jr,Qr]),sa=Ci[lo]}else if(h==="center"){R-=Ci[0]/2,y=[],sr=Ne.length;for(var uo=0;uo<sr;uo++)uo===0?(jr=di(R),Qr=$n(K)):(jr=k((sa-Ci[uo])/2),Qr=-Eu),y.push([Ne[uo],jr,Qr]),sa=Ci[uo]}else if(h==="left"){y=[],sr=Ne.length;for(var Tu=0;Tu<sr;Tu++)y.push(Ne[Tu])}else if(h==="justify"&&ff.encoding==="Identity-H"){y=[],sr=Ne.length,T=T!==0?T:df;for(var co=0,Nn=0;Nn<sr;Nn++)if(Qr=Nn===0?$n(K):-Eu,jr=Nn===0?di(R):co,Nn<sr-1){var lh=k((T-Ci[Nn])/(Ne[Nn].split(" ").length-1)),Vr=Ne[Nn].split(" ");y.push([Vr[0]+" ",jr,Qr]),co=0;for(var Li=1;Li<Vr.length;Li++){var Iu=(vl(Vr[Li-1]+" "+Vr[Li])-vl(Vr[Li]))*Qt+lh;Li==Vr.length-1?y.push([Vr[Li],Iu,0]):y.push([Vr[Li]+" ",Iu,0]),co-=Iu}}else y.push([Ne[Nn],jr,Qr]);y.push(["",co,0])}else{if(h!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],sr=Ne.length,T=T!==0?T:df,Nn=0;Nn<sr;Nn++)Qr=Nn===0?$n(K):-Eu,jr=Nn===0?di(R):0,Nn<sr-1?ia.push(O(k((T-Ci[Nn])/(Ne[Nn].split(" ").length-1)))):ia.push(0),y.push([Ne[Nn],jr,Qr])}}var pf=typeof te.R2L=="boolean"?te.R2L:tt;pf===!0&&(y=Cs(y,function(tn,nn,kn){return[tn.split("").reverse().join(""),nn,kn]})),xe={text:y,x:R,y:K,options:te,mutex:{pdfEscape:bn,activeFontKey:Et,fonts:Vt,activeFontSize:Ve}},Ot.publish("postProcessText",xe),y=xe.text,wt=xe.mutex.isHex||!1;var uh=Vt[Et].encoding;uh!=="WinAnsiEncoding"&&uh!=="StandardEncoding"||(y=Cs(y,function(tn,nn,kn){return[ts(tn),nn,kn]})),Ne=ir(y),y=[];for(var wl,_l,oa,bl=0,Pu=1,xl=Array.isArray(Ne[0])?Pu:bl,aa="",ch=function(tn,nn,kn){var Wn="";return kn instanceof Ye?(kn=typeof te.angle=="number"?Wr(kn,new Ye(1,0,0,1,tn,nn)):Wr(new Ye(1,0,0,1,tn,nn),kn),N===b.ADVANCED&&(kn=Wr(new Ye(1,0,0,-1,0,0),kn)),Wn=kn.join(" ")+` Tm
`):Wn=O(tn)+" "+O(nn)+` Td
`,Wn},Ri=0;Ri<Ne.length;Ri++){switch(aa="",xl){case Pu:oa=(wt?"<":"(")+Ne[Ri][0]+(wt?">":")"),wl=parseFloat(Ne[Ri][1]),_l=parseFloat(Ne[Ri][2]);break;case bl:oa=(wt?"<":"(")+Ne[Ri]+(wt?">":")"),wl=di(R),_l=$n(K)}ia!==void 0&&ia[Ri]!==void 0&&(aa=ia[Ri]+` Tw
`),Ri===0?y.push(aa+ch(wl,_l,pe)+oa):xl===bl?y.push(aa+oa):xl===Pu&&y.push(aa+ch(wl,_l,pe)+oa)}y=xl===bl?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Di=`BT
/`;return Di+=Et+" "+Ve+` Tf
`,Di+=O(Ve*zt)+` TL
`,Di+=Zi+`
`,Di+=It,Di+=y,Q(Di+="ET"),g[Et]=!0,ke};var rh=m.__private__.clip=m.clip=function(y){return Q(y==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return rh("evenodd")},m.__private__.discardPath=m.discardPath=function(){return Q("n"),this};var ki=m.__private__.isValidStyle=function(y){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(R=!0),R};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(y){return ki(y)&&(u=y),this};var yu=m.__private__.getStyle=m.getStyle=function(y){var R=u;switch(y){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=y}return R},ci=m.close=function(){return Q("h"),this};m.stroke=function(){return Q("S"),this},m.fill=function(y){return Wo("f",y),this},m.fillEvenOdd=function(y){return Wo("f*",y),this},m.fillStroke=function(y){return Wo("B",y),this},m.fillStrokeEvenOdd=function(y){return Wo("B*",y),this};var Wo=function(y,R){Wt(R)==="object"?Ko(R,y):Q(y)},hl=function(y){y===null||N===b.ADVANCED&&y===void 0||(y=yu(y),Q(y))};function Go(y,R,K,te,ae){var xe=new oc(R||this.boundingBox,K||this.xStep,te||this.yStep,this.gState,ae||this.matrix);xe.stream=this.stream;var Ne=y+"$$"+this.cloneIndex+++"$$";return jn(Ne,xe),xe}var Ko=function(y,R){var K=_s[y.key],te=Lt[K];if(te instanceof Cl)Q("q"),Q(vu(R)),te.gState&&m.setGState(te.gState),Q(y.matrix.toString()+" cm"),Q("/"+K+" sh"),Q("Q");else if(te instanceof oc){var ae=new Ye(1,0,0,-1,0,vr());y.matrix&&(ae=ae.multiply(y.matrix||gr),K=Go.call(te,y.key,y.boundingBox,y.xStep,y.yStep,ae).id),Q("q"),Q("/Pattern cs"),Q("/"+K+" scn"),te.gState&&m.setGState(te.gState),Q(R),Q("Q")}},vu=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Xi=m.moveTo=function(y,R){return Q(O(k(y))+" "+O(Z(R))+" m"),this},hi=m.lineTo=function(y,R){return Q(O(k(y))+" "+O(Z(R))+" l"),this},Ji=m.curveTo=function(y,R,K,te,ae,xe){return Q([O(k(y)),O(Z(R)),O(k(K)),O(Z(te)),O(k(ae)),O(Z(xe)),"c"].join(" ")),this};m.__private__.line=m.line=function(y,R,K,te,ae){if(isNaN(y)||isNaN(R)||isNaN(K)||isNaN(te)||!ki(ae))throw new Error("Invalid arguments passed to jsPDF.line");return N===b.COMPAT?this.lines([[K-y,te-R]],y,R,[1,1],ae||"S"):this.lines([[K-y,te-R]],y,R,[1,1]).stroke()},m.__private__.lines=m.lines=function(y,R,K,te,ae,xe){var Ne,qe,h,w,T,B,oe,pe,ke,vt,It,wt;if(typeof y=="number"&&(wt=K,K=R,R=y,y=wt),te=te||[1,1],xe=xe||!1,isNaN(R)||isNaN(K)||!Array.isArray(y)||!Array.isArray(te)||!ki(ae)||typeof xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xi(R,K),Ne=te[0],qe=te[1],w=y.length,vt=R,It=K,h=0;h<w;h++)(T=y[h]).length===2?(vt=T[0]*Ne+vt,It=T[1]*qe+It,hi(vt,It)):(B=T[0]*Ne+vt,oe=T[1]*qe+It,pe=T[2]*Ne+vt,ke=T[3]*qe+It,vt=T[4]*Ne+vt,It=T[5]*qe+It,Ji(B,oe,pe,ke,vt,It));return xe&&ci(),hl(ae),this},m.path=function(y){for(var R=0;R<y.length;R++){var K=y[R],te=K.c;switch(K.op){case"m":Xi(te[0],te[1]);break;case"l":hi(te[0],te[1]);break;case"c":Ji.apply(this,te);break;case"h":ci()}}return this},m.__private__.rect=m.rect=function(y,R,K,te,ae){if(isNaN(y)||isNaN(R)||isNaN(K)||isNaN(te)||!ki(ae))throw new Error("Invalid arguments passed to jsPDF.rect");return N===b.COMPAT&&(te=-te),Q([O(k(y)),O(Z(R)),O(k(K)),O(k(te)),"re"].join(" ")),hl(ae),this},m.__private__.triangle=m.triangle=function(y,R,K,te,ae,xe,Ne){if(isNaN(y)||isNaN(R)||isNaN(K)||isNaN(te)||isNaN(ae)||isNaN(xe)||!ki(Ne))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[K-y,te-R],[ae-K,xe-te],[y-ae,R-xe]],y,R,[1,1],Ne,!0),this},m.__private__.roundedRect=m.roundedRect=function(y,R,K,te,ae,xe,Ne){if(isNaN(y)||isNaN(R)||isNaN(K)||isNaN(te)||isNaN(ae)||isNaN(xe)||!ki(Ne))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return ae=Math.min(ae,.5*K),xe=Math.min(xe,.5*te),this.lines([[K-2*ae,0],[ae*qe,0,ae,xe-xe*qe,ae,xe],[0,te-2*xe],[0,xe*qe,-ae*qe,xe,-ae,xe],[2*ae-K,0],[-ae*qe,0,-ae,-xe*qe,-ae,-xe],[0,2*xe-te],[0,-xe*qe,ae*qe,-xe,ae,-xe]],y+ae,R,[1,1],Ne,!0),this},m.__private__.ellipse=m.ellipse=function(y,R,K,te,ae){if(isNaN(y)||isNaN(R)||isNaN(K)||isNaN(te)||!ki(ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xe=4/3*(Math.SQRT2-1)*K,Ne=4/3*(Math.SQRT2-1)*te;return Xi(y+K,R),Ji(y+K,R-Ne,y+xe,R-te,y,R-te),Ji(y-xe,R-te,y-K,R-Ne,y-K,R),Ji(y-K,R+Ne,y-xe,R+te,y,R+te),Ji(y+xe,R+te,y+K,R+Ne,y+K,R),hl(ae),this},m.__private__.circle=m.circle=function(y,R,K,te){if(isNaN(y)||isNaN(R)||isNaN(K)||!ki(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,R,K,K,te)},m.setFont=function(y,R,K){return K&&(R=J(R,K)),Et=no(y,R,{disableWarning:!1}),this};var dl=m.__private__.getFont=m.getFont=function(){return Vt[no.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var y,R,K={};for(y in Zt)if(Zt.hasOwnProperty(y))for(R in K[y]=[],Zt[y])Zt[y].hasOwnProperty(R)&&K[y].push(R);return K},m.addFont=function(y,R,K,te,ae){var xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xe.indexOf(arguments[3])!==-1?ae=arguments[3]:arguments[3]&&xe.indexOf(arguments[3])==-1&&(K=J(K,te)),ae=ae||"Identity-H",ll.call(this,y,R,K,ae)};var Ut,fl=t.lineWidth||.200025,Yo=m.__private__.getLineWidth=m.getLineWidth=function(){return fl},pl=m.__private__.setLineWidth=m.setLineWidth=function(y){return fl=y,Q(O(k(y))+" w"),this};m.__private__.setLineDash=ct.API.setLineDash=ct.API.setLineDashPattern=function(y,R){if(y=y||[],R=R||0,isNaN(R)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(K){return O(k(K))}).join(" "),R=O(k(R)),Q("["+y+"] "+R+" d"),this};var ml=m.__private__.getLineHeight=m.getLineHeight=function(){return Ve*Ut};m.__private__.getLineHeight=m.getLineHeight=function(){return Ve*Ut};var gl=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(Ut=y),this},io=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ut};gl(t.lineHeight);var di=m.__private__.getHorizontalCoordinate=function(y){return k(y)},$n=m.__private__.getVerticalCoordinate=function(y){return N===b.ADVANCED?y:st[W].mediaBox.topRightY-st[W].mediaBox.bottomLeftY-k(y)},wu=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(y){return O(di(y))},Ps=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(y){return O($n(y))},rr=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Gr(rr)},m.__private__.setStrokeColor=m.setDrawColor=function(y,R,K,te){return rr=Or({ch1:y,ch2:R,ch3:K,ch4:te,pdfColorType:"draw",precision:2}),Q(rr),this};var Qo=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Gr(Qo)},m.__private__.setFillColor=m.setFillColor=function(y,R,K,te){return Qo=Or({ch1:y,ch2:R,ch3:K,ch4:te,pdfColorType:"fill",precision:2}),Q(Qo),this};var Zi=t.textColor||"0 g",Xo=m.__private__.getTextColor=m.getTextColor=function(){return Gr(Zi)};m.__private__.setTextColor=m.setTextColor=function(y,R,K,te){return Zi=Or({ch1:y,ch2:R,ch3:K,ch4:te,pdfColorType:"text",precision:3}),this};var so=t.charSpace,Jo=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(so||0)};m.__private__.setCharSpace=m.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return so=y,this};var yl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(y){var R=m.CapJoinStyles[y];if(R===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yl=R,Q(R+" J"),this};var Zo=0;m.__private__.setLineJoin=m.setLineJoin=function(y){var R=m.CapJoinStyles[y];if(R===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zo=R,Q(R+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(O(k(y))+" M"),this},m.GState=jm,m.setGState=function(y){(y=typeof y=="string"?sn[nr[y]]:Ns(null,y)).equals(ai)||(Q("/"+y.id+" gs"),ai=y)};var Ns=function(y,R){if(!y||!nr[y]){var K=!1;for(var te in sn)if(sn.hasOwnProperty(te)&&sn[te].equals(R)){K=!0;break}if(K)R=sn[te];else{var ae="GS"+(Object.keys(sn).length+1).toString(10);sn[ae]=R,R.id=ae}return y&&(nr[y]=R.id),Ot.publish("addGState",R),R}};m.addGState=function(y,R){return Ns(y,R),this},m.saveGraphicsState=function(){return Q("q"),Pi.push({key:Et,size:Ve,color:Zi}),this},m.restoreGraphicsState=function(){Q("Q");var y=Pi.pop();return Et=y.key,Ve=y.size,Zi=y.color,ai=null,this},m.setCurrentTransformationMatrix=function(y){return Q(y.toString()+" cm"),this},m.comment=function(y){return Q("#"+y),this};var oo=function(y,R){var K=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return K},set:function(xe){isNaN(xe)||(K=parseFloat(xe))}});var te=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(xe){isNaN(xe)||(te=parseFloat(xe))}});var ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ae},set:function(xe){ae=xe.toString()}}),this},ea=function(y,R,K,te){oo.call(this,y,R),this.type="rect";var ae=K||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ae},set:function(Ne){isNaN(Ne)||(ae=parseFloat(Ne))}});var xe=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xe},set:function(Ne){isNaN(Ne)||(xe=parseFloat(Ne))}}),this},ao=function(){this.page=en,this.currentPage=W,this.pages=Re.slice(0),this.pagesContext=st.slice(0),this.x=wn,this.y=kt,this.matrix=$r,this.width=ks(W),this.height=vr(W),this.outputDestination=Be,this.id="",this.objectNumber=-1};ao.prototype.restore=function(){en=this.page,W=this.currentPage,st=this.pagesContext,Re=this.pages,wn=this.x,kt=this.y,$r=this.matrix,na(W,this.width),ra(W,this.height),Be=this.outputDestination};var ta=function(y,R,K,te,ae){li.push(new ao),en=W=0,Re=[],wn=y,kt=R,$r=ae,Fr([K,te])},_u=function(y){if(mr[y])li.pop().restore();else{var R=new ao,K="Xo"+(Object.keys(Fn).length+1).toString(10);R.id=K,mr[y]=K,Fn[K]=R,Ot.publish("addFormObject",R),li.pop().restore()}};for(var es in m.beginFormObject=function(y,R,K,te,ae){return ta(y,R,K,te,ae),this},m.endFormObject=function(y){return _u(y),this},m.doFormObject=function(y,R){var K=Fn[mr[y]];return Q("q"),Q(R.toString()+" cm"),Q("/"+K.id+" Do"),Q("Q"),this},m.getFormObject=function(y){var R=Fn[mr[y]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},m.save=function(y,R){return y=y||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(kl(Ho(Qi()),y),typeof kl.unload=="function"&&ht.setTimeout&&setTimeout(kl.unload,911),this):new Promise(function(K,te){try{var ae=kl(Ho(Qi()),y);typeof kl.unload=="function"&&ht.setTimeout&&setTimeout(kl.unload,911),K(ae)}catch(xe){te(xe.message)}})},ct.API)ct.API.hasOwnProperty(es)&&(es==="events"&&ct.API.events.length?function(y,R){var K,te,ae;for(ae=R.length-1;ae!==-1;ae--)K=R[ae][0],te=R[ae][1],y.subscribe.apply(y,[K].concat(typeof te=="function"?[te]:te))}(Ot,ct.API.events):m[es]=ct.API[es]);var ks=m.getPageWidth=function(y){return(st[y=y||W].mediaBox.topRightX-st[y].mediaBox.bottomLeftX)/Ge},na=m.setPageWidth=function(y,R){st[y].mediaBox.topRightX=R*Ge+st[y].mediaBox.bottomLeftX},vr=m.getPageHeight=function(y){return(st[y=y||W].mediaBox.topRightY-st[y].mediaBox.bottomLeftY)/Ge},ra=m.setPageHeight=function(y,R){st[y].mediaBox.topRightY=R*Ge+st[y].mediaBox.bottomLeftY};return m.internal={pdfEscape:bn,getStyle:yu,getFont:dl,getFontSize:He,getCharSpace:Jo,getTextColor:Xo,getLineHeight:ml,getLineHeightFactor:io,getLineWidth:Yo,write:gt,getHorizontalCoordinate:di,getVerticalCoordinate:$n,getCoordinateString:wu,getVerticalCoordinateString:Ps,collections:{},newObject:In,newAdditionalObject:Bo,newObjectDeferred:_n,newObjectDeferredBegin:Vn,getFilters:Mr,putStream:Pn,events:Ot,scaleFactor:Ge,pageSize:{getWidth:function(){return ks(W)},setWidth:function(y){na(W,y)},getHeight:function(){return vr(W)},setHeight:function(y){ra(W,y)}},encryptionOptions:d,encryption:an,getEncryptor:gu,output:$o,getNumberOfPages:qt,pages:Re,out:Q,f2:V,f3:I,getPageInfo:cl,getPageInfoByObjId:ft,getCurrentPageInfo:Is,getPDFVersion:x,Point:oo,Rectangle:ea,Matrix:Ye,hasHotfix:Ts},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return ks(W)},set:function(y){na(W,y)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return vr(W)},set:function(y){ra(W,y)},enumerable:!0,configurable:!0}),pu.call(m,De),Et="F1",to(i,n),Ot.publish("initialized"),m}Bu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Bu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Bu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Bu.prototype.processOwnerPassword=function(t,e){return Jy(Xy(e).substr(0,5),t)},Bu.prototype.encryptor=function(t,e){var n=Xy(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Jy(n,r)}},jm.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Wt(t)!==Wt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ct.API={events:[]},ct.version="3.0.1";var Sn=ct.API,k5=1,uu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ou=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_t=function(t){return t.toFixed(2)},va=function(t){return t.toFixed(5)};Sn.__acroform__={};var oi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},f4=function(t){return t*k5},Ms=function(t){var e=new hP,n=Xe.internal.getHeight(t)||0,r=Xe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(_t(r)),Number(_t(n))],e},WB=Sn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},GB=Sn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},KB=Sn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Dn=Sn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return KB(t,e-1)},On=Sn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return WB(t,e-1)},Mn=Sn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return GB(t,e-1)},YB=Sn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(_t(l.lowerLeft_X)),Number(_t(l.lowerLeft_Y)),Number(_t(l.upperRight_X)),Number(_t(l.upperRight_Y))]},QB=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Zy(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+_t(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ms(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Zy=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var s=n,o=Xe.internal.getHeight(t)||0;o=o<0?-o:o;var a=Xe.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(I,k,L){if(I+1<i.length){var Z=k+" "+i[I+1][0];return lp(Z,t,L).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,p=lp("3",t,s).height,g=t.multiline?o-s:(o-p)/2,m=g+=2,A=0,x=0,P=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+lp(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var _="",b=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var H=!1;if(i[N].length!==1&&P!==i[N].length-1){if((p+2)*(b+2)+2>o)continue e;_+=i[N][P],H=!0,x=N,N--}else{_=(_+=i[N][P]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var $=parseInt(N),J=l($,_,s),O=N>=i.length-1;if(J&&!O){_+=" ",P=0;continue}if(J||O){if(O)x=$;else if(t.multiline&&(p+2)*(b+2)+2>o)continue e}else{if(!t.multiline||(p+2)*(b+2)+2>o)continue e;x=$}}for(var E="",C=A;C<=x;C++){var V=i[C];if(t.multiline){if(C===x){E+=V[P]+" ",P=(P+1)%V.length;continue}if(C===A){E+=V[V.length-1]+" ";continue}}E+=V[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=lp(E,t,s).width,t.textAlign){case"right":u=a-d-2;break;case"center":u=(a-d)/2;break;case"left":default:u=2}e+=_t(u)+" "+_t(m)+` Td
`,e+="("+uu(E)+`) Tj
`,e+=-_t(u)+` 0 Td
`,m=-(s+2),d=0,A=H?x:x+1,b++,_=""}break}return r.text=e,r.fontSize=s,r},lp=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},XB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JB=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},ZB=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Wt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},eU=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(vs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(XB)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");k5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new dP,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&JB(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=YB(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Xe.createDefaultAppearanceStream(a),Wt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=QB(a);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var p="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var m=a.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var A=m[o];typeof A=="function"&&(A=A.call(i,a)),p+="/"+o+" "+A+" ",i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A)}}else typeof(A=m)=="function"&&(A=A.call(i,a)),p+="/"+o+" "+A,i.internal.acroformPlugin.xForms.indexOf(A)>=0||i.internal.acroformPlugin.xForms.push(A);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&ZB(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},cP=Sn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Wt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+uu(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},t1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+uu(r(t))+")"},Vs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Vs.prototype.toString=function(){return this.objId+" 0 R"},Vs.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Vs.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:cP(i,this.objId,this.scope)}):i instanceof Vs?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var hP=function(){Vs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};oi(hP,Vs);var dP=function(){Vs.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+uu(n(t))+")"}},set:function(n){t=n}})};oi(dP,Vs);var vs=function t(){Vs.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dn(e,3)},set:function(_){_?this.F=On(e,3):this.F=Mn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Vm)return;s="FieldObject"+t.FieldNum++}var _=function(b){return b};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+uu(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/k5:u},set:function(_){u=_}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Vm||this instanceof $l))return t1(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=_}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof er?g:t1(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=this instanceof er?_:_.substr(0,1)==="("?Ou(_.substr(1,_.length-2)):Ou(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof er?Ou(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof er?"/"+_:_}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof er?m:t1(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=this instanceof er?_:_.substr(0,1)==="("?Ou(_.substr(1,_.length-2)):Ou(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof er?Ou(m.substr(1,m.length-1)):m},set:function(_){_=_.toString(),m=this instanceof er?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(_){_=!!_,x=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(_){A=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,1)},set:function(_){_?this.Ff=On(this.Ff,1):this.Ff=Mn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,2)},set:function(_){_?this.Ff=On(this.Ff,2):this.Ff=Mn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,3)},set:function(_){_?this.Ff=On(this.Ff,3):this.Ff=Mn(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');P=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(P){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:P=2;break;case"center":case 1:P=1;break;case"left":case 0:default:P=0}}})};oi(vs,Vs);var yc=function(){vs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cP(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,18)},set:function(n){n?this.Ff=On(this.Ff,18):this.Ff=Mn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=On(this.Ff,19):this.Ff=Mn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,20)},set:function(n){n?(this.Ff=On(this.Ff,20),e.sort()):this.Ff=Mn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,22)},set:function(n){n?this.Ff=On(this.Ff,22):this.Ff=Mn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(n){n?this.Ff=On(this.Ff,23):this.Ff=Mn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,27)},set:function(n){n?this.Ff=On(this.Ff,27):this.Ff=Mn(this.Ff,27)}}),this.hasAppearanceStream=!1};oi(yc,vs);var vc=function(){yc.call(this),this.fontName="helvetica",this.combo=!1};oi(vc,yc);var wc=function(){vc.call(this),this.combo=!0};oi(wc,vc);var Vp=function(){wc.call(this),this.edit=!0};oi(Vp,wc);var er=function(){vs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,15)},set:function(n){n?this.Ff=On(this.Ff,15):this.Ff=Mn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,16)},set:function(n){n?this.Ff=On(this.Ff,16):this.Ff=Mn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,17)},set:function(n){n?this.Ff=On(this.Ff,17):this.Ff=Mn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(n){n?this.Ff=On(this.Ff,26):this.Ff=Mn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+uu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Wt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};oi(er,vs);var Bp=function(){er.call(this),this.pushButton=!0};oi(Bp,er);var _c=function(){er.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};oi(_c,er);var Vm=function(){var t,e;vs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+uu(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Wt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};oi(Vm,vs),_c.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},_c.prototype.createOption=function(t){var e=new Vm;return e.Parent=this,e.optionName=t,this.Kids.push(e),tU.call(this.scope,e),e};var Up=function(){er.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xe.CheckBox.createAppearanceStream()};oi(Up,er);var $l=function(){vs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,13)},set:function(e){e?this.Ff=On(this.Ff,13):this.Ff=Mn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,21)},set:function(e){e?this.Ff=On(this.Ff,21):this.Ff=Mn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,23)},set:function(e){e?this.Ff=On(this.Ff,23):this.Ff=Mn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,24)},set:function(e){e?this.Ff=On(this.Ff,24):this.Ff=Mn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,25)},set:function(e){e?this.Ff=On(this.Ff,25):this.Ff=Mn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,26)},set:function(e){e?this.Ff=On(this.Ff,26):this.Ff=Mn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};oi($l,vs);var zp=function(){$l.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dn(this.Ff,14)},set:function(t){t?this.Ff=On(this.Ff,14):this.Ff=Mn(this.Ff,14)}}),this.password=!0};oi(zp,$l);var Xe={CheckBox:{createAppearanceStream:function(){return{N:{On:Xe.CheckBox.YesNormal},D:{On:Xe.CheckBox.YesPushDown,Off:Xe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ms(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Zy(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+_t(Xe.internal.getWidth(t))+" "+_t(Xe.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+_t(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Ms(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Xe.internal.getHeight(t),o=Xe.internal.getWidth(t),a=Zy(t,t.caption);return i.push("1 g"),i.push("0 0 "+_t(o)+" "+_t(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+_t(o-1)+" "+_t(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+_t(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ms(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+_t(Xe.internal.getWidth(t))+" "+_t(Xe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Xe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Xe.RadioButton.Circle.YesNormal,e.D[t]=Xe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ms(t);e.scope=t.scope;var n=[],r=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Xe.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+va(Xe.internal.getWidth(t)/2)+" "+va(Xe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ms(t);e.scope=t.scope;var n=[],r=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Xe.internal.Bezier_C).toFixed(5)),o=Number((r*Xe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+va(Xe.internal.getWidth(t)/2)+" "+va(Xe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+va(Xe.internal.getWidth(t)/2)+" "+va(Xe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ms(t);e.scope=t.scope;var n=[],r=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Xe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+va(Xe.internal.getWidth(t)/2)+" "+va(Xe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Xe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Xe.RadioButton.Cross.YesNormal,e.D[t]=Xe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ms(t);e.scope=t.scope;var n=[],r=Xe.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+_t(Xe.internal.getWidth(t)-2)+" "+_t(Xe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(_t(r.x1.x)+" "+_t(r.x1.y)+" m"),n.push(_t(r.x2.x)+" "+_t(r.x2.y)+" l"),n.push(_t(r.x4.x)+" "+_t(r.x4.y)+" m"),n.push(_t(r.x3.x)+" "+_t(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ms(t);e.scope=t.scope;var n=Xe.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+_t(Xe.internal.getWidth(t))+" "+_t(Xe.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+_t(Xe.internal.getWidth(t)-2)+" "+_t(Xe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(_t(n.x1.x)+" "+_t(n.x1.y)+" m"),r.push(_t(n.x2.x)+" "+_t(n.x2.y)+" l"),r.push(_t(n.x4.x)+" "+_t(n.x4.y)+" m"),r.push(_t(n.x3.x)+" "+_t(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ms(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+_t(Xe.internal.getWidth(t))+" "+_t(Xe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Xe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Xe.internal.getWidth(t),n=Xe.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Xe.internal.getWidth=function(t){var e=0;return Wt(t)==="object"&&(e=f4(t.Rect[2])),e},Xe.internal.getHeight=function(t){var e=0;return Wt(t)==="object"&&(e=f4(t.Rect[3])),e};var tU=Sn.addField=function(t){if(eU(this,t),!(t instanceof vs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Sn.AcroFormChoiceField=yc,Sn.AcroFormListBox=vc,Sn.AcroFormComboBox=wc,Sn.AcroFormEditBox=Vp,Sn.AcroFormButton=er,Sn.AcroFormPushButton=Bp,Sn.AcroFormRadioButton=_c,Sn.AcroFormCheckBox=Up,Sn.AcroFormTextField=$l,Sn.AcroFormPasswordField=zp,Sn.AcroFormAppearance=Xe,Sn.AcroForm={ChoiceField:yc,ListBox:vc,ComboBox:wc,EditBox:Vp,Button:er,PushButton:Bp,RadioButton:_c,CheckBox:Up,TextField:$l,PasswordField:zp,Appearance:Xe},ct.AcroForm={ChoiceField:yc,ListBox:vc,ComboBox:wc,EditBox:Vp,Button:er,PushButton:Bp,RadioButton:_c,CheckBox:Up,TextField:$l,PasswordField:zp,Appearance:Xe};function fP(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(I,k){var L,Z,we,ge,me,X=e;if((k=k||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(J(I))for(me in n)for(we=n[me],L=0;L<we.length;L+=1){for(ge=!0,Z=0;Z<we[L].length;Z+=1)if(we[L][Z]!==void 0&&we[L][Z]!==I[Z]){ge=!1;break}if(ge===!0){X=me;break}}else for(me in n)for(we=n[me],L=0;L<we.length;L+=1){for(ge=!0,Z=0;Z<we[L].length;Z+=1)if(we[L][Z]!==void 0&&we[L][Z]!==I.charCodeAt(Z)){ge=!1;break}if(ge===!0){X=me;break}}return X===e&&k!==e&&(X=k),X},i=function I(k){for(var L=this.internal.write,Z=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:k.width}),ge.push({key:"Height",value:k.height}),k.colorSpace===P.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===P.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var me="",X=0,ue=k.transparency.length;X<ue;X++)me+=k.transparency[X]+" "+k.transparency[X]+" ";ge.push({key:"Mask",value:"["+me+"]"})}k.sMask!==void 0&&ge.push({key:"SMask",value:k.objectId+1+" 0 R"});var ce=k.filter!==void 0?["/"+k.filter]:void 0;if(Z({data:k.data,additionalKeyValues:ge,alreadyAppliedFilters:ce,objectId:k.objectId}),L("endobj"),"sMask"in k&&k.sMask!==void 0){var Oe="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,M={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:Oe,data:k.sMask};"filter"in k&&(M.filter=k.filter),I.call(this,M)}if(k.colorSpace===P.INDEXED){var W=this.internal.newObject();Z({data:E(new Uint8Array(k.palette)),objectId:W}),L("endobj")}},s=function(){var I=this.internal.collections.addImage_images;for(var k in I)i.call(this,I[k])},o=function(){var I,k=this.internal.collections.addImage_images,L=this.internal.write;for(var Z in k)L("/I"+(I=k[Z]).index,I.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var I=this.internal.collections.addImage_images;return a.call(this),I},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(I){return typeof t["process"+I.toUpperCase()]=="function"},p=function(I){return Wt(I)==="object"&&I.nodeType===1},g=function(I,k){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var L=""+I.getAttribute("src");if(L.indexOf("data:image/")===0)return ad(unescape(L).split("base64,").pop());var Z=t.loadFile(L,!0);if(Z!==void 0)return Z}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var we;switch(k){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;case"JPEG":case"JPG":default:we="image/jpeg"}return ad(I.toDataURL(we,1).split("base64,").pop())}},m=function(I){var k=this.internal.collections.addImage_images;if(k){for(var L in k)if(I===k[L].alias)return k[L]}},A=function(I,k,L){return I||k||(I=-96,k=-96),I<0&&(I=-1*L.width*72/I/this.internal.scaleFactor),k<0&&(k=-1*L.height*72/k/this.internal.scaleFactor),I===0&&(I=k*L.width/L.height),k===0&&(k=I*L.height/L.width),[I,k]},x=function(I,k,L,Z,we,ge){var me=A.call(this,L,Z,we),X=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,ce=l.call(this);if(L=me[0],Z=me[1],ce[we.index]=we,ge){ge*=Math.PI/180;var Oe=Math.cos(ge),M=Math.sin(ge),W=function(ee){return ee.toFixed(4)},Y=[W(Oe),W(M),W(-1*M),W(Oe),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,X(I),ue(k+Z),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([X(L),"0","0",X(Z),"0","0","cm"].join(" "))):this.internal.write([X(L),"0","0",X(Z),X(I),ue(k+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},P=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(I){var k,L,Z=0;if(typeof I=="string")for(L=I.length,k=0;k<L;k++)Z=(Z<<5)-Z+I.charCodeAt(k),Z|=0;else if(J(I))for(L=I.byteLength/2,k=0;k<L;k++)Z=(Z<<5)-Z+I[k],Z|=0;return Z},N=t.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var k=!0;return I.length===0&&(k=!1),I.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(k=!1),k},H=t.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var k=I.indexOf(",");return k<0?null:I.substring(0,k).trim().endsWith("base64")?I.substring(k+1):null},$=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(I){return $()&&I instanceof ArrayBuffer};var J=t.__addimage__.isArrayBufferView=function(I){return $()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},O=t.__addimage__.binaryStringToUint8Array=function(I){for(var k=I.length,L=new Uint8Array(k),Z=0;Z<k;Z++)L[Z]=I.charCodeAt(Z);return L},E=t.__addimage__.arrayBufferToBinaryString=function(I){for(var k="",L=J(I)?I:new Uint8Array(I),Z=0;Z<L.length;Z+=8192)k+=String.fromCharCode.apply(null,L.subarray(Z,Z+8192));return k};t.addImage=function(){var I,k,L,Z,we,ge,me,X,ue;if(typeof arguments[1]=="number"?(k=e,L=arguments[1],Z=arguments[2],we=arguments[3],ge=arguments[4],me=arguments[5],X=arguments[6],ue=arguments[7]):(k=arguments[1],L=arguments[2],Z=arguments[3],we=arguments[4],ge=arguments[5],me=arguments[6],X=arguments[7],ue=arguments[8]),Wt(I=arguments[0])==="object"&&!p(I)&&"imageData"in I){var ce=I;I=ce.imageData,k=ce.format||k||e,L=ce.x||L||0,Z=ce.y||Z||0,we=ce.w||ce.width||we,ge=ce.h||ce.height||ge,me=ce.alias||me,X=ce.compression||X,ue=ce.rotation||ce.angle||ue}var Oe=this.internal.getFilters();if(X===void 0&&Oe.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(L)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var M=C.call(this,I,k,me,X);return x.call(this,L,Z,we,ge,M,ue),this};var C=function(I,k,L,Z){var we,ge,me;if(typeof I=="string"&&r(I)===e){I=unescape(I);var X=V(I,!1);(X!==""||(X=t.loadFile(I,!0))!==void 0)&&(I=X)}if(p(I)&&(I=g(I,k)),k=r(I,k),!d(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((me=L)==null||me.length===0)&&(L=function(ue){return typeof ue=="string"||J(ue)?b(ue):J(ue.data)?b(ue.data):null}(I)),(we=m.call(this,L))||($()&&(I instanceof Uint8Array||k==="RGBA"||(ge=I,I=O(I))),we=this["process"+k.toUpperCase()](I,u.call(this),L,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in t.image_compression?ue:_.NONE}(Z),ge)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},V=t.__addimage__.convertBase64ToBinaryString=function(I,k){k=typeof k!="boolean"||k;var L,Z="";if(typeof I=="string"){var we;L=(we=H(I))!==null&&we!==void 0?we:I;try{Z=ad(L)}catch(ge){if(k)throw N(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};t.getImageProperties=function(I){var k,L,Z="";if(p(I)&&(I=g(I)),typeof I=="string"&&r(I)===e&&((Z=V(I,!1))===""&&(Z=t.loadFile(I)||""),I=Z),L=r(I),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!$()||I instanceof Uint8Array||(I=O(I)),!(k=this["process"+L.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=L,k}})(ct.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ct.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,p=0;p<u.length&&!d;p++)switch((r=u[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var m=this.internal.pdfEscape,A=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(x.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(_(r.contents))+")",s+=" /Popup "+P.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(_(b))+") >>",x.content=s;var N=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(s+=" /Open true"),s+=" >>",P.content=s,this.internal.write(x.objId,"0 R",P.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var H=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(A(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+H+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var $=this.annotations._nameMap[r.options.name];r.options.pageNumber=$.page,r.options.top=$.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(A(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var J=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+J+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var d=this.splitTextToSize(n,a).length;o=Math.ceil(u*d)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ct.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},a=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(x){var P=0,_=n,b="",N=0;for(P=0;P<x.length;P+=1)_[x.charCodeAt(P)]!==void 0?(N++,typeof(_=_[x.charCodeAt(P)])=="number"&&(b+=String.fromCharCode(_),_=n,N=0),P===x.length-1&&(_=n,b+=x.charAt(P-(N-1)),P-=N-1,N=0)):(_=n,b+=x.charAt(P-N),P-=N,N=0);return b};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(x,P,_){return o(x)?s(x)===!1?-1:!u(x)||!o(P)&&!o(_)||!o(_)&&a(P)||a(x)&&!o(P)||a(x)&&l(P)||a(x)&&a(P)?0:d(x)&&o(P)&&!a(P)&&o(_)&&u(_)?3:a(x)||!o(_)?1:2:-1},m=function(x){var P=0,_=0,b=0,N="",H="",$="",J=(x=x||"").split("\\s+"),O=[];for(P=0;P<J.length;P+=1){for(O.push(""),_=0;_<J[P].length;_+=1)N=J[P][_],H=J[P][_-1],$=J[P][_+1],o(N)?(b=g(N,H,$),O[P]+=b!==-1?String.fromCharCode(e[N.charCodeAt(0)][b]):N):O[P]+=N;O[P]=p(O[P])}return O.join(" ")},A=t.__arabicParser__.processArabic=t.processArabic=function(){var x,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(P)){var b=0;for(_=[],b=0;b<P.length;b+=1)Array.isArray(P[b])?_.push([m(P[b][0]),P[b][1],P[b][2]]):_.push([m(P[b])]);x=_}else x=m(P);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",A])}(ct.API),ct.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(x){A=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,m=0,A=0,x=0,P=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=u.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,H){return N.concat(P.splitTextToSize(H,_))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)m<(x=this.getStringUnitWidth(l[b],{font:p})*d)&&(m=x);return m!==0&&(A=l.length),{w:m/=g,h:Math.max((A*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,d,p,g){if(r.call(this),!d)throw new Error("No data for PDF table.");var m,A,x,P,_=[],b=[],N=[],H={},$={},J=[],O=[],E=(g=g||{}).autoSize||!1,C=g.printHeaders!==!1,V=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,I=g.margins||Object.assign({width:this.getPageWidth()},e),k=typeof g.padding=="number"?g.padding:3,L=g.headerBackgroundColor||"#c8c8c8",Z=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=Z,this.setFontSize(V),p==null)b=_=Object.keys(d[0]),N=_.map(function(){return"left"});else if(Array.isArray(p)&&Wt(p[0])==="object")for(_=p.map(function(ce){return ce.name}),b=p.map(function(ce){return ce.prompt||ce.name||""}),N=p.map(function(ce){return ce.align||"left"}),m=0;m<p.length;m+=1)$[p[m].name]=p[m].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(b=_=p,N=_.map(function(){return"left"}));if(E||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<_.length;m+=1){for(H[P=_[m]]=d.map(function(ce){return ce[P]}),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=H[P],this.setFont(void 0,"normal"),x=0;x<A.length;x+=1)J.push(this.getTextDimensions(A[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[P]=Math.max.apply(null,J)+k+k,J=[]}if(C){var we={};for(m=0;m<_.length;m+=1)we[_[m]]={},we[_[m]].text=b[m],we[_[m]].align=N[m];var ge=a.call(this,we,$);O=_.map(function(ce){return new s(l,u,$[ce],ge,we[ce].text,void 0,we[ce].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var me=p.reduce(function(ce,Oe){return ce[Oe.name]=Oe.align,ce},{});for(m=0;m<d.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:d[m]},this);var X=a.call(this,d[m],$);for(x=0;x<_.length;x+=1){var ue=d[m][_[x]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:x,data:ue},this),o.call(this,new s(l,u,$[_[x]],X,ue,m+2,me[_[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var A=l[m];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+d+d},this).reduce(function(m,A){return Math.max(m,A)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=l;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(A)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(ct.API);var pP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ev=fP(mP),gP=[100,200,300,400,500,600,700,800,900],nU=fP(gP);function tv(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return pP[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof ev[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function p4(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var rU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},m4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function g4(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function iU(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},rU,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=tv(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+g4(s)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var d=ev[l],p=d<=ev.normal?-1:1,g=p4(u,mP,d,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,o),o=function(l,u){if(u[l])return u[l];for(var d=pP[l],p=0;p<d.length;++p)if(u[d[p]])return u[d[p]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var d=nU[l],p=p4(u,gP,d,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+g4(s)+"'.");return o}function y4(t){return t.trimLeft()}function sU(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function oU(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var up,v4,w4,n1=["times"];(function(t){var e,n,r,i,s,o,a,l,u,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var p=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=M;Object.defineProperty(this,"pdf",{get:function(){return W}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(Se){Y=!!Se}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Se){ee=!!Se}});var ie=0;Object.defineProperty(this,"posX",{get:function(){return ie},set:function(Se){isNaN(Se)||(ie=Se)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(Se){isNaN(Se)||(he=Se)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Se){var Q;typeof Se=="number"?Q=[Se,Se,Se,Se]:((Q=new Array(4))[0]=Se[0],Q[1]=Se.length>=2?Se[1]:Q[0],Q[2]=Se.length>=3?Se[2]:Q[0],Q[3]=Se.length>=4?Se[3]:Q[1]),u.margin=Q}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(Se){ye=Se}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(Se){ve=Se}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(Se){Fe=Se}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Se){Se instanceof d&&(u=Se)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Se){u.path=Se}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(Se){Re=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var Q;Q=g(Se),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var Q=g(Se);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var ze=null;function Be(Se,Q){if(ze===null){var gt=function(Ze){var De=[];return Object.keys(Ze).forEach(function(Ve){Ze[Ve].forEach(function(We){var He=null;switch(We){case"bold":He={family:Ve,weight:"bold"};break;case"italic":He={family:Ve,style:"italic"};break;case"bolditalic":He={family:Ve,weight:"bold",style:"italic"};break;case"":case"normal":He={family:Ve}}He!==null&&(He.ref={name:Ve,style:We},De.push(He))})}),De}(Se.getFontList());ze=function(Ze){for(var De={},Ve=0;Ve<Ze.length;++Ve){var We=tv(Ze[Ve]),He=We.family,tt=We.stretch,dt=We.style,yt=We.weight;De[He]=De[He]||{},De[He][tt]=De[He][tt]||{},De[He][tt][dt]=De[He][tt][dt]||{},De[He][tt][dt][yt]=We}return De}(gt.concat(Q))}return ze}var it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(Se){ze=null,it=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var Q;if(this.ctx.font=Se,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var gt=Q[1];Q[2];var Ze=Q[3],De=Q[4];Q[5];var Ve=Q[6],We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(De)[2];De=Math.floor(We==="px"?parseFloat(De)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(De)*this.pdf.getFontSize():parseFloat(De)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(De);var He=function(at){var Et,Ge,wn=[],kt=at.trim();if(kt==="")return n1;if(kt in m4)return[m4[kt]];for(;kt!=="";){switch(Ge=null,Et=(kt=y4(kt)).charAt(0)){case'"':case"'":Ge=sU(kt.substring(1),Et);break;default:Ge=oU(kt)}if(Ge===null||(wn.push(Ge[0]),(kt=y4(Ge[1]))!==""&&kt.charAt(0)!==","))return n1;kt=kt.replace(/^,/,"")}return wn}(Ve);if(this.fontFaces){var tt=iU(Be(this.pdf,this.fontFaces),He.map(function(at){return{family:at,stretch:"normal",weight:Ze,style:gt}}));this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var dt="";(Ze==="bold"||parseInt(Ze,10)>=700||gt==="bold")&&(dt="bold"),gt==="italic"&&(dt+="italic"),dt.length===0&&(dt="normal");for(var yt="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ut=0;ut<He.length;ut++){if(this.pdf.internal.getFont(He[ut],dt,{noFallback:!0,disableWarning:!0})!==void 0){yt=He[ut];break}if(dt==="bolditalic"&&this.pdf.internal.getFont(He[ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=He[ut],dt="bold";else if(this.pdf.internal.getFont(He[ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=He[ut],dt="normal";break}}if(yt===""){for(var Dt=0;Dt<He.length;Dt++)if(nt[He[Dt]]){yt=nt[He[Dt]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,dt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,Oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,Oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};p.prototype.setLineDash=function(M){this.lineDash=M},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){H.call(this,"fill",!1)},p.prototype.stroke=function(){H.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(M,W){if(isNaN(M)||isNaN(W))throw Jt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(M,W)},p.prototype.closePath=function(){var M=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Wt(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){M=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},p.prototype.lineTo=function(M,W){if(isNaN(M)||isNaN(W))throw Jt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),H.call(this,null,!0)},p.prototype.quadraticCurveTo=function(M,W,Y,ee){if(isNaN(Y)||isNaN(ee)||isNaN(M)||isNaN(W))throw Jt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ie=this.ctx.transform.applyToPoint(new o(Y,ee)),he=this.ctx.transform.applyToPoint(new o(M,W));this.path.push({type:"qct",x1:he.x,y1:he.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},p.prototype.bezierCurveTo=function(M,W,Y,ee,ie,he){if(isNaN(ie)||isNaN(he)||isNaN(M)||isNaN(W)||isNaN(Y)||isNaN(ee))throw Jt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new o(ie,he)),ve=this.ctx.transform.applyToPoint(new o(M,W)),Fe=this.ctx.transform.applyToPoint(new o(Y,ee));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:Fe.x,y2:Fe.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new o(ye.x,ye.y)},p.prototype.arc=function(M,W,Y,ee,ie,he){if(isNaN(M)||isNaN(W)||isNaN(Y)||isNaN(ee)||isNaN(ie))throw Jt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new o(M,W));M=ye.x,W=ye.y;var ve=this.ctx.transform.applyToPoint(new o(0,Y)),Fe=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(ve.x-Fe.x,2)+Math.pow(ve.y-Fe.y,2))}Math.abs(ie-ee)>=2*Math.PI&&(ee=0,ie=2*Math.PI),this.path.push({type:"arc",x:M,y:W,radius:Y,startAngle:ee,endAngle:ie,counterclockwise:he})},p.prototype.arcTo=function(M,W,Y,ee,ie){throw new Error("arcTo not implemented.")},p.prototype.rect=function(M,W,Y,ee){if(isNaN(M)||isNaN(W)||isNaN(Y)||isNaN(ee))throw Jt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,W),this.lineTo(M+Y,W),this.lineTo(M+Y,W+ee),this.lineTo(M,W+ee),this.lineTo(M,W),this.lineTo(M+Y,W),this.lineTo(M,W)},p.prototype.fillRect=function(M,W,Y,ee){if(isNaN(M)||isNaN(W)||isNaN(Y)||isNaN(ee))throw Jt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ie={};this.lineCap!=="butt"&&(ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,W,Y,ee),this.fill(),ie.hasOwnProperty("lineCap")&&(this.lineCap=ie.lineCap),ie.hasOwnProperty("lineJoin")&&(this.lineJoin=ie.lineJoin)}},p.prototype.strokeRect=function(M,W,Y,ee){if(isNaN(M)||isNaN(W)||isNaN(Y)||isNaN(ee))throw Jt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(M,W,Y,ee),this.stroke())},p.prototype.clearRect=function(M,W,Y,ee){if(isNaN(M)||isNaN(W)||isNaN(Y)||isNaN(ee))throw Jt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,W,Y,ee))},p.prototype.save=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},p.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(W),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(M){var W,Y,ee,ie;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))W=0,Y=0,ee=0,ie=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(he!==null)W=parseInt(he[1]),Y=parseInt(he[2]),ee=parseInt(he[3]),ie=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)W=parseInt(he[1]),Y=parseInt(he[2]),ee=parseInt(he[3]),ie=parseFloat(he[4]);else{if(ie=1,typeof M=="string"&&M.charAt(0)!=="#"){var ye=new aP(M);M=ye.ok?ye.toHex():"#000000"}M.length===4?(W=M.substring(1,2),W+=W,Y=M.substring(2,3),Y+=Y,ee=M.substring(3,4),ee+=ee):(W=M.substring(1,3),Y=M.substring(3,5),ee=M.substring(5,7)),W=parseInt(W,16),Y=parseInt(Y,16),ee=parseInt(ee,16)}}return{r:W,g:Y,b:ee,a:ie,style:M}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(M,W,Y,ee){if(isNaN(W)||isNaN(Y)||typeof M!="string")throw Jt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!m.call(this)){var ie=X(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;k.call(this,{text:M,x:W,y:Y,scale:he,angle:ie,align:this.textAlign,maxWidth:ee})}},p.prototype.strokeText=function(M,W,Y,ee){if(isNaN(W)||isNaN(Y)||typeof M!="string")throw Jt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){ee=isNaN(ee)?void 0:ee;var ie=X(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;k.call(this,{text:M,x:W,y:Y,scale:he,renderingMode:"stroke",angle:ie,align:this.textAlign,maxWidth:ee})}},p.prototype.measureText=function(M){if(typeof M!="string")throw Jt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Y=this.pdf.internal.scaleFactor,ee=W.internal.getFontSize(),ie=W.getStringUnitWidth(M)*ee/W.internal.scaleFactor,he=function(ye){var ve=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this};return new he({width:ie*=Math.round(96*Y/72*1e4)/1e4})},p.prototype.scale=function(M,W){if(isNaN(M)||isNaN(W))throw Jt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new l(M,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},p.prototype.rotate=function(M){if(isNaN(M))throw Jt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.translate=function(M,W){if(isNaN(M)||isNaN(W))throw Jt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new l(1,0,0,1,M,W);this.ctx.transform=this.ctx.transform.multiply(Y)},p.prototype.transform=function(M,W,Y,ee,ie,he){if(isNaN(M)||isNaN(W)||isNaN(Y)||isNaN(ee)||isNaN(ie)||isNaN(he))throw Jt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new l(M,W,Y,ee,ie,he);this.ctx.transform=this.ctx.transform.multiply(ye)},p.prototype.setTransform=function(M,W,Y,ee,ie,he){M=isNaN(M)?1:M,W=isNaN(W)?0:W,Y=isNaN(Y)?0:Y,ee=isNaN(ee)?1:ee,ie=isNaN(ie)?0:ie,he=isNaN(he)?0:he,this.ctx.transform=new l(M,W,Y,ee,ie,he)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(M,W,Y,ee,ie,he,ye,ve,Fe){var Re=this.pdf.getImageProperties(M),ze=1,Be=1,it=1,Se=1;ee!==void 0&&ve!==void 0&&(it=ve/ee,Se=Fe/ie,ze=Re.width/ee*ve/ee,Be=Re.height/ie*Fe/ie),he===void 0&&(he=W,ye=Y,W=0,Y=0),ee!==void 0&&ve===void 0&&(ve=ee,Fe=ie),ee===void 0&&ve===void 0&&(ve=Re.width,Fe=Re.height);for(var Q,gt=this.ctx.transform.decompose(),Ze=X(gt.rotate.shx),De=new l,Ve=(De=(De=(De=De.multiply(gt.translate)).multiply(gt.skew)).multiply(gt.scale)).applyToRectangle(new a(he-W*it,ye-Y*Se,ee*ze,ie*Be)),We=P.call(this,Ve),He=[],tt=0;tt<We.length;tt+=1)He.indexOf(We[tt])===-1&&He.push(We[tt]);if(N(He),this.autoPaging)for(var dt=He[0],yt=He[He.length-1],nt=dt;nt<yt+1;nt++){this.pdf.setPage(nt);var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=nt===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=nt===1?0:at+(nt-2)*Et;if(this.ctx.clip_path.length!==0){var wn=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Q,this.posX+this.margin[3],-Ge+Dt+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=wn}var kt=JSON.parse(JSON.stringify(Ve));kt=b([kt],this.posX+this.margin[3],-Ge+Dt+this.ctx.prevPageLastElemOffset)[0];var $r=(nt>dt||nt<yt)&&x.call(this);$r&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Et,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,Ze),$r&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,Ze)};var P=function(M,W,Y){var ee=[];W=W||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ie=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ee.push(Math.floor((M.y+ie)/Y)+1);break;case"arc":ee.push(Math.floor((M.y+ie-M.radius)/Y)+1),ee.push(Math.floor((M.y+ie+M.radius)/Y)+1);break;case"qct":var he=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ee.push(Math.floor((he.y+ie)/Y)+1),ee.push(Math.floor((he.y+he.h+ie)/Y)+1);break;case"bct":var ye=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ee.push(Math.floor((ye.y+ie)/Y)+1),ee.push(Math.floor((ye.y+ye.h+ie)/Y)+1);break;case"rect":ee.push(Math.floor((M.y+ie)/Y)+1),ee.push(Math.floor((M.y+M.h+ie)/Y)+1)}for(var ve=0;ve<ee.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<ee[ve];)_.call(this);return ee},_=function(){var M=this.fillStyle,W=this.strokeStyle,Y=this.font,ee=this.lineCap,ie=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=W,this.font=Y,this.lineCap=ee,this.lineWidth=ie,this.lineJoin=he},b=function(M,W,Y){for(var ee=0;ee<M.length;ee++)switch(M[ee].type){case"bct":M[ee].x2+=W,M[ee].y2+=Y;case"qct":M[ee].x1+=W,M[ee].y1+=Y;case"mt":case"lt":case"arc":default:M[ee].x+=W,M[ee].y+=Y}return M},N=function(M){return M.sort(function(W,Y){return W-Y})},H=function(M,W){for(var Y,ee,ie=this.fillStyle,he=this.strokeStyle,ye=this.lineCap,ve=this.lineWidth,Fe=Math.abs(ve*this.ctx.transform.scaleX),Re=this.lineJoin,ze=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),it=[],Se=0;Se<Be.length;Se++)if(Be[Se].x!==void 0)for(var Q=P.call(this,Be[Se]),gt=0;gt<Q.length;gt+=1)it.indexOf(Q[gt])===-1&&it.push(Q[gt]);for(var Ze=0;Ze<it.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<it[Ze];)_.call(this);if(N(it),this.autoPaging)for(var De=it[0],Ve=it[it.length-1],We=De;We<Ve+1;We++){this.pdf.setPage(We),this.fillStyle=ie,this.strokeStyle=he,this.lineCap=ye,this.lineWidth=Fe,this.lineJoin=Re;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=We===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=We===1?0:dt+(We-2)*yt;if(this.ctx.clip_path.length!==0){var ut=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Y,this.posX+this.margin[3],-nt+tt+this.ctx.prevPageLastElemOffset),$.call(this,M,!0),this.path=ut}if(ee=JSON.parse(JSON.stringify(ze)),this.path=b(ee,this.posX+this.margin[3],-nt+tt+this.ctx.prevPageLastElemOffset),W===!1||We===0){var Dt=(We>De||We<Ve)&&x.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,yt,null).clip().discardPath()),$.call(this,M,W),Dt&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=Fe,$.call(this,M,W),this.lineWidth=ve;this.path=ze},$=function(M,W){if((M!=="stroke"||W||!A.call(this))&&(M==="stroke"||W||!m.call(this))){for(var Y,ee,ie=[],he=this.path,ye=0;ye<he.length;ye++){var ve=he[ye];switch(ve.type){case"begin":ie.push({begin:!0});break;case"close":ie.push({close:!0});break;case"mt":ie.push({start:ve,deltas:[],abs:[]});break;case"lt":var Fe=ie.length;if(he[ye-1]&&!isNaN(he[ye-1].x)&&(Y=[ve.x-he[ye-1].x,ve.y-he[ye-1].y],Fe>0)){for(;Fe>=0;Fe--)if(ie[Fe-1].close!==!0&&ie[Fe-1].begin!==!0){ie[Fe-1].deltas.push(Y),ie[Fe-1].abs.push(ve);break}}break;case"bct":Y=[ve.x1-he[ye-1].x,ve.y1-he[ye-1].y,ve.x2-he[ye-1].x,ve.y2-he[ye-1].y,ve.x-he[ye-1].x,ve.y-he[ye-1].y],ie[ie.length-1].deltas.push(Y);break;case"qct":var Re=he[ye-1].x+2/3*(ve.x1-he[ye-1].x),ze=he[ye-1].y+2/3*(ve.y1-he[ye-1].y),Be=ve.x+2/3*(ve.x1-ve.x),it=ve.y+2/3*(ve.y1-ve.y),Se=ve.x,Q=ve.y;Y=[Re-he[ye-1].x,ze-he[ye-1].y,Be-he[ye-1].x,it-he[ye-1].y,Se-he[ye-1].x,Q-he[ye-1].y],ie[ie.length-1].deltas.push(Y);break;case"arc":ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(ie[ie.length-1].abs)&&ie[ie.length-1].abs.push(ve)}}ee=W?null:M==="stroke"?"stroke":"fill";for(var gt=!1,Ze=0;Ze<ie.length;Ze++)if(ie[Ze].arc)for(var De=ie[Ze].abs,Ve=0;Ve<De.length;Ve++){var We=De[Ve];We.type==="arc"?E.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,W,!gt):L.call(this,We.x,We.y),gt=!0}else if(ie[Ze].close===!0)this.pdf.internal.out("h"),gt=!1;else if(ie[Ze].begin!==!0){var He=ie[Ze].start.x,tt=ie[Ze].start.y;Z.call(this,ie[Ze].deltas,He,tt),gt=!0}ee&&C.call(this,ee),W&&V.call(this)}},J=function(M){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Y;case"top":return M+W-Y;case"hanging":return M+W-2*Y;case"middle":return M+W/2-Y;case"ideographic":return M;case"alphabetic":default:return M}},O=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(W,Y){this.colorStops.push([W,Y])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(M,W,Y,ee,ie,he,ye,ve,Fe){for(var Re=ge.call(this,Y,ee,ie,he),ze=0;ze<Re.length;ze++){var Be=Re[ze];ze===0&&(Fe?I.call(this,Be.x1+M,Be.y1+W):L.call(this,Be.x1+M,Be.y1+W)),we.call(this,M,W,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}ve?V.call(this):C.call(this,ye)},C=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(M,W){this.pdf.internal.out(n(M)+" "+r(W)+" m")},k=function(M){var W;switch(M.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var Y=this.pdf.getTextDimensions(M.text),ee=J.call(this,M.y),ie=O.call(this,ee)-Y.h,he=this.ctx.transform.applyToPoint(new o(M.x,ee)),ye=this.ctx.transform.decompose(),ve=new l;ve=(ve=(ve=ve.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var Fe,Re,ze,Be=this.ctx.transform.applyToRectangle(new a(M.x,ee,Y.w,Y.h)),it=ve.applyToRectangle(new a(M.x,ie,Y.w,Y.h)),Se=P.call(this,it),Q=[],gt=0;gt<Se.length;gt+=1)Q.indexOf(Se[gt])===-1&&Q.push(Se[gt]);if(N(Q),this.autoPaging)for(var Ze=Q[0],De=Q[Q.length-1],Ve=Ze;Ve<De+1;Ve++){this.pdf.setPage(Ve);var We=Ve===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],dt=tt-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],nt=yt-this.margin[3],ut=Ve===1?0:He+(Ve-2)*dt;if(this.ctx.clip_path.length!==0){var Dt=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Fe,this.posX+this.margin[3],-1*ut+We),$.call(this,"fill",!0),this.path=Dt}var at=b([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-ut+We+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*M.scale),ze=this.lineWidth,this.lineWidth=ze*M.scale);var Et=this.autoPaging!=="text";if(Et||at.y+at.h<=tt){if(Et||at.y>=We&&at.x<=yt){var Ge=Et?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||yt-at.x)[0],wn=b([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-ut+We+this.ctx.prevPageLastElemOffset)[0],kt=Et&&(Ve>Ze||Ve<De)&&x.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,dt,null).clip().discardPath()),this.pdf.text(Ge,wn.x,wn.y,{angle:M.angle,align:W,renderingMode:M.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else at.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-at.y);M.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=ze)}else M.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*M.scale),ze=this.lineWidth,this.lineWidth=ze*M.scale),this.pdf.text(M.text,he.x+this.posX,he.y+this.posY,{angle:M.angle,align:W,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=ze)},L=function(M,W,Y,ee){Y=Y||0,ee=ee||0,this.pdf.internal.out(n(M+Y)+" "+r(W+ee)+" l")},Z=function(M,W,Y){return this.pdf.lines(M,W,Y,null,null)},we=function(M,W,Y,ee,ie,he,ye,ve){this.pdf.internal.out([e(i(Y+M)),e(s(ee+W)),e(i(ie+M)),e(s(he+W)),e(i(ye+M)),e(s(ve+W)),"c"].join(" "))},ge=function(M,W,Y,ee){for(var ie=2*Math.PI,he=Math.PI/2;W>Y;)W-=ie;var ye=Math.abs(Y-W);ye<ie&&ee&&(ye=ie-ye);for(var ve=[],Fe=ee?-1:1,Re=W;ye>1e-5;){var ze=Re+Fe*Math.min(ye,he);ve.push(me.call(this,M,Re,ze)),ye-=Math.abs(ze-Re),Re=ze}return ve},me=function(M,W,Y){var ee=(Y-W)/2,ie=M*Math.cos(ee),he=M*Math.sin(ee),ye=ie,ve=-he,Fe=ye*ye+ve*ve,Re=Fe+ye*ie+ve*he,ze=4/3*(Math.sqrt(2*Fe*Re)-Re)/(ye*he-ve*ie),Be=ye-ze*ve,it=ve+ze*ye,Se=Be,Q=-it,gt=ee+W,Ze=Math.cos(gt),De=Math.sin(gt);return{x1:M*Math.cos(W),y1:M*Math.sin(W),x2:Be*Ze-it*De,y2:Be*De+it*Ze,x3:Se*Ze-Q*De,y3:Se*De+Q*Ze,x4:M*Math.cos(Y),y4:M*Math.sin(Y)}},X=function(M){return 180*M/Math.PI},ue=function(M,W,Y,ee,ie,he){var ye=M+.5*(Y-M),ve=W+.5*(ee-W),Fe=ie+.5*(Y-ie),Re=he+.5*(ee-he),ze=Math.min(M,ie,ye,Fe),Be=Math.max(M,ie,ye,Fe),it=Math.min(W,he,ve,Re),Se=Math.max(W,he,ve,Re);return new a(ze,it,Be-ze,Se-it)},ce=function(M,W,Y,ee,ie,he,ye,ve){var Fe,Re,ze,Be,it,Se,Q,gt,Ze,De,Ve,We,He,tt,dt=Y-M,yt=ee-W,nt=ie-Y,ut=he-ee,Dt=ye-ie,at=ve-he;for(Re=0;Re<41;Re++)Ze=(Q=(ze=M+(Fe=Re/40)*dt)+Fe*((it=Y+Fe*nt)-ze))+Fe*(it+Fe*(ie+Fe*Dt-it)-Q),De=(gt=(Be=W+Fe*yt)+Fe*((Se=ee+Fe*ut)-Be))+Fe*(Se+Fe*(he+Fe*at-Se)-gt),Re==0?(Ve=Ze,We=De,He=Ze,tt=De):(Ve=Math.min(Ve,Ze),We=Math.min(We,De),He=Math.max(He,Ze),tt=Math.max(tt,De));return new a(Math.round(Ve),Math.round(We),Math.round(He-Ve),Math.round(tt-We))},Oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,W,Y=(M=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:W}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(ct.API),function(t){var e=function(s){var o,a,l,u,d,p,g,m,A,x;for(a=[],l=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(p=(d=((d=((d=((d=(d-(x=d%85))/85)-(A=d%85))/85)-(m=d%85))/85)-(g=d%85))/85)%85,a.push(p+33,g+33,m+33,A+33,x+33)):a.push(122);return function(P,_){for(var b=_;b>0;b--)P.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,u,d,p=String,g="length",m=255,A="charCodeAt",x="slice",P="replace";for(s[x](-2),s=s[x](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),l=[],u=0,d=(s+=o="uuuuu"[x](s[g]%5||5))[g];d>u;u+=5)a=52200625*(s[A](u)-33)+614125*(s[A](u+1)-33)+7225*(s[A](u+2)-33)+85*(s[A](u+3)-33)+(s[A](u+4)-33),l.push(m&a>>24,m&a>>16,m&a>>8,m&a);return function(_,b){for(var N=b;N>0;N--)_.pop()}(l,o[g]),p.fromCharCode.apply(p,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=Yy(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ct.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,d){var p=new XMLHttpRequest,g=0,m=function(A){var x=A.length,P=[],_=String.fromCharCode;for(g=0;g<x;g+=1)P.push(_(255&A.charCodeAt(g)));return P.join("")};if(p.open("GET",l,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?d(m(this.responseText)):d(void 0)}),p.send(null),u&&p.status===200)return m(p.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(ct.API),function(t){function e(){return(ht.html2canvas?Promise.resolve(ht.html2canvas):Hy(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(ht.DOMPurify?Promise.resolve(ht.DOMPurify):Hy(()=>import("./purify.es-D-QPbZEk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Wt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var u in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[u]=a.style[u];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(u,d){for(var p=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)d!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(l(g,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(p.width=u.width,p.height=u.height,p.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(p.value=u.value),p.addEventListener("load",function(){p.scrollTop=u.scrollTop,p.scrollLeft=u.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var g=0;g<u.length;++g){var m=u[g],A=m.src.find(function(x){return x.format==="truetype"});A&&l.addFont(A.url,m.ref.name,m.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),a(this.prop.container,p)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,u){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,u){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,u),p}).then(u,d).then(function(p){return l.updateProgress(1),p})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=l.call(u,o,a);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ct.getPageSize=function(o,a,l){if(Wt(o)==="object"){var u=o;o=u.orientation,a=u.unit||a,l=u.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,p=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var m,A=0,x=0;if(g.hasOwnProperty(p))A=g[p][1]/d,x=g[p][0]/d;else try{A=l[1],x=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",x>A&&(m=x,x=A,A=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",A>x&&(m=x,x=A,A=m)}return{width:x,height:A,unit:a,k:d,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(tv):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(ct.API),ct.API.addJS=function(t){return w4=t,this.internal.events.subscribe("postPutResources",function(){up=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(up+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),v4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+w4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){up!==void 0&&v4!==void 0&&this.internal.out("/Names <</JavaScript "+up+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var p=n.internal.newObject();d.push(p);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<d.length;s++)n.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),A=p.length,x={width:0,height:0,numcomponents:1},P=4;P<A;P+=2){if(P+=m,e.indexOf(p.charCodeAt(P+1))!==-1){g=256*p.charCodeAt(P+5)+p.charCodeAt(P+6),x={width:256*p.charCodeAt(P+7)+p.charCodeAt(P+8),height:g,numcomponents:p.charCodeAt(P+9)};break}m=256*p.charCodeAt(P+2)+p.charCodeAt(P+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return d}}(ct.API);var Mu,cp,_4,b4,x4,aU=function(){var t,e,n;function r(s){var o,a,l,u,d,p,g,m,A,x,P,_,b,N;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),A=(function(){var H,$;for($=[],H=0;H<4;++H)$.push(String.fromCharCode(this.data[this.pos++]));return $}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,p.delay=1e3*d/u,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(A==="fdAT"&&(this.pos+=4,o-=4),s=(p!=null?p.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((x=l-this.transparency.indexed.length)>0)for(b=0;0<=x?b<x:b>x;0<=x?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(P=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,P.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,P.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(p,g,m,A){var x,P,_,b,N,H,$,J,O,E,C,V,I,k,L,Z,we,ge,me,X,ue,ce=Math.ceil((u.width-p)/m),Oe=Math.ceil((u.height-g)/A),M=u.width==ce&&u.height==Oe;for(k=o*ce,V=M?a:new Uint8Array(k*Oe),H=s.length,I=0,P=0;I<Oe&&l<H;){switch(s[l++]){case 0:for(b=we=0;we<k;b=we+=1)V[P++]=s[l++];break;case 1:for(b=ge=0;ge<k;b=ge+=1)x=s[l++],N=b<o?0:V[P-o],V[P++]=(x+N)%256;break;case 2:for(b=me=0;me<k;b=me+=1)x=s[l++],_=(b-b%o)/o,L=I&&V[(I-1)*k+_*o+b%o],V[P++]=(L+x)%256;break;case 3:for(b=X=0;X<k;b=X+=1)x=s[l++],_=(b-b%o)/o,N=b<o?0:V[P-o],L=I&&V[(I-1)*k+_*o+b%o],V[P++]=(x+Math.floor((N+L)/2))%256;break;case 4:for(b=ue=0;ue<k;b=ue+=1)x=s[l++],_=(b-b%o)/o,N=b<o?0:V[P-o],I===0?L=Z=0:(L=V[(I-1)*k+_*o+b%o],Z=_&&V[(I-1)*k+(_-1)*o+b%o]),$=N+L-Z,J=Math.abs($-N),E=Math.abs($-L),C=Math.abs($-Z),O=J<=E&&J<=C?N:E<=C?L:Z,V[P++]=(x+O)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!M){var W=((g+I*A)*u.width+p)*o,Y=I*k;for(b=0;b<ce;b+=1){for(var ee=0;ee<o;ee+=1)a[W++]=V[Y++];W+=(m-1)*o}}I++}}return s=VB(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,u,d,p,g,m;for(a=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+a.length),l=0,s=0,o=p=0,g=a.length;p<g;o=p+=3)u[l++]=a[o],u[l++]=a[o+1],u[l++]=a[o+2],u[l++]=(m=d[s++])!=null?m:255;return u},r.prototype.copyToImageData=function(s,o){var a,l,u,d,p,g,m,A,x,P,_;if(l=this.colors,x=null,a=this.hasAlphaChannel,this.palette.length&&(x=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,a=!0),A=(u=s.data||s).length,p=x||o,d=g=0,l===1)for(;d<A;)m=x?4*o[d/4]:g,P=p[m++],u[d++]=P,u[d++]=P,u[d++]=P,u[d++]=a?p[m++]:255,g=m;else for(;d<A;)m=x?4*o[d/4]:g,u[d++]=p[m++],u[d++]=p[m++],u[d++]=p[m++],u[d++]=a?p[m++]:255,g=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ht)==="[object Window]"){try{e=ht.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,u,d,p,g,m;if(this.animation){for(m=[],a=d=0,p=(g=this.animation.frames).length;d<p;a=++d)o=g[a],l=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,m.push(o.image=t(l));return m}},r.prototype.renderFrame=function(s,o){var a,l,u;return a=(l=this.animation.frames)[o],u=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,u,d,p,g=this;return a=0,p=this.animation,u=p.numFrames,l=p.frames,d=p.numPlays,(o=function(){var m,A;if(m=a++%u,A=l[m],g.renderFrame(s,m),u>1&&a/u<d)return g.animation._timeout=setTimeout(o,A.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function lU(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,d=[],p=0,g=null,m=0,A=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,A=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];p=t[e++]|t[e++]<<8,g=t[e++],!(1&x)&&(g=null),m=x>>2&7,e++;break;case 254:for(;;){if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var P=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,H=t[e++],$=H>>6&1,J=1<<(7&H)+1,O=a,E=l,C=!1;H>>7&&(C=!0,O=e,E=J,e+=3*J);var V=e;for(e++;;){var I;if(!((I=t[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}d.push({x:P,y:_,width:b,height:N,has_local_palette:C,palette_offset:O,palette_size:E,data_offset:V,data_length:e-V,transparent_index:g,interlaced:!!$,delay:p,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return A},this.frameInfo=function(k){if(k<0||k>=d.length)throw new Error("Frame index out of range.");return d[k]},this.decodeAndBlitFrameBGRA=function(k,L){var Z=this.frameInfo(k),we=Z.width*Z.height,ge=new Uint8Array(we);S4(t,Z.data_offset,ge,we);var me=Z.palette_offset,X=Z.transparent_index;X===null&&(X=256);var ue=Z.width,ce=n-ue,Oe=ue,M=4*(Z.y*n+Z.x),W=4*((Z.y+Z.height)*n+Z.x),Y=M,ee=4*ce;Z.interlaced===!0&&(ee+=4*n*7);for(var ie=8,he=0,ye=ge.length;he<ye;++he){var ve=ge[he];if(Oe===0&&(Oe=ue,(Y+=ee)>=W&&(ee=4*ce+4*n*(ie-1),Y=M+(ue+ce)*(ie<<1),ie>>=1)),ve===X)Y+=4;else{var Fe=t[me+3*ve],Re=t[me+3*ve+1],ze=t[me+3*ve+2];L[Y++]=ze,L[Y++]=Re,L[Y++]=Fe,L[Y++]=255}--Oe}},this.decodeAndBlitFrameRGBA=function(k,L){var Z=this.frameInfo(k),we=Z.width*Z.height,ge=new Uint8Array(we);S4(t,Z.data_offset,ge,we);var me=Z.palette_offset,X=Z.transparent_index;X===null&&(X=256);var ue=Z.width,ce=n-ue,Oe=ue,M=4*(Z.y*n+Z.x),W=4*((Z.y+Z.height)*n+Z.x),Y=M,ee=4*ce;Z.interlaced===!0&&(ee+=4*n*7);for(var ie=8,he=0,ye=ge.length;he<ye;++he){var ve=ge[he];if(Oe===0&&(Oe=ue,(Y+=ee)>=W&&(ee=4*ce+4*n*(ie-1),Y=M+(ue+ce)*(ie<<1),ie>>=1)),ve===X)Y+=4;else{var Fe=t[me+3*ve],Re=t[me+3*ve+1],ze=t[me+3*ve+2];L[Y++]=Fe,L[Y++]=Re,L[Y++]=ze,L[Y++]=255}--Oe}}}function S4(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,d=0,p=0,g=0,m=t[e++],A=new Int32Array(4096),x=null;;){for(;d<16&&m!==0;)p|=t[e++]<<d,d+=8,m===1?m=t[e++]:--m;if(d<l)break;var P=p&u;if(p>>=l,d-=l,P!==s){if(P===o)break;for(var _=P<a?P:x,b=0,N=_;N>s;)N=A[N]>>8,++b;var H=N;if(g+b+(_!==P?1:0)>r)return void Jt.log("Warning, gif stream longer than expected.");n[g++]=H;var $=g+=b;for(_!==P&&(n[g++]=H),N=_;b--;)N=A[N],n[--$]=255&N,N>>=8;x!==null&&a<4096&&(A[a++]=x<<8|H,a>=u+1&&l<12&&(++l,u=u<<1|1)),x=P}else a=o+1,u=(1<<(l=i+1))-1,x=null}return g!==r&&Jt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function r1(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),A=new Array(64),x=[],P=0,_=7,b=new Array(64),N=new Array(64),H=new Array(64),$=new Array(256),J=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge(M,W){for(var Y=0,ee=0,ie=new Array,he=1;he<=16;he++){for(var ye=1;ye<=M[he];ye++)ie[W[ee]]=[],ie[W[ee]][0]=Y,ie[W[ee]][1]=he,ee++,Y++;Y*=2}return ie}function me(M){for(var W=M[0],Y=M[1]-1;Y>=0;)W&1<<Y&&(P|=1<<_),Y--,--_<0&&(P==255?(X(255),X(0)):X(P),_=7,P=0)}function X(M){x.push(M)}function ue(M){X(M>>8&255),X(255&M)}function ce(M,W,Y,ee,ie){for(var he,ye=ie[0],ve=ie[240],Fe=function(De,Ve){var We,He,tt,dt,yt,nt,ut,Dt,at,Et,Ge=0;for(at=0;at<8;++at){We=De[Ge],He=De[Ge+1],tt=De[Ge+2],dt=De[Ge+3],yt=De[Ge+4],nt=De[Ge+5],ut=De[Ge+6];var wn=We+(Dt=De[Ge+7]),kt=We-Dt,$r=He+ut,Vt=He-ut,Zt=tt+nt,Pi=tt-nt,Lt=dt+yt,_s=dt-yt,sn=wn+Lt,nr=wn-Lt,ai=$r+Zt,en=$r-Zt;De[Ge]=sn+ai,De[Ge+4]=sn-ai;var st=.707106781*(en+nr);De[Ge+2]=nr+st,De[Ge+6]=nr-st;var Ot=.382683433*((sn=_s+Pi)-(en=Vt+kt)),Ni=.5411961*sn+Ot,Fn=1.306562965*en+Ot,mr=.707106781*(ai=Pi+Vt),li=kt+mr,Ye=kt-mr;De[Ge+5]=Ye+Ni,De[Ge+3]=Ye-Ni,De[Ge+1]=li+Fn,De[Ge+7]=li-Fn,Ge+=8}for(Ge=0,at=0;at<8;++at){We=De[Ge],He=De[Ge+8],tt=De[Ge+16],dt=De[Ge+24],yt=De[Ge+32],nt=De[Ge+40],ut=De[Ge+48];var Wr=We+(Dt=De[Ge+56]),gr=We-Dt,jn=He+ut,In=He-ut,_n=tt+nt,Vn=tt-nt,Bo=dt+yt,Gi=dt-yt,yr=Wr+Bo,Gr=Wr-Bo,Or=jn+_n,Mr=jn-_n;De[Ge]=yr+Or,De[Ge+32]=yr-Or;var Pn=.707106781*(Mr+Gr);De[Ge+16]=Gr+Pn,De[Ge+48]=Gr-Pn;var ui=.382683433*((yr=Gi+Vn)-(Mr=In+gr)),bs=.5411961*yr+ui,xs=1.306562965*Mr+ui,Ss=.707106781*(Or=Vn+In),Xs=gr+Ss,Js=gr-Ss;De[Ge+40]=Js+bs,De[Ge+24]=Js-bs,De[Ge+8]=Xs+xs,De[Ge+56]=Xs-xs,Ge++}for(at=0;at<64;++at)Et=De[at]*Ve[at],m[at]=Et>0?Et+.5|0:Et-.5|0;return m}(M,W),Re=0;Re<64;++Re)A[O[Re]]=Fe[Re];var ze=A[0]-Y;Y=A[0],ze==0?me(ee[0]):(me(ee[g[he=32767+ze]]),me(p[he]));for(var Be=63;Be>0&&A[Be]==0;)Be--;if(Be==0)return me(ye),Y;for(var it,Se=1;Se<=Be;){for(var Q=Se;A[Se]==0&&Se<=Be;)++Se;var gt=Se-Q;if(gt>=16){it=gt>>4;for(var Ze=1;Ze<=it;++Ze)me(ve);gt&=15}he=32767+A[Se],me(ie[(gt<<4)+g[he]]),me(p[he]),Se++}return Be!=63&&me(ye),Y}function Oe(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(W){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var ie=o((Y[ee]*W+50)/100);ie=Math.min(Math.max(ie,1),255),a[O[ee]]=ie}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var ve=o((he[ye]*W+50)/100);ve=Math.min(Math.max(ve,1),255),l[O[ye]]=ve}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,ze=0;ze<8;ze++)for(var Be=0;Be<8;Be++)u[Re]=1/(a[O[Re]]*Fe[ze]*Fe[Be]*8),d[Re]=1/(l[O[Re]]*Fe[ze]*Fe[Be]*8),Re++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,W){W&&Oe(W),x=new Array,P=0,_=7,ue(65496),ue(65504),ue(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ue(1),ue(1),X(0),X(0),function(){ue(65499),ue(132),X(0);for(var He=0;He<64;He++)X(a[He]);X(1);for(var tt=0;tt<64;tt++)X(l[tt])}(),function(He,tt){ue(65472),ue(17),X(8),ue(tt),ue(He),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(M.width,M.height),function(){ue(65476),ue(418),X(0);for(var He=0;He<16;He++)X(E[He+1]);for(var tt=0;tt<=11;tt++)X(C[tt]);X(16);for(var dt=0;dt<16;dt++)X(V[dt+1]);for(var yt=0;yt<=161;yt++)X(I[yt]);X(1);for(var nt=0;nt<16;nt++)X(k[nt+1]);for(var ut=0;ut<=11;ut++)X(L[ut]);X(17);for(var Dt=0;Dt<16;Dt++)X(Z[Dt+1]);for(var at=0;at<=161;at++)X(we[at])}(),ue(65498),ue(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var Y=0,ee=0,ie=0;P=0,_=7,this.encode.displayName="_encode_";for(var he,ye,ve,Fe,Re,ze,Be,it,Se,Q=M.data,gt=M.width,Ze=M.height,De=4*gt,Ve=0;Ve<Ze;){for(he=0;he<De;){for(Re=De*Ve+he,Be=-1,it=0,Se=0;Se<64;Se++)ze=Re+(it=Se>>3)*De+(Be=4*(7&Se)),Ve+it>=Ze&&(ze-=De*(Ve+1+it-Ze)),he+Be>=De&&(ze-=he+Be-De+4),ye=Q[ze++],ve=Q[ze++],Fe=Q[ze++],b[Se]=(J[ye]+J[ve+256>>0]+J[Fe+512>>0]>>16)-128,N[Se]=(J[ye+768>>0]+J[ve+1024>>0]+J[Fe+1280>>0]>>16)-128,H[Se]=(J[ye+1280>>0]+J[ve+1536>>0]+J[Fe+1792>>0]>>16)-128;Y=ce(b,u,Y,e,r),ee=ce(N,d,ee,n,i),ie=ce(H,d,ie,n,i),he+=32}Ve+=8}if(_>=0){var We=[];We[1]=_+1,We[0]=(1<<_+1)-1,me(We)}return ue(65497),new Uint8Array(x)},t=t||50,function(){for(var M=String.fromCharCode,W=0;W<256;W++)$[W]=M(W)}(),e=ge(E,C),n=ge(k,L),r=ge(V,I),i=ge(Z,we),function(){for(var M=1,W=2,Y=1;Y<=15;Y++){for(var ee=M;ee<W;ee++)g[32767+ee]=Y,p[32767+ee]=[],p[32767+ee][1]=Y,p[32767+ee][0]=ee;for(var ie=-(W-1);ie<=-M;ie++)g[32767+ie]=Y,p[32767+ie]=[],p[32767+ie][1]=Y,p[32767+ie][0]=W-1+ie;M<<=1,W<<=1}}(),function(){for(var M=0;M<256;M++)J[M]=19595*M,J[M+256>>0]=38470*M,J[M+512>>0]=7471*M+32768,J[M+768>>0]=-11059*M,J[M+1024>>0]=-21709*M,J[M+1280>>0]=32768*M+8421375,J[M+1536>>0]=-27439*M,J[M+1792>>0]=-5329*M}(),Oe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function os(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function A4(t){function e(E){if(!E)throw Error("assert :P")}function n(E,C,V){for(var I=0;4>I;I++)if(E[C+I]!=V.charCodeAt(I))return!0;return!1}function r(E,C,V,I,k){for(var L=0;L<k;L++)E[C+L]=V[I+L]}function i(E,C,V,I){for(var k=0;k<I;k++)E[C+k]=V}function s(E){return new Int32Array(E)}function o(E,C){for(var V=[],I=0;I<E;I++)V.push(new C);return V}function a(E,C){var V=[];return function I(k,L,Z){for(var we=Z[L],ge=0;ge<we&&(k.push(Z.length>L+1?[]:new C),!(Z.length<L+1));ge++)I(k[ge],L+1,Z)}(V,0,E),V}var l=function(){var E=this;function C(c,f){for(var v=1<<f-1>>>0;c&v;)v>>>=1;return v?(c&v-1)+v:c}function V(c,f,v,S,D){e(!(S%v));do c[f+(S-=v)]=D;while(0<S)}function I(c,f,v,S,D){if(e(2328>=D),512>=D)var F=s(512);else if((F=s(D))==null)return 0;return function(j,z,q,G,ne,de){var fe,le,Te=z,_e=1<<q,re=s(16),se=s(16);for(e(ne!=0),e(G!=null),e(j!=null),e(0<q),le=0;le<ne;++le){if(15<G[le])return 0;++re[G[le]]}if(re[0]==ne)return 0;for(se[1]=0,fe=1;15>fe;++fe){if(re[fe]>1<<fe)return 0;se[fe+1]=se[fe]+re[fe]}for(le=0;le<ne;++le)fe=G[le],0<G[le]&&(de[se[fe]++]=le);if(se[15]==1)return(G=new k).g=0,G.value=de[0],V(j,Te,1,_e,G),_e;var Ae,Pe=-1,Ee=_e-1,Ke=0,Ue=1,ot=1,$e=1<<q;for(le=0,fe=1,ne=2;fe<=q;++fe,ne<<=1){if(Ue+=ot<<=1,0>(ot-=re[fe]))return 0;for(;0<re[fe];--re[fe])(G=new k).g=fe,G.value=de[le++],V(j,Te+Ke,ne,$e,G),Ke=C(Ke,fe)}for(fe=q+1,ne=2;15>=fe;++fe,ne<<=1){if(Ue+=ot<<=1,0>(ot-=re[fe]))return 0;for(;0<re[fe];--re[fe]){if(G=new k,(Ke&Ee)!=Pe){for(Te+=$e,Ae=1<<(Pe=fe)-q;15>Pe&&!(0>=(Ae-=re[Pe]));)++Pe,Ae<<=1;_e+=$e=1<<(Ae=Pe-q),j[z+(Pe=Ke&Ee)].g=Ae+q,j[z+Pe].value=Te-z-Pe}G.g=fe-q,G.value=de[le++],V(j,Te+(Ke>>q),ne,$e,G),Ke=C(Ke,fe)}}return Ue!=2*se[15]-1?0:_e}(c,f,v,S,D,F)}function k(){this.value=this.g=0}function L(){this.value=this.g=0}function Z(){this.G=o(5,k),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(sr,L)}function we(c,f,v,S){e(c!=null),e(f!=null),e(2147483648>S),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=f,c.pa=v,c.Jd=f,c.Yc=v+S,c.Zc=4<=S?v+S-4+1:v,he(c)}function ge(c,f){for(var v=0;0<f--;)v|=ve(c,128)<<f;return v}function me(c,f){var v=ge(c,f);return ye(c)?-v:v}function X(c,f,v,S){var D,F=0;for(e(c!=null),e(f!=null),e(4294967288>S),c.Sb=S,c.Ra=0,c.u=0,c.h=0,4<S&&(S=4),D=0;D<S;++D)F+=f[v+D]<<8*D;c.Ra=F,c.bb=S,c.oa=f,c.pa=v}function ue(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Au-8>>>0,++c.bb,c.u-=8;Y(c)&&(c.h=1,c.u=0)}function ce(c,f){if(e(0<=f),!c.h&&f<=Su){var v=W(c)&xu[f];return c.u+=f,ue(c),v}return c.h=1,c.u=0}function Oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(c){return c.Ra>>>(c.u&Au-1)>>>0}function Y(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Au}function ee(c,f){c.u=f,c.h=Y(c)}function ie(c){c.u>=oh&&(e(c.u>=oh),ue(c))}function he(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ye(c){return ge(c,1)}function ve(c,f){var v=c.Ca;0>c.b&&he(c);var S=c.b,D=v*f>>>8,F=(c.I>>>S>D)+0;for(F?(v-=D,c.I-=D+1<<S>>>0):v=D+1,S=v,D=0;256<=S;)D+=8,S>>=8;return S=7^D+Yr[S],c.b-=S,c.Ca=(v<<S)-1,F}function Fe(c,f,v){c[f+0]=v>>24&255,c[f+1]=v>>16&255,c[f+2]=v>>8&255,c[f+3]=v>>0&255}function Re(c,f){return c[f+0]<<0|c[f+1]<<8}function ze(c,f){return Re(c,f)|c[f+2]<<16}function Be(c,f){return Re(c,f)|Re(c,f+2)<<16}function it(c,f){var v=1<<f;return e(c!=null),e(0<f),c.X=s(v),c.X==null?0:(c.Mb=32-f,c.Xa=f,1)}function Se(c,f){e(c!=null),e(f!=null),e(c.Xa==f.Xa),r(f.X,0,c.X,0,1<<f.Xa)}function Q(){this.X=[],this.Xa=this.Mb=0}function gt(c,f,v,S){e(v!=null),e(S!=null);var D=v[0],F=S[0];return D==0&&(D=(c*F+f/2)/f),F==0&&(F=(f*D+c/2)/c),0>=D||0>=F?0:(v[0]=D,S[0]=F,1)}function Ze(c,f){return c+(1<<f)-1>>>f}function De(c,f){return((4278255360&c)+(4278255360&f)>>>0&4278255360)+((16711935&c)+(16711935&f)>>>0&16711935)>>>0}function Ve(c,f){E[f]=function(v,S,D,F,j,z,q){var G;for(G=0;G<j;++G){var ne=E[c](z[q+G-1],D,F+G);z[q+G]=De(v[S+G],ne)}}}function We(){this.ud=this.hd=this.jd=0}function He(c,f){return((4278124286&(c^f))>>>1)+(c&f)>>>0}function tt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function dt(c,f){return tt(c+(c-f+.5>>1))}function yt(c,f,v){return Math.abs(f-v)-Math.abs(c-v)}function nt(c,f,v,S,D,F,j){for(S=F[j-1],v=0;v<D;++v)F[j+v]=S=De(c[f+v],S)}function ut(c,f,v,S,D){var F;for(F=0;F<v;++F){var j=c[f+F],z=j>>8&255,q=16711935&(q=(q=16711935&j)+((z<<16)+z));S[D+F]=(4278255360&j)+q>>>0}}function Dt(c,f){f.jd=c>>0&255,f.hd=c>>8&255,f.ud=c>>16&255}function at(c,f,v,S,D,F){var j;for(j=0;j<S;++j){var z=f[v+j],q=z>>>8,G=z,ne=255&(ne=(ne=z>>>16)+((c.jd<<24>>24)*(q<<24>>24)>>>5));G=255&(G=(G=G+((c.hd<<24>>24)*(q<<24>>24)>>>5))+((c.ud<<24>>24)*(ne<<24>>24)>>>5)),D[F+j]=(4278255360&z)+(ne<<16)+G}}function Et(c,f,v,S,D){E[f]=function(F,j,z,q,G,ne,de,fe,le){for(q=de;q<fe;++q)for(de=0;de<le;++de)G[ne++]=D(z[S(F[j++])])},E[c]=function(F,j,z,q,G,ne,de){var fe=8>>F.b,le=F.Ea,Te=F.K[0],_e=F.w;if(8>fe)for(F=(1<<F.b)-1,_e=(1<<fe)-1;j<z;++j){var re,se=0;for(re=0;re<le;++re)re&F||(se=S(q[G++])),ne[de++]=D(Te[se&_e]),se>>=fe}else E["VP8LMapColor"+v](q,G,Te,_e,ne,de,j,z,le)}}function Ge(c,f,v,S,D){for(v=f+v;f<v;){var F=c[f++];S[D++]=F>>16&255,S[D++]=F>>8&255,S[D++]=F>>0&255}}function wn(c,f,v,S,D){for(v=f+v;f<v;){var F=c[f++];S[D++]=F>>16&255,S[D++]=F>>8&255,S[D++]=F>>0&255,S[D++]=F>>24&255}}function kt(c,f,v,S,D){for(v=f+v;f<v;){var F=(j=c[f++])>>16&240|j>>12&15,j=j>>0&240|j>>28&15;S[D++]=F,S[D++]=j}}function $r(c,f,v,S,D){for(v=f+v;f<v;){var F=(j=c[f++])>>16&248|j>>13&7,j=j>>5&224|j>>3&31;S[D++]=F,S[D++]=j}}function Vt(c,f,v,S,D){for(v=f+v;f<v;){var F=c[f++];S[D++]=F>>0&255,S[D++]=F>>8&255,S[D++]=F>>16&255}}function Zt(c,f,v,S,D,F){if(F==0)for(v=f+v;f<v;)Fe(S,((F=c[f++])[0]>>24|F[1]>>8&65280|F[2]<<8&16711680|F[3]<<24)>>>0),D+=32;else r(S,D,c,f,v)}function Pi(c,f){E[f][0]=E[c+"0"],E[f][1]=E[c+"1"],E[f][2]=E[c+"2"],E[f][3]=E[c+"3"],E[f][4]=E[c+"4"],E[f][5]=E[c+"5"],E[f][6]=E[c+"6"],E[f][7]=E[c+"7"],E[f][8]=E[c+"8"],E[f][9]=E[c+"9"],E[f][10]=E[c+"10"],E[f][11]=E[c+"11"],E[f][12]=E[c+"12"],E[f][13]=E[c+"13"],E[f][14]=E[c+"0"],E[f][15]=E[c+"0"]}function Lt(c){return c==Dg||c==Og||c==bf||c==Mg}function _s(){this.eb=[],this.size=this.A=this.fb=0}function sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function nr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _s,this.f.kb=new sn,this.sd=null}function ai(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function en(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function st(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Ot(c,f){var v=c.T,S=f.ba.f.RGBA,D=S.eb,F=S.fb+c.ka*S.A,j=Mi[f.ba.S],z=c.y,q=c.O,G=c.f,ne=c.N,de=c.ea,fe=c.W,le=f.cc,Te=f.dc,_e=f.Mc,re=f.Nc,se=c.ka,Ae=c.ka+c.T,Pe=c.U,Ee=Pe+1>>1;for(se==0?j(z,q,null,null,G,ne,de,fe,G,ne,de,fe,D,F,null,null,Pe):(j(f.ec,f.fc,z,q,le,Te,_e,re,G,ne,de,fe,D,F-S.A,D,F,Pe),++v);se+2<Ae;se+=2)le=G,Te=ne,_e=de,re=fe,ne+=c.Rc,fe+=c.Rc,F+=2*S.A,j(z,(q+=2*c.fa)-c.fa,z,q,le,Te,_e,re,G,ne,de,fe,D,F-S.A,D,F,Pe);return q+=c.fa,c.j+Ae<c.o?(r(f.ec,f.fc,z,q,Pe),r(f.cc,f.dc,G,ne,Ee),r(f.Mc,f.Nc,de,fe,Ee),v--):1&Ae||j(z,q,null,null,G,ne,de,fe,G,ne,de,fe,D,F+S.A,null,null,Pe),v}function Ni(c,f,v){var S=c.F,D=[c.J];if(S!=null){var F=c.U,j=f.ba.S,z=j==_f||j==bf;f=f.ba.f.RGBA;var q=[0],G=c.ka;q[0]=c.T,c.Kb&&(G==0?--q[0]:(--G,D[0]-=c.width),c.j+c.ka+c.T==c.o&&(q[0]=c.o-c.j-G));var ne=f.eb;G=f.fb+G*f.A,c=nn(S,D[0],c.width,F,q,ne,G+(z?0:3),f.A),e(v==q),c&&Lt(j)&&Di(ne,G,z,F,q,f.A)}return 0}function Fn(c){var f=c.ma,v=f.ba.S,S=11>v,D=v==vf||v==wf||v==_f||v==Rg||v==12||Lt(v);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!ih(f.Oa,c,D?11:12))return 0;if(D&&Lt(v)&&Ne(),c.da)alert("todo:use_scaling");else{if(S){if(f.Ib=st,c.Kb){if(v=c.U+1>>1,f.memory=s(c.U+2*v),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+c.U,f.Mc=f.cc,f.Nc=f.dc+v,f.Ib=Ot,Ne()}}else alert("todo:EmitYUV");D&&(f.Jb=Ni,S&&ae())}if(S&&!U5){for(c=0;256>c;++c)jP[c]=89858*(c-128)+Sf>>xf,UP[c]=-22014*(c-128)+Sf,BP[c]=-45773*(c-128),VP[c]=113618*(c-128)+Sf>>xf;for(c=fh;c<Vg;++c)f=76283*(c-16)+Sf>>xf,zP[c-fh]=zt(f,255),qP[c-fh]=zt(f+8>>4,15);U5=1}return 1}function mr(c){var f=c.ma,v=c.U,S=c.T;return e(!(1&c.ka)),0>=v||0>=S?0:(v=f.Ib(c,f),f.Jb!=null&&f.Jb(c,f,v),f.Dc+=v,1)}function li(c){c.ma.memory=null}function Ye(c,f,v,S){return ce(c,8)!=47?0:(f[0]=ce(c,14)+1,v[0]=ce(c,14)+1,S[0]=ce(c,1),ce(c,3)!=0?0:!c.h)}function Wr(c,f){if(4>c)return c+1;var v=c-2>>1;return(2+(1&c)<<v)+ce(f,v)+1}function gr(c,f){return 120<f?f-120:1<=(v=((v=AP[f-1])>>4)*c+(8-(15&v)))?v:1;var v}function jn(c,f,v){var S=W(v),D=c[f+=255&S].g-8;return 0<D&&(ee(v,v.u+8),S=W(v),f+=c[f].value,f+=S&(1<<D)-1),ee(v,v.u+c[f].g),c[f].value}function In(c,f,v){return v.g+=c.g,v.value+=c.value<<f>>>0,e(8>=v.g),c.g}function _n(c,f,v){var S=c.xc;return e((f=S==0?0:c.vc[c.md*(v>>S)+(f>>S)])<c.Wb),c.Ya[f]}function Vn(c,f,v,S){var D=c.ab,F=c.c*f,j=c.C;f=j+f;var z=v,q=S;for(S=c.Ta,v=c.Ua;0<D--;){var G=c.gc[D],ne=j,de=f,fe=z,le=q,Te=(q=S,z=v,G.Ea);switch(e(ne<de),e(de<=G.nc),G.hc){case 2:hf(fe,le,(de-ne)*Te,q,z);break;case 0:var _e=ne,re=de,se=q,Ae=z,Pe=($e=G).Ea;_e==0&&(Cg(fe,le,null,null,1,se,Ae),nt(fe,le+1,0,0,Pe-1,se,Ae+1),le+=Pe,Ae+=Pe,++_e);for(var Ee=1<<$e.b,Ke=Ee-1,Ue=Ze(Pe,$e.b),ot=$e.K,$e=$e.w+(_e>>$e.b)*Ue;_e<re;){var Bt=ot,Ht=$e,Mt=1;for(ah(fe,le,se,Ae-Pe,1,se,Ae);Mt<Pe;){var Pt=(Mt&~Ke)+Ee;Pt>Pe&&(Pt=Pe),(0,ia[Bt[Ht++]>>8&15])(fe,le+ +Mt,se,Ae+Mt-Pe,Pt-Mt,se,Ae+Mt),Mt=Pt}le+=Pe,Ae+=Pe,++_e&Ke||($e+=Ue)}de!=G.nc&&r(q,z-Te,q,z+(de-ne-1)*Te,Te);break;case 1:for(Te=fe,re=le,Pe=(fe=G.Ea)-(Ae=fe&~(se=(le=1<<G.b)-1)),_e=Ze(fe,G.b),Ee=G.K,G=G.w+(ne>>G.b)*_e;ne<de;){for(Ke=Ee,Ue=G,ot=new We,$e=re+Ae,Bt=re+fe;re<$e;)Dt(Ke[Ue++],ot),vl(ot,Te,re,le,q,z),re+=le,z+=le;re<Bt&&(Dt(Ke[Ue++],ot),vl(ot,Te,re,Pe,q,z),re+=Pe,z+=Pe),++ne&se||(G+=_e)}break;case 3:if(fe==q&&le==z&&0<G.b){for(re=q,fe=Te=z+(de-ne)*Te-(Ae=(de-ne)*Ze(G.Ea,G.b)),le=q,se=z,_e=[],Ae=(Pe=Ae)-1;0<=Ae;--Ae)_e[Ae]=le[se+Ae];for(Ae=Pe-1;0<=Ae;--Ae)re[fe+Ae]=_e[Ae];Ci(G,ne,de,q,Te,q,z)}else Ci(G,ne,de,fe,le,q,z)}z=S,q=v}q!=v&&r(S,v,z,q,F)}function Bo(c,f){var v=c.V,S=c.Ba+c.c*c.C,D=f-c.C;if(e(f<=c.l.o),e(16>=D),0<D){var F=c.l,j=c.Ta,z=c.Ua,q=F.width;if(Vn(c,D,v,S),D=z=[z],e((v=c.C)<(S=f)),e(F.v<F.va),S>F.o&&(S=F.o),v<F.j){var G=F.j-v;v=F.j,D[0]+=G*q}if(v>=S?v=0:(D[0]+=4*F.v,F.ka=v-F.j,F.U=F.va-F.v,F.T=S-v,v=1),v){if(z=z[0],11>(v=c.ca).S){var ne=v.f.RGBA,de=(S=v.S,D=F.U,F=F.T,G=ne.eb,ne.A),fe=F;for(ne=ne.fb+c.Ma*ne.A;0<fe--;){var le=j,Te=z,_e=D,re=G,se=ne;switch(S){case yf:Qr(le,Te,_e,re,se);break;case vf:jr(le,Te,_e,re,se);break;case Dg:jr(le,Te,_e,re,se),Di(re,se,0,_e,1,0);break;case C5:uo(le,Te,_e,re,se);break;case wf:Zt(le,Te,_e,re,se,1);break;case Og:Zt(le,Te,_e,re,se,1),Di(re,se,0,_e,1,0);break;case _f:Zt(le,Te,_e,re,se,0);break;case bf:Zt(le,Te,_e,re,se,0),Di(re,se,1,_e,1,0);break;case Rg:sa(le,Te,_e,re,se);break;case Mg:sa(le,Te,_e,re,se),tn(re,se,_e,1,0);break;case L5:lo(le,Te,_e,re,se);break;default:e(0)}z+=q,ne+=de}c.Ma+=F}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=v.height)}}c.C=f,e(c.C<=c.i)}function Gi(c){var f;if(0<c.ua)return 0;for(f=0;f<c.Wb;++f){var v=c.Ya[f].G,S=c.Ya[f].H;if(0<v[1][S[1]+0].g||0<v[2][S[2]+0].g||0<v[3][S[3]+0].g)return 0}return 1}function yr(c,f,v,S,D,F){if(c.Z!=0){var j=c.qd,z=c.rd;for(e(ua[c.Z]!=null);f<v;++f)ua[c.Z](j,z,S,D,S,D,F),j=S,z=D,D+=F;c.qd=j,c.rd=z}}function Gr(c,f){var v=c.l.ma,S=v.Z==0||v.Z==1?c.l.j:c.C;if(S=c.C<S?S:c.C,e(f<=c.l.o),f>S){var D=c.l.width,F=v.ca,j=v.tb+D*S,z=c.V,q=c.Ba+c.c*S,G=c.gc;e(c.ab==1),e(G[0].hc==3),df(G[0],S,f,z,q,F,j),yr(v,S,f,F,j,D)}c.C=c.Ma=f}function Or(c,f,v,S,D,F,j){var z=c.$/S,q=c.$%S,G=c.m,ne=c.s,de=v+c.$,fe=de;D=v+S*D;var le=v+S*F,Te=280+ne.ua,_e=c.Pb?z:16777216,re=0<ne.ua?ne.Wa:null,se=ne.wc,Ae=de<le?_n(ne,q,z):null;e(c.C<F),e(le<=D);var Pe=!1;e:for(;;){for(;Pe||de<le;){var Ee=0;if(z>=_e){var Ke=de-v;e((_e=c).Pb),_e.wd=_e.m,_e.xd=Ke,0<_e.s.ua&&Se(_e.s.Wa,_e.s.vb),_e=z+TP}if(q&se||(Ae=_n(ne,q,z)),e(Ae!=null),Ae.Qb&&(f[de]=Ae.qb,Pe=!0),!Pe)if(ie(G),Ae.jc){Ee=G,Ke=f;var Ue=de,ot=Ae.pd[W(Ee)&sr-1];e(Ae.jc),256>ot.g?(ee(Ee,Ee.u+ot.g),Ke[Ue]=ot.value,Ee=0):(ee(Ee,Ee.u+ot.g-256),e(256<=ot.value),Ee=ot.value),Ee==0&&(Pe=!0)}else Ee=jn(Ae.G[0],Ae.H[0],G);if(G.h)break;if(Pe||256>Ee){if(!Pe)if(Ae.nd)f[de]=(Ae.qb|Ee<<8)>>>0;else{if(ie(G),Pe=jn(Ae.G[1],Ae.H[1],G),ie(G),Ke=jn(Ae.G[2],Ae.H[2],G),Ue=jn(Ae.G[3],Ae.H[3],G),G.h)break;f[de]=(Ue<<24|Pe<<16|Ee<<8|Ke)>>>0}if(Pe=!1,++de,++q>=S&&(q=0,++z,j!=null&&z<=F&&!(z%16)&&j(c,z),re!=null))for(;fe<de;)Ee=f[fe++],re.X[(506832829*Ee&4294967295)>>>re.Mb]=Ee}else if(280>Ee){if(Ee=Wr(Ee-256,G),Ke=jn(Ae.G[4],Ae.H[4],G),ie(G),Ke=gr(S,Ke=Wr(Ke,G)),G.h)break;if(de-v<Ke||D-de<Ee)break e;for(Ue=0;Ue<Ee;++Ue)f[de+Ue]=f[de+Ue-Ke];for(de+=Ee,q+=Ee;q>=S;)q-=S,++z,j!=null&&z<=F&&!(z%16)&&j(c,z);if(e(de<=D),q&se&&(Ae=_n(ne,q,z)),re!=null)for(;fe<de;)Ee=f[fe++],re.X[(506832829*Ee&4294967295)>>>re.Mb]=Ee}else{if(!(Ee<Te))break e;for(Pe=Ee-280,e(re!=null);fe<de;)Ee=f[fe++],re.X[(506832829*Ee&4294967295)>>>re.Mb]=Ee;Ee=de,e(!(Pe>>>(Ke=re).Xa)),f[Ee]=Ke.X[Pe],Pe=!0}Pe||e(G.h==Y(G))}if(c.Pb&&G.h&&de<D)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Se(c.s.vb,c.s.Wa);else{if(G.h)break e;j!=null&&j(c,z>F?F:z),c.a=0,c.$=de-v}return 1}return c.a=3,0}function Mr(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var f=c.Wa;f!=null&&(f.X=null),c.vb=null,e(c!=null)}function Pn(){var c=new _u;return c==null?null:(c.a=0,c.xb=O5,Pi("Predictor","VP8LPredictors"),Pi("Predictor","VP8LPredictors_C"),Pi("PredictorAdd","VP8LPredictorsAdd"),Pi("PredictorAdd","VP8LPredictorsAdd_C"),hf=ut,vl=at,Qr=Ge,jr=wn,sa=kt,lo=$r,uo=Vt,E.VP8LMapColor32b=Eu,E.VP8LMapColor8b=ff,c)}function ui(c,f,v,S,D){var F=1,j=[c],z=[f],q=S.m,G=S.s,ne=null,de=0;e:for(;;){if(v)for(;F&&ce(q,1);){var fe=j,le=z,Te=S,_e=1,re=Te.m,se=Te.gc[Te.ab],Ae=ce(re,2);if(Te.Oc&1<<Ae)F=0;else{switch(Te.Oc|=1<<Ae,se.hc=Ae,se.Ea=fe[0],se.nc=le[0],se.K=[null],++Te.ab,e(4>=Te.ab),Ae){case 0:case 1:se.b=ce(re,3)+2,_e=ui(Ze(se.Ea,se.b),Ze(se.nc,se.b),0,Te,se.K),se.K=se.K[0];break;case 3:var Pe,Ee=ce(re,8)+1,Ke=16<Ee?0:4<Ee?1:2<Ee?2:3;if(fe[0]=Ze(se.Ea,Ke),se.b=Ke,Pe=_e=ui(Ee,1,0,Te,se.K)){var Ue,ot=Ee,$e=se,Bt=1<<(8>>$e.b),Ht=s(Bt);if(Ht==null)Pe=0;else{var Mt=$e.K[0],Pt=$e.w;for(Ht[0]=$e.K[0][0],Ue=1;Ue<1*ot;++Ue)Ht[Ue]=De(Mt[Pt+Ue],Ht[Ue-1]);for(;Ue<4*Bt;++Ue)Ht[Ue]=0;$e.K[0]=null,$e.K[0]=Ht,Pe=1}}_e=Pe;break;case 2:break;default:e(0)}F=_e}}if(j=j[0],z=z[0],F&&ce(q,1)&&!(F=1<=(de=ce(q,4))&&11>=de)){S.a=3;break e}var Xt;if(Xt=F)t:{var Yt,St,Bn,Xr=S,Un=j,Jr=z,$t=de,pi=v,mi=Xr.m,Qn=Xr.s,or=[null],Br=1,Fi=0,Rs=EP[$t];n:for(;;){if(pi&&ce(mi,1)){var Xn=ce(mi,3)+2,po=Ze(Un,Xn),Sl=Ze(Jr,Xn),ku=po*Sl;if(!ui(po,Sl,0,Xr,or))break n;for(or=or[0],Qn.xc=Xn,Yt=0;Yt<ku;++Yt){var ca=or[Yt]>>8&65535;or[Yt]=ca,ca>=Br&&(Br=ca+1)}}if(mi.h)break n;for(St=0;5>St;++St){var xn=R5[St];!St&&0<$t&&(xn+=1<<$t),Fi<xn&&(Fi=xn)}var Bg=o(Br*Rs,k),H5=Br,$5=o(H5,Z);if($5==null)var Ef=null;else e(65536>=H5),Ef=$5;var ph=s(Fi);if(Ef==null||ph==null||Bg==null){Xr.a=1;break n}var Tf=Bg;for(Yt=Bn=0;Yt<Br;++Yt){var rs=Ef[Yt],Cu=rs.G,Lu=rs.H,W5=0,If=1,G5=0;for(St=0;5>St;++St){xn=R5[St],Cu[St]=Tf,Lu[St]=Bn,!St&&0<$t&&(xn+=1<<$t);i:{var Pf,Ug=xn,Nf=Xr,mh=ph,WP=Tf,GP=Bn,zg=0,ha=Nf.m,KP=ce(ha,1);if(i(mh,0,0,Ug),KP){var YP=ce(ha,1)+1,QP=ce(ha,1),K5=ce(ha,QP==0?1:8);mh[K5]=1,YP==2&&(mh[K5=ce(ha,8)]=1);var kf=1}else{var Y5=s(19),Q5=ce(ha,4)+4;if(19<Q5){Nf.a=3;var Cf=0;break i}for(Pf=0;Pf<Q5;++Pf)Y5[SP[Pf]]=ce(ha,3);var qg=void 0,gh=void 0,X5=Nf,XP=Y5,Lf=Ug,J5=mh,Hg=0,da=X5.m,Z5=8,ew=o(128,k);r:for(;I(ew,0,7,XP,19);){if(ce(da,1)){var JP=2+2*ce(da,3);if((qg=2+ce(da,JP))>Lf)break r}else qg=Lf;for(gh=0;gh<Lf&&qg--;){ie(da);var tw=ew[0+(127&W(da))];ee(da,da.u+tw.g);var Ru=tw.value;if(16>Ru)J5[gh++]=Ru,Ru!=0&&(Z5=Ru);else{var ZP=Ru==16,nw=Ru-16,eN=bP[nw],rw=ce(da,_P[nw])+eN;if(gh+rw>Lf)break r;for(var tN=ZP?Z5:0;0<rw--;)J5[gh++]=tN}}Hg=1;break r}Hg||(X5.a=3),kf=Hg}(kf=kf&&!ha.h)&&(zg=I(WP,GP,8,mh,Ug)),kf&&zg!=0?Cf=zg:(Nf.a=3,Cf=0)}if(Cf==0)break n;if(If&&xP[St]==1&&(If=Tf[Bn].g==0),W5+=Tf[Bn].g,Bn+=Cf,3>=St){var yh,$g=ph[0];for(yh=1;yh<xn;++yh)ph[yh]>$g&&($g=ph[yh]);G5+=$g}}if(rs.nd=If,rs.Qb=0,If&&(rs.qb=(Cu[3][Lu[3]+0].value<<24|Cu[1][Lu[1]+0].value<<16|Cu[2][Lu[2]+0].value)>>>0,W5==0&&256>Cu[0][Lu[0]+0].value&&(rs.Qb=1,rs.qb+=Cu[0][Lu[0]+0].value<<8)),rs.jc=!rs.Qb&&6>G5,rs.jc){var Rf,mo=rs;for(Rf=0;Rf<sr;++Rf){var fa=Rf,pa=mo.pd[fa],Df=mo.G[0][mo.H[0]+fa];256<=Df.value?(pa.g=Df.g+256,pa.value=Df.value):(pa.g=0,pa.value=0,fa>>=In(Df,8,pa),fa>>=In(mo.G[1][mo.H[1]+fa],16,pa),fa>>=In(mo.G[2][mo.H[2]+fa],0,pa),In(mo.G[3][mo.H[3]+fa],24,pa))}}}Qn.vc=or,Qn.Wb=Br,Qn.Ya=Ef,Qn.yc=Bg,Xt=1;break t}Xt=0}if(!(F=Xt)){S.a=3;break e}if(0<de){if(G.ua=1<<de,!it(G.Wa,de)){S.a=1,F=0;break e}}else G.ua=0;var Wg=S,iw=j,nN=z,Gg=Wg.s,Kg=Gg.xc;if(Wg.c=iw,Wg.i=nN,Gg.md=Ze(iw,Kg),Gg.wc=Kg==0?-1:(1<<Kg)-1,v){S.xb=RP;break e}if((ne=s(j*z))==null){S.a=1,F=0;break e}F=(F=Or(S,ne,0,j,z,z,null))&&!q.h;break e}return F?(D!=null?D[0]=ne:(e(ne==null),e(v)),S.$=0,v||Mr(G)):Mr(G),F}function bs(c,f){var v=c.c*c.i,S=v+f+16*f;return e(c.c<=f),c.V=s(S),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+v+f,1)}function xs(c,f){var v=c.C,S=f-v,D=c.V,F=c.Ba+c.c*v;for(e(f<=c.l.o);0<S;){var j=16<S?16:S,z=c.l.ma,q=c.l.width,G=q*j,ne=z.ca,de=z.tb+q*v,fe=c.Ta,le=c.Ua;Vn(c,j,D,F),kn(fe,le,ne,de,G),yr(z,v,v+j,ne,de,q),S-=j,D+=j*c.c,v+=j}e(v==f),c.C=c.Ma=f}function Ss(){this.ub=this.yd=this.td=this.Rb=0}function Xs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Js(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function cu(){this.Yb=function(){var c=[];return function f(v,S,D){for(var F=D[S],j=0;j<F&&(v.push(D.length>S+1?[]:0),!(D.length<S+1));j++)f(v[j],S+1,D)}(c,0,[3,11]),c}()}function Uo(){this.jb=s(3),this.Wc=a([4,8],cu),this.Xc=a([4,17],cu)}function hu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function As(){this.ld=this.La=this.dd=this.tc=0}function Es(){this.Na=this.la=0}function Ki(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zs(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function eh(){this.uc=this.M=this.Nb=0,this.wa=Array(new As),this.Y=0,this.ya=Array(new Zs),this.aa=0,this.l=new eo}function il(){this.y=s(16),this.f=s(8),this.ea=s(8)}function du(){this.cb=this.a=0,this.sc="",this.m=new Oe,this.Od=new Ss,this.Kc=new Xs,this.ed=new hu,this.Qa=new Js,this.Ic=this.$c=this.Aa=0,this.D=new eh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Oe),this.ia=0,this.pb=o(4,Ki),this.Pa=new Uo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new il),this.Hd=0,this.rb=Array(new Es),this.sb=0,this.wa=Array(new As),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zs),this.L=this.aa=0,this.gd=a([4,2],As),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function eo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sl(){var c=new du;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,dh||(dh=fu)),c}function on(c,f,v){return c.a==0&&(c.a=f,c.sc=v,c.cb=0),0}function ol(c,f,v){return 3<=v&&c[f+0]==157&&c[f+1]==1&&c[f+2]==42}function al(c,f){if(c==null)return 0;if(c.a=0,c.sc="OK",f==null)return on(c,2,"null VP8Io passed to VP8GetHeaders()");var v=f.data,S=f.w,D=f.ha;if(4>D)return on(c,7,"Truncated header.");var F=v[S+0]|v[S+1]<<8|v[S+2]<<16,j=c.Od;if(j.Rb=!(1&F),j.td=F>>1&7,j.yd=F>>4&1,j.ub=F>>5,3<j.td)return on(c,3,"Incorrect keyframe parameters.");if(!j.yd)return on(c,4,"Frame not displayable.");S+=3,D-=3;var z=c.Kc;if(j.Rb){if(7>D)return on(c,7,"cannot parse picture header");if(!ol(v,S,D))return on(c,3,"Bad code word");z.c=16383&(v[S+4]<<8|v[S+3]),z.Td=v[S+4]>>6,z.i=16383&(v[S+6]<<8|v[S+5]),z.Ud=v[S+6]>>6,S+=7,D-=7,c.za=z.c+15>>4,c.Ub=z.i+15>>4,f.width=z.c,f.height=z.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((F=c.Pa).jb,0,255,F.jb.length),e((F=c.Qa)!=null),F.Cb=0,F.Bb=0,F.Fb=1,i(F.Zb,0,0,F.Zb.length),i(F.Lb,0,0,F.Lb)}if(j.ub>D)return on(c,7,"bad partition length");we(F=c.m,v,S,j.ub),S+=j.ub,D-=j.ub,j.Rb&&(z.Ld=ye(F),z.Kd=ye(F)),z=c.Qa;var q,G=c.Pa;if(e(F!=null),e(z!=null),z.Cb=ye(F),z.Cb){if(z.Bb=ye(F),ye(F)){for(z.Fb=ye(F),q=0;4>q;++q)z.Zb[q]=ye(F)?me(F,7):0;for(q=0;4>q;++q)z.Lb[q]=ye(F)?me(F,6):0}if(z.Bb)for(q=0;3>q;++q)G.jb[q]=ye(F)?ge(F,8):255}else z.Bb=0;if(F.Ka)return on(c,3,"cannot parse segment header");if((z=c.ed).zd=ye(F),z.Tb=ge(F,6),z.wb=ge(F,3),z.Pc=ye(F),z.Pc&&ye(F)){for(G=0;4>G;++G)ye(F)&&(z.vd[G]=me(F,6));for(G=0;4>G;++G)ye(F)&&(z.od[G]=me(F,6))}if(c.L=z.Tb==0?0:z.zd?1:2,F.Ka)return on(c,3,"cannot parse filter header");var ne=D;if(D=q=S,S=q+ne,z=ne,c.Xb=(1<<ge(c.m,2))-1,ne<3*(G=c.Xb))v=7;else{for(q+=3*G,z-=3*G,ne=0;ne<G;++ne){var de=v[D+0]|v[D+1]<<8|v[D+2]<<16;de>z&&(de=z),we(c.Jc[+ne],v,q,de),q+=de,z-=de,D+=3}we(c.Jc[+G],v,q,z),v=q<S?0:5}if(v!=0)return on(c,v,"cannot parse partitions");for(v=ge(q=c.m,7),D=ye(q)?me(q,4):0,S=ye(q)?me(q,4):0,z=ye(q)?me(q,4):0,G=ye(q)?me(q,4):0,q=ye(q)?me(q,4):0,ne=c.Qa,de=0;4>de;++de){if(ne.Cb){var fe=ne.Zb[de];ne.Fb||(fe+=v)}else{if(0<de){c.pb[de]=c.pb[0];continue}fe=v}var le=c.pb[de];le.Sc[0]=Fg[zt(fe+D,127)],le.Sc[1]=jg[zt(fe+0,127)],le.Eb[0]=2*Fg[zt(fe+S,127)],le.Eb[1]=101581*jg[zt(fe+z,127)]>>16,8>le.Eb[1]&&(le.Eb[1]=8),le.Qc[0]=Fg[zt(fe+G,117)],le.Qc[1]=jg[zt(fe+q,127)],le.lc=fe+q}if(!j.Rb)return on(c,4,"Not a key frame.");for(ye(F),j=c.Pa,v=0;4>v;++v){for(D=0;8>D;++D)for(S=0;3>S;++S)for(z=0;11>z;++z)G=ve(F,CP[v][D][S][z])?ge(F,8):NP[v][D][S][z],j.Wc[v][D].Yb[S][z]=G;for(D=0;17>D;++D)j.Xc[v][D]=j.Wc[v][LP[D]]}return c.kc=ye(F),c.kc&&(c.Bd=ge(F,8)),c.cb=1}function fu(c,f,v,S,D,F,j){var z=f[D].Yb[v];for(v=0;16>D;++D){if(!ve(c,z[v+0]))return D;for(;!ve(c,z[v+1]);)if(z=f[++D].Yb[0],v=0,D==16)return 16;var q=f[D+1].Yb;if(ve(c,z[v+2])){var G=c,ne=0;if(ve(G,(fe=z)[(de=v)+3]))if(ve(G,fe[de+6])){for(z=0,de=2*(ne=ve(G,fe[de+8]))+(fe=ve(G,fe[de+9+ne])),ne=0,fe=IP[de];fe[z];++z)ne+=ne+ve(G,fe[z]);ne+=3+(8<<de)}else ve(G,fe[de+7])?(ne=7+2*ve(G,165),ne+=ve(G,145)):ne=5+ve(G,159);else ne=ve(G,fe[de+4])?3+ve(G,fe[de+5]):2;z=q[2]}else ne=1,z=q[1];q=j+PP[D],0>(G=c).b&&he(G);var de,fe=G.b,le=(de=G.Ca>>1)-(G.I>>fe)>>31;--G.b,G.Ca+=le,G.Ca|=1,G.I-=(de+1&le)<<fe,F[q]=((ne^le)-le)*S[(0<D)+0]}return 16}function ll(c){var f=c.rb[c.sb-1];f.la=0,f.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function pu(c,f){if(c==null)return 0;if(f==null)return on(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!al(c,f))return 0;if(e(c.cb),f.ac==null||f.ac(f)){f.ob&&(c.L=0);var v=Af[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=f.v-v>>4,c.zb=f.j-v>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=f.o+15+v>>4,c.Hb=f.va+15+v>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var S=c.ed;for(v=0;4>v;++v){var D;if(c.Qa.Cb){var F=c.Qa.Lb[v];c.Qa.Fb||(F+=S.Tb)}else F=S.Tb;for(D=0;1>=D;++D){var j=c.gd[v][D],z=F;if(S.Pc&&(z+=S.vd[0],D&&(z+=S.od[0])),0<(z=0>z?0:63<z?63:z)){var q=z;0<S.wb&&(q=4<S.wb?q>>2:q>>1)>9-S.wb&&(q=9-S.wb),1>q&&(q=1),j.dd=q,j.tc=2*z+q,j.ld=40<=z?2:15<=z?1:0}else j.tc=0;j.La=D}}}v=0}else on(c,6,"Frame setup failed"),v=c.a;if(v=v==0){if(v){c.$c=0,0<c.Aa||(c.Ic=$P);e:{v=c.Ic,S=4*(q=c.za);var G=32*q,ne=q+1,de=0<c.L?q*(0<c.Aa?2:1):0,fe=(c.Aa==2?2:1)*q;if((j=S+832+(D=3*(16*v+Af[c.L])/2*G)+(F=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=j)v=0;else{if(j>c.Vb){if(c.Vb=0,c.Ec=s(j),c.Fc=0,c.Ec==null){v=on(c,1,"no memory during frame initialization.");break e}c.Vb=j}j=c.Ec,z=c.Fc,c.Ac=j,c.Bc=z,z+=S,c.Gd=o(G,il),c.Hd=0,c.rb=o(ne+1,Es),c.sb=1,c.wa=de?o(de,As):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=q),e(!0),c.oc=j,c.pc=z,z+=832,c.ya=o(fe,Zs),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=q),c.R=16*q,c.B=8*q,q=(G=Af[c.L])*c.R,G=G/2*c.B,c.sa=j,c.ta=z+q,c.qa=c.sa,c.ra=c.ta+16*v*c.R+G,c.Ha=c.qa,c.Ia=c.ra+8*v*c.B+G,c.$c=0,z+=D,c.mb=F?j:null,c.nb=F?z:null,e(z+F<=c.Fc+c.Vb),ll(c),i(c.Ac,c.Bc,0,S),v=1}}if(v){if(f.ka=0,f.y=c.sa,f.O=c.ta,f.f=c.qa,f.N=c.ra,f.ea=c.Ha,f.Vd=c.Ia,f.fa=c.R,f.Rc=c.B,f.F=null,f.J=0,!mf){for(v=-255;255>=v;++v)Wn[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)ho[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)hh[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)Nu[255+v]=0>v?0:255<v?255:v;mf=1}Tu=ro,co=qo,lh=ul,Vr=qt,Li=no,Nn=to,Iu=Qo,pf=Zi,uh=Jo,wl=yl,_l=Xo,oa=so,bl=Zo,Pu=Ns,xl=io,aa=di,ch=$n,Ri=wu,ns[0]=ki,ns[1]=th,ns[2]=Is,ns[3]=rh,ns[4]=yu,ns[5]=Wo,ns[6]=ci,ns[7]=hl,ns[8]=Ko,ns[9]=Go,la[0]=Ts,la[1]=nh,la[2]=Qi,la[3]=Ho,la[4]=an,la[5]=gu,la[6]=cl,fo[0]=Ji,fo[1]=mu,fo[2]=vu,fo[3]=Xi,fo[4]=Ut,fo[5]=dl,fo[6]=fl,v=1}else v=0}v&&(v=function(le,Te){for(le.M=0;le.M<le.Va;++le.M){var _e,re=le.Jc[le.M&le.Xb],se=le.m,Ae=le;for(_e=0;_e<Ae.za;++_e){var Pe=se,Ee=Ae,Ke=Ee.Ac,Ue=Ee.Bc+4*_e,ot=Ee.zc,$e=Ee.ya[Ee.aa+_e];if(Ee.Qa.Bb?$e.$b=ve(Pe,Ee.Pa.jb[0])?2+ve(Pe,Ee.Pa.jb[2]):ve(Pe,Ee.Pa.jb[1]):$e.$b=0,Ee.kc&&($e.Ad=ve(Pe,Ee.Bd)),$e.Za=!ve(Pe,145)+0,$e.Za){var Bt=$e.Ob,Ht=0;for(Ee=0;4>Ee;++Ee){var Mt,Pt=ot[0+Ee];for(Mt=0;4>Mt;++Mt){Pt=kP[Ke[Ue+Mt]][Pt];for(var Xt=D5[ve(Pe,Pt[0])];0<Xt;)Xt=D5[2*Xt+ve(Pe,Pt[Xt])];Pt=-Xt,Ke[Ue+Mt]=Pt}r(Bt,Ht,Ke,Ue,4),Ht+=4,ot[0+Ee]=Pt}}else Pt=ve(Pe,156)?ve(Pe,128)?1:3:ve(Pe,163)?2:0,$e.Ob[0]=Pt,i(Ke,Ue,Pt,4),i(ot,0,Pt,4);$e.Dd=ve(Pe,142)?ve(Pe,114)?ve(Pe,183)?1:3:2:0}if(Ae.m.Ka)return on(le,7,"Premature end-of-partition0 encountered.");for(;le.ja<le.za;++le.ja){if(Ae=re,Pe=(se=le).rb[se.sb-1],Ke=se.rb[se.sb+se.ja],_e=se.ya[se.aa+se.ja],Ue=se.kc?_e.Ad:0)Pe.la=Ke.la=0,_e.Za||(Pe.Na=Ke.Na=0),_e.Hc=0,_e.Gc=0,_e.ia=0;else{var Yt,St;if(Pe=Ke,Ke=Ae,Ue=se.Pa.Xc,ot=se.ya[se.aa+se.ja],$e=se.pb[ot.$b],Ee=ot.ad,Bt=0,Ht=se.rb[se.sb-1],Pt=Mt=0,i(Ee,Bt,0,384),ot.Za)var Bn=0,Xr=Ue[3];else{Xt=s(16);var Un=Pe.Na+Ht.Na;if(Un=dh(Ke,Ue[1],Un,$e.Eb,0,Xt,0),Pe.Na=Ht.Na=(0<Un)+0,1<Un)Tu(Xt,0,Ee,Bt);else{var Jr=Xt[0]+3>>3;for(Xt=0;256>Xt;Xt+=16)Ee[Bt+Xt]=Jr}Bn=1,Xr=Ue[0]}var $t=15&Pe.la,pi=15&Ht.la;for(Xt=0;4>Xt;++Xt){var mi=1&pi;for(Jr=St=0;4>Jr;++Jr)$t=$t>>1|(mi=(Un=dh(Ke,Xr,Un=mi+(1&$t),$e.Sc,Bn,Ee,Bt))>Bn)<<7,St=St<<2|(3<Un?3:1<Un?2:Ee[Bt+0]!=0),Bt+=16;$t>>=4,pi=pi>>1|mi<<7,Mt=(Mt<<8|St)>>>0}for(Xr=$t,Bn=pi>>4,Yt=0;4>Yt;Yt+=2){for(St=0,$t=Pe.la>>4+Yt,pi=Ht.la>>4+Yt,Xt=0;2>Xt;++Xt){for(mi=1&pi,Jr=0;2>Jr;++Jr)Un=mi+(1&$t),$t=$t>>1|(mi=0<(Un=dh(Ke,Ue[2],Un,$e.Qc,0,Ee,Bt)))<<3,St=St<<2|(3<Un?3:1<Un?2:Ee[Bt+0]!=0),Bt+=16;$t>>=2,pi=pi>>1|mi<<5}Pt|=St<<4*Yt,Xr|=$t<<4<<Yt,Bn|=(240&pi)<<Yt}Pe.la=Xr,Ht.la=Bn,ot.Hc=Mt,ot.Gc=Pt,ot.ia=43690&Pt?0:$e.ia,Ue=!(Mt|Pt)}if(0<se.L&&(se.wa[se.Y+se.ja]=se.gd[_e.$b][_e.Za],se.wa[se.Y+se.ja].La|=!Ue),Ae.Ka)return on(le,7,"Premature end-of-file encountered.")}if(ll(le),se=Te,Ae=1,_e=(re=le).D,Pe=0<re.L&&re.M>=re.zb&&re.M<=re.Va,re.Aa==0)e:{if(_e.M=re.M,_e.uc=Pe,Cs(re,_e),Ae=1,_e=(St=re.D).Nb,Pe=(Pt=Af[re.L])*re.R,Ke=Pt/2*re.B,Xt=16*_e*re.R,Jr=8*_e*re.B,Ue=re.sa,ot=re.ta-Pe+Xt,$e=re.qa,Ee=re.ra-Ke+Jr,Bt=re.Ha,Ht=re.Ia-Ke+Jr,pi=($t=St.M)==0,Mt=$t>=re.Va-1,re.Aa==2&&Cs(re,St),St.uc)for(mi=(Un=re).D.M,e(Un.D.uc),St=Un.yb;St<Un.Hb;++St){Bn=St,Xr=mi;var Qn=(or=(xn=Un).D).Nb;Yt=xn.R;var or=or.wa[or.Y+Bn],Br=xn.sa,Fi=xn.ta+16*Qn*Yt+16*Bn,Rs=or.dd,Xn=or.tc;if(Xn!=0)if(e(3<=Xn),xn.L==1)0<Bn&&aa(Br,Fi,Yt,Xn+4),or.La&&Ri(Br,Fi,Yt,Xn),0<Xr&&xl(Br,Fi,Yt,Xn+4),or.La&&ch(Br,Fi,Yt,Xn);else{var po=xn.B,Sl=xn.qa,ku=xn.ra+8*Qn*po+8*Bn,ca=xn.Ha,xn=xn.Ia+8*Qn*po+8*Bn;Qn=or.ld,0<Bn&&(pf(Br,Fi,Yt,Xn+4,Rs,Qn),wl(Sl,ku,ca,xn,po,Xn+4,Rs,Qn)),or.La&&(oa(Br,Fi,Yt,Xn,Rs,Qn),Pu(Sl,ku,ca,xn,po,Xn,Rs,Qn)),0<Xr&&(Iu(Br,Fi,Yt,Xn+4,Rs,Qn),uh(Sl,ku,ca,xn,po,Xn+4,Rs,Qn)),or.La&&(_l(Br,Fi,Yt,Xn,Rs,Qn),bl(Sl,ku,ca,xn,po,Xn,Rs,Qn))}}if(re.ia&&alert("todo:DitherRow"),se.put!=null){if(St=16*$t,$t=16*($t+1),pi?(se.y=re.sa,se.O=re.ta+Xt,se.f=re.qa,se.N=re.ra+Jr,se.ea=re.Ha,se.W=re.Ia+Jr):(St-=Pt,se.y=Ue,se.O=ot,se.f=$e,se.N=Ee,se.ea=Bt,se.W=Ht),Mt||($t-=Pt),$t>se.o&&($t=se.o),se.F=null,se.J=null,re.Fa!=null&&0<re.Fa.length&&St<$t&&(se.J=ra(re,se,St,$t-St),se.F=re.mb,se.F==null&&se.F.length==0)){Ae=on(re,3,"Could not decode alpha data.");break e}St<se.j&&(Pt=se.j-St,St=se.j,e(!(1&Pt)),se.O+=re.R*Pt,se.N+=re.B*(Pt>>1),se.W+=re.B*(Pt>>1),se.F!=null&&(se.J+=se.width*Pt)),St<$t&&(se.O+=se.v,se.N+=se.v>>1,se.W+=se.v>>1,se.F!=null&&(se.J+=se.v),se.ka=St-se.j,se.U=se.va-se.v,se.T=$t-St,Ae=se.put(se))}_e+1!=re.Ic||Mt||(r(re.sa,re.ta-Pe,Ue,ot+16*re.R,Pe),r(re.qa,re.ra-Ke,$e,Ee+8*re.B,Ke),r(re.Ha,re.Ia-Ke,Bt,Ht+8*re.B,Ke))}if(!Ae)return on(le,6,"Output aborted.")}return 1}(c,f)),f.bc!=null&&f.bc(f),v&=1}return v?(c.cb=0,v):0}function Kr(c,f,v,S,D){D=c[f+v+32*S]+(D>>3),c[f+v+32*S]=-256&D?0>D?0:255:D}function zo(c,f,v,S,D,F){Kr(c,f,0,v,S+D),Kr(c,f,1,v,S+F),Kr(c,f,2,v,S-F),Kr(c,f,3,v,S-D)}function bn(c){return(20091*c>>16)+c}function Fr(c,f,v,S){var D,F=0,j=s(16);for(D=0;4>D;++D){var z=c[f+0]+c[f+8],q=c[f+0]-c[f+8],G=(35468*c[f+4]>>16)-bn(c[f+12]),ne=bn(c[f+4])+(35468*c[f+12]>>16);j[F+0]=z+ne,j[F+1]=q+G,j[F+2]=q-G,j[F+3]=z-ne,F+=4,f++}for(D=F=0;4>D;++D)z=(c=j[F+0]+4)+j[F+8],q=c-j[F+8],G=(35468*j[F+4]>>16)-bn(j[F+12]),Kr(v,S,0,0,z+(ne=bn(j[F+4])+(35468*j[F+12]>>16))),Kr(v,S,1,0,q+G),Kr(v,S,2,0,q-G),Kr(v,S,3,0,z-ne),F++,S+=32}function to(c,f,v,S){var D=c[f+0]+4,F=35468*c[f+4]>>16,j=bn(c[f+4]),z=35468*c[f+1]>>16;zo(v,S,0,D+j,c=bn(c[f+1]),z),zo(v,S,1,D+F,c,z),zo(v,S,2,D-F,c,z),zo(v,S,3,D-j,c,z)}function qo(c,f,v,S,D){Fr(c,f,v,S),D&&Fr(c,f+16,v,S+4)}function ul(c,f,v,S){co(c,f+0,v,S,1),co(c,f+32,v,S+128,1)}function qt(c,f,v,S){var D;for(c=c[f+0]+4,D=0;4>D;++D)for(f=0;4>f;++f)Kr(v,S,f,D,c)}function no(c,f,v,S){c[f+0]&&Vr(c,f+0,v,S),c[f+16]&&Vr(c,f+16,v,S+4),c[f+32]&&Vr(c,f+32,v,S+128),c[f+48]&&Vr(c,f+48,v,S+128+4)}function ro(c,f,v,S){var D,F=s(16);for(D=0;4>D;++D){var j=c[f+0+D]+c[f+12+D],z=c[f+4+D]+c[f+8+D],q=c[f+4+D]-c[f+8+D],G=c[f+0+D]-c[f+12+D];F[0+D]=j+z,F[8+D]=j-z,F[4+D]=G+q,F[12+D]=G-q}for(D=0;4>D;++D)j=(c=F[0+4*D]+3)+F[3+4*D],z=F[1+4*D]+F[2+4*D],q=F[1+4*D]-F[2+4*D],G=c-F[3+4*D],v[S+0]=j+z>>3,v[S+16]=G+q>>3,v[S+32]=j-z>>3,v[S+48]=G-q>>3,S+=64}function Yi(c,f,v){var S,D=f-32,F=fi,j=255-c[D-1];for(S=0;S<v;++S){var z,q=F,G=j+c[f-1];for(z=0;z<v;++z)c[f+z]=q[G+c[D+z]];f+=32}}function th(c,f){Yi(c,f,4)}function mu(c,f){Yi(c,f,8)}function nh(c,f){Yi(c,f,16)}function Qi(c,f){var v;for(v=0;16>v;++v)r(c,f+32*v,c,f-32,16)}function Ho(c,f){var v;for(v=16;0<v;--v)i(c,f,c[f-1],16),f+=32}function $o(c,f,v){var S;for(S=0;16>S;++S)i(f,v+32*S,c,16)}function Ts(c,f){var v,S=16;for(v=0;16>v;++v)S+=c[f-1+32*v]+c[f+v-32];$o(S>>5,c,f)}function an(c,f){var v,S=8;for(v=0;16>v;++v)S+=c[f-1+32*v];$o(S>>4,c,f)}function gu(c,f){var v,S=8;for(v=0;16>v;++v)S+=c[f+v-32];$o(S>>4,c,f)}function cl(c,f){$o(128,c,f)}function ft(c,f,v){return c+2*f+v+2>>2}function Is(c,f){var v,S=f-32;for(S=new Uint8Array([ft(c[S-1],c[S+0],c[S+1]),ft(c[S+0],c[S+1],c[S+2]),ft(c[S+1],c[S+2],c[S+3]),ft(c[S+2],c[S+3],c[S+4])]),v=0;4>v;++v)r(c,f+32*v,S,0,S.length)}function rh(c,f){var v=c[f-1],S=c[f-1+32],D=c[f-1+64],F=c[f-1+96];Fe(c,f+0,16843009*ft(c[f-1-32],v,S)),Fe(c,f+32,16843009*ft(v,S,D)),Fe(c,f+64,16843009*ft(S,D,F)),Fe(c,f+96,16843009*ft(D,F,F))}function ki(c,f){var v,S=4;for(v=0;4>v;++v)S+=c[f+v-32]+c[f-1+32*v];for(S>>=3,v=0;4>v;++v)i(c,f+32*v,S,4)}function yu(c,f){var v=c[f-1+0],S=c[f-1+32],D=c[f-1+64],F=c[f-1-32],j=c[f+0-32],z=c[f+1-32],q=c[f+2-32],G=c[f+3-32];c[f+0+96]=ft(S,D,c[f-1+96]),c[f+1+96]=c[f+0+64]=ft(v,S,D),c[f+2+96]=c[f+1+64]=c[f+0+32]=ft(F,v,S),c[f+3+96]=c[f+2+64]=c[f+1+32]=c[f+0+0]=ft(j,F,v),c[f+3+64]=c[f+2+32]=c[f+1+0]=ft(z,j,F),c[f+3+32]=c[f+2+0]=ft(q,z,j),c[f+3+0]=ft(G,q,z)}function ci(c,f){var v=c[f+1-32],S=c[f+2-32],D=c[f+3-32],F=c[f+4-32],j=c[f+5-32],z=c[f+6-32],q=c[f+7-32];c[f+0+0]=ft(c[f+0-32],v,S),c[f+1+0]=c[f+0+32]=ft(v,S,D),c[f+2+0]=c[f+1+32]=c[f+0+64]=ft(S,D,F),c[f+3+0]=c[f+2+32]=c[f+1+64]=c[f+0+96]=ft(D,F,j),c[f+3+32]=c[f+2+64]=c[f+1+96]=ft(F,j,z),c[f+3+64]=c[f+2+96]=ft(j,z,q),c[f+3+96]=ft(z,q,q)}function Wo(c,f){var v=c[f-1+0],S=c[f-1+32],D=c[f-1+64],F=c[f-1-32],j=c[f+0-32],z=c[f+1-32],q=c[f+2-32],G=c[f+3-32];c[f+0+0]=c[f+1+64]=F+j+1>>1,c[f+1+0]=c[f+2+64]=j+z+1>>1,c[f+2+0]=c[f+3+64]=z+q+1>>1,c[f+3+0]=q+G+1>>1,c[f+0+96]=ft(D,S,v),c[f+0+64]=ft(S,v,F),c[f+0+32]=c[f+1+96]=ft(v,F,j),c[f+1+32]=c[f+2+96]=ft(F,j,z),c[f+2+32]=c[f+3+96]=ft(j,z,q),c[f+3+32]=ft(z,q,G)}function hl(c,f){var v=c[f+0-32],S=c[f+1-32],D=c[f+2-32],F=c[f+3-32],j=c[f+4-32],z=c[f+5-32],q=c[f+6-32],G=c[f+7-32];c[f+0+0]=v+S+1>>1,c[f+1+0]=c[f+0+64]=S+D+1>>1,c[f+2+0]=c[f+1+64]=D+F+1>>1,c[f+3+0]=c[f+2+64]=F+j+1>>1,c[f+0+32]=ft(v,S,D),c[f+1+32]=c[f+0+96]=ft(S,D,F),c[f+2+32]=c[f+1+96]=ft(D,F,j),c[f+3+32]=c[f+2+96]=ft(F,j,z),c[f+3+64]=ft(j,z,q),c[f+3+96]=ft(z,q,G)}function Go(c,f){var v=c[f-1+0],S=c[f-1+32],D=c[f-1+64],F=c[f-1+96];c[f+0+0]=v+S+1>>1,c[f+2+0]=c[f+0+32]=S+D+1>>1,c[f+2+32]=c[f+0+64]=D+F+1>>1,c[f+1+0]=ft(v,S,D),c[f+3+0]=c[f+1+32]=ft(S,D,F),c[f+3+32]=c[f+1+64]=ft(D,F,F),c[f+3+64]=c[f+2+64]=c[f+0+96]=c[f+1+96]=c[f+2+96]=c[f+3+96]=F}function Ko(c,f){var v=c[f-1+0],S=c[f-1+32],D=c[f-1+64],F=c[f-1+96],j=c[f-1-32],z=c[f+0-32],q=c[f+1-32],G=c[f+2-32];c[f+0+0]=c[f+2+32]=v+j+1>>1,c[f+0+32]=c[f+2+64]=S+v+1>>1,c[f+0+64]=c[f+2+96]=D+S+1>>1,c[f+0+96]=F+D+1>>1,c[f+3+0]=ft(z,q,G),c[f+2+0]=ft(j,z,q),c[f+1+0]=c[f+3+32]=ft(v,j,z),c[f+1+32]=c[f+3+64]=ft(S,v,j),c[f+1+64]=c[f+3+96]=ft(D,S,v),c[f+1+96]=ft(F,D,S)}function vu(c,f){var v;for(v=0;8>v;++v)r(c,f+32*v,c,f-32,8)}function Xi(c,f){var v;for(v=0;8>v;++v)i(c,f,c[f-1],8),f+=32}function hi(c,f,v){var S;for(S=0;8>S;++S)i(f,v+32*S,c,8)}function Ji(c,f){var v,S=8;for(v=0;8>v;++v)S+=c[f+v-32]+c[f-1+32*v];hi(S>>4,c,f)}function dl(c,f){var v,S=4;for(v=0;8>v;++v)S+=c[f+v-32];hi(S>>3,c,f)}function Ut(c,f){var v,S=4;for(v=0;8>v;++v)S+=c[f-1+32*v];hi(S>>3,c,f)}function fl(c,f){hi(128,c,f)}function Yo(c,f,v){var S=c[f-v],D=c[f+0],F=3*(D-S)+Lg[1020+c[f-2*v]-c[f+v]],j=gf[112+(F+4>>3)];c[f-v]=fi[255+S+gf[112+(F+3>>3)]],c[f+0]=fi[255+D-j]}function pl(c,f,v,S){var D=c[f+0],F=c[f+v];return Oi[255+c[f-2*v]-c[f-v]]>S||Oi[255+F-D]>S}function ml(c,f,v,S){return 4*Oi[255+c[f-v]-c[f+0]]+Oi[255+c[f-2*v]-c[f+v]]<=S}function gl(c,f,v,S,D){var F=c[f-3*v],j=c[f-2*v],z=c[f-v],q=c[f+0],G=c[f+v],ne=c[f+2*v],de=c[f+3*v];return 4*Oi[255+z-q]+Oi[255+j-G]>S?0:Oi[255+c[f-4*v]-F]<=D&&Oi[255+F-j]<=D&&Oi[255+j-z]<=D&&Oi[255+de-ne]<=D&&Oi[255+ne-G]<=D&&Oi[255+G-q]<=D}function io(c,f,v,S){var D=2*S+1;for(S=0;16>S;++S)ml(c,f+S,v,D)&&Yo(c,f+S,v)}function di(c,f,v,S){var D=2*S+1;for(S=0;16>S;++S)ml(c,f+S*v,1,D)&&Yo(c,f+S*v,1)}function $n(c,f,v,S){var D;for(D=3;0<D;--D)io(c,f+=4*v,v,S)}function wu(c,f,v,S){var D;for(D=3;0<D;--D)di(c,f+=4,v,S)}function Ps(c,f,v,S,D,F,j,z){for(F=2*F+1;0<D--;){if(gl(c,f,v,F,j))if(pl(c,f,v,z))Yo(c,f,v);else{var q=c,G=f,ne=v,de=q[G-2*ne],fe=q[G-ne],le=q[G+0],Te=q[G+ne],_e=q[G+2*ne],re=27*(Ae=Lg[1020+3*(le-fe)+Lg[1020+de-Te]])+63>>7,se=18*Ae+63>>7,Ae=9*Ae+63>>7;q[G-3*ne]=fi[255+q[G-3*ne]+Ae],q[G-2*ne]=fi[255+de+se],q[G-ne]=fi[255+fe+re],q[G+0]=fi[255+le-re],q[G+ne]=fi[255+Te-se],q[G+2*ne]=fi[255+_e-Ae]}f+=S}}function rr(c,f,v,S,D,F,j,z){for(F=2*F+1;0<D--;){if(gl(c,f,v,F,j))if(pl(c,f,v,z))Yo(c,f,v);else{var q=c,G=f,ne=v,de=q[G-ne],fe=q[G+0],le=q[G+ne],Te=gf[112+((_e=3*(fe-de))+4>>3)],_e=gf[112+(_e+3>>3)],re=Te+1>>1;q[G-2*ne]=fi[255+q[G-2*ne]+re],q[G-ne]=fi[255+de+_e],q[G+0]=fi[255+fe-Te],q[G+ne]=fi[255+le-re]}f+=S}}function Qo(c,f,v,S,D,F){Ps(c,f,v,1,16,S,D,F)}function Zi(c,f,v,S,D,F){Ps(c,f,1,v,16,S,D,F)}function Xo(c,f,v,S,D,F){var j;for(j=3;0<j;--j)rr(c,f+=4*v,v,1,16,S,D,F)}function so(c,f,v,S,D,F){var j;for(j=3;0<j;--j)rr(c,f+=4,1,v,16,S,D,F)}function Jo(c,f,v,S,D,F,j,z){Ps(c,f,D,1,8,F,j,z),Ps(v,S,D,1,8,F,j,z)}function yl(c,f,v,S,D,F,j,z){Ps(c,f,1,D,8,F,j,z),Ps(v,S,1,D,8,F,j,z)}function Zo(c,f,v,S,D,F,j,z){rr(c,f+4*D,D,1,8,F,j,z),rr(v,S+4*D,D,1,8,F,j,z)}function Ns(c,f,v,S,D,F,j,z){rr(c,f+4,1,D,8,F,j,z),rr(v,S+4,1,D,8,F,j,z)}function oo(){this.ba=new nr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new en,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ea(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ao(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ta(){this.ua=0,this.Wa=new Q,this.vb=new Q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new k}function _u(){this.xb=this.a=0,this.l=new eo,this.ca=new nr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ta,this.ab=0,this.gc=o(4,ao),this.Oc=0}function es(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new eo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ks(c,f,v,S,D,F,j){for(c=c==null?0:c[f+0],f=0;f<j;++f)D[F+f]=c+v[S+f]&255,c=D[F+f]}function na(c,f,v,S,D,F,j){var z;if(c==null)ks(null,null,v,S,D,F,j);else for(z=0;z<j;++z)D[F+z]=c[f+z]+v[S+z]&255}function vr(c,f,v,S,D,F,j){if(c==null)ks(null,null,v,S,D,F,j);else{var z,q=c[f+0],G=q,ne=q;for(z=0;z<j;++z)G=ne+(q=c[f+z])-G,ne=v[S+z]+(-256&G?0>G?0:255:G)&255,G=q,D[F+z]=ne}}function ra(c,f,v,S){var D=f.width,F=f.o;if(e(c!=null&&f!=null),0>v||0>=S||v+S>F)return null;if(!c.Cc){if(c.ga==null){var j;if(c.ga=new es,(j=c.ga==null)||(j=f.width*f.o,e(c.Gb.length==0),c.Gb=s(j),c.Uc=0,c.Gb==null?j=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,j=1),j=!j),!j){j=c.ga;var z=c.Fa,q=c.P,G=c.qc,ne=c.mb,de=c.nb,fe=q+1,le=G-1,Te=j.l;if(e(z!=null&&ne!=null&&f!=null),ua[0]=null,ua[1]=ks,ua[2]=na,ua[3]=vr,j.ca=ne,j.tb=de,j.c=f.width,j.i=f.height,e(0<j.c&&0<j.i),1>=G)f=0;else if(j.$a=z[q+0]>>0&3,j.Z=z[q+0]>>2&3,j.Lc=z[q+0]>>4&3,q=z[q+0]>>6&3,0>j.$a||1<j.$a||4<=j.Z||1<j.Lc||q)f=0;else if(Te.put=mr,Te.ac=Fn,Te.bc=li,Te.ma=j,Te.width=f.width,Te.height=f.height,Te.Da=f.Da,Te.v=f.v,Te.va=f.va,Te.j=f.j,Te.o=f.o,j.$a)e:{e(j.$a==1),f=Pn();t:for(;;){if(f==null){f=0;break e}if(e(j!=null),j.mc=f,f.c=j.c,f.i=j.i,f.l=j.l,f.l.ma=j,f.l.width=j.c,f.l.height=j.i,f.a=0,X(f.m,z,fe,le),!ui(j.c,j.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Gi(f.s)?(j.ic=1,z=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(z),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(j.ic=0,f=bs(f,j.c)),!f))break t;f=1;break e}j.mc=null,f=0}else f=le>=j.c*j.i;j=!f}if(j)return null;c.ga.Lc!=1?c.Ga=0:S=F-v}e(c.ga!=null),e(v+S<=F);e:{if(f=(z=c.ga).c,F=z.l.o,z.$a==0){if(fe=c.rc,le=c.Vc,Te=c.Fa,q=c.P+1+v*f,G=c.mb,ne=c.nb+v*f,e(q<=c.P+c.qc),z.Z!=0)for(e(ua[z.Z]!=null),j=0;j<S;++j)ua[z.Z](fe,le,Te,q,G,ne,f),fe=G,le=ne,ne+=f,q+=f;else for(j=0;j<S;++j)r(G,ne,Te,q,f),fe=G,le=ne,ne+=f,q+=f;c.rc=fe,c.Vc=le}else{if(e(z.mc!=null),f=v+S,e((j=z.mc)!=null),e(f<=j.i),j.C>=f)f=1;else if(z.ic||ae(),z.ic){z=j.V,fe=j.Ba,le=j.c;var _e=j.i,re=(Te=1,q=j.$/le,G=j.$%le,ne=j.m,de=j.s,j.$),se=le*_e,Ae=le*f,Pe=de.wc,Ee=re<Ae?_n(de,G,q):null;e(re<=se),e(f<=_e),e(Gi(de));t:for(;;){for(;!ne.h&&re<Ae;){if(G&Pe||(Ee=_n(de,G,q)),e(Ee!=null),ie(ne),256>(_e=jn(Ee.G[0],Ee.H[0],ne)))z[fe+re]=_e,++re,++G>=le&&(G=0,++q<=f&&!(q%16)&&Gr(j,q));else{if(!(280>_e)){Te=0;break t}_e=Wr(_e-256,ne);var Ke,Ue=jn(Ee.G[4],Ee.H[4],ne);if(ie(ne),!(re>=(Ue=gr(le,Ue=Wr(Ue,ne)))&&se-re>=_e)){Te=0;break t}for(Ke=0;Ke<_e;++Ke)z[fe+re+Ke]=z[fe+re+Ke-Ue];for(re+=_e,G+=_e;G>=le;)G-=le,++q<=f&&!(q%16)&&Gr(j,q);re<Ae&&G&Pe&&(Ee=_n(de,G,q))}e(ne.h==Y(ne))}Gr(j,q>f?f:q);break t}!Te||ne.h&&re<se?(Te=0,j.a=ne.h?5:3):j.$=re,f=Te}else f=Or(j,j.V,j.Ba,j.c,j.i,f,xs);if(!f){S=0;break e}}v+S>=F&&(c.Cc=1),S=1}if(!S)return null;if(c.Cc&&((S=c.ga)!=null&&(S.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+v*D}function y(c,f,v,S,D,F){for(;0<D--;){var j,z=c,q=f+(v?1:0),G=c,ne=f+(v?0:3);for(j=0;j<S;++j){var de=G[ne+4*j];de!=255&&(de*=32897,z[q+4*j+0]=z[q+4*j+0]*de>>23,z[q+4*j+1]=z[q+4*j+1]*de>>23,z[q+4*j+2]=z[q+4*j+2]*de>>23)}f+=F}}function R(c,f,v,S,D){for(;0<S--;){var F;for(F=0;F<v;++F){var j=c[f+2*F+0],z=15&(G=c[f+2*F+1]),q=4369*z,G=(240&G|G>>4)*q>>16;c[f+2*F+0]=(240&j|j>>4)*q>>16&240|(15&j|j<<4)*q>>16>>4&15,c[f+2*F+1]=240&G|z}f+=D}}function K(c,f,v,S,D,F,j,z){var q,G,ne=255;for(G=0;G<D;++G){for(q=0;q<S;++q){var de=c[f+q];F[j+4*q]=de,ne&=de}f+=v,j+=z}return ne!=255}function te(c,f,v,S,D){var F;for(F=0;F<D;++F)v[S+F]=c[f+F]>>8}function ae(){Di=y,tn=R,nn=K,kn=te}function xe(c,f,v){E[c]=function(S,D,F,j,z,q,G,ne,de,fe,le,Te,_e,re,se,Ae,Pe){var Ee,Ke=Pe-1>>1,Ue=z[q+0]|G[ne+0]<<16,ot=de[fe+0]|le[Te+0]<<16;e(S!=null);var $e=3*Ue+ot+131074>>2;for(f(S[D+0],255&$e,$e>>16,_e,re),F!=null&&($e=3*ot+Ue+131074>>2,f(F[j+0],255&$e,$e>>16,se,Ae)),Ee=1;Ee<=Ke;++Ee){var Bt=z[q+Ee]|G[ne+Ee]<<16,Ht=de[fe+Ee]|le[Te+Ee]<<16,Mt=Ue+Bt+ot+Ht+524296,Pt=Mt+2*(Bt+ot)>>3;$e=Pt+Ue>>1,Ue=(Mt=Mt+2*(Ue+Ht)>>3)+Bt>>1,f(S[D+2*Ee-1],255&$e,$e>>16,_e,re+(2*Ee-1)*v),f(S[D+2*Ee-0],255&Ue,Ue>>16,_e,re+(2*Ee-0)*v),F!=null&&($e=Mt+ot>>1,Ue=Pt+Ht>>1,f(F[j+2*Ee-1],255&$e,$e>>16,se,Ae+(2*Ee-1)*v),f(F[j+2*Ee+0],255&Ue,Ue>>16,se,Ae+(2*Ee+0)*v)),Ue=Bt,ot=Ht}1&Pe||($e=3*Ue+ot+131074>>2,f(S[D+Pe-1],255&$e,$e>>16,_e,re+(Pe-1)*v),F!=null&&($e=3*ot+Ue+131074>>2,f(F[j+Pe-1],255&$e,$e>>16,se,Ae+(Pe-1)*v)))}}function Ne(){Mi[yf]=DP,Mi[vf]=M5,Mi[C5]=OP,Mi[wf]=F5,Mi[_f]=j5,Mi[Rg]=V5,Mi[L5]=MP,Mi[Dg]=M5,Mi[Og]=F5,Mi[bf]=j5,Mi[Mg]=V5}function qe(c){return c&~FP?0>c?0:255:c>>B5}function h(c,f){return qe((19077*c>>8)+(26149*f>>8)-14234)}function w(c,f,v){return qe((19077*c>>8)-(6419*f>>8)-(13320*v>>8)+8708)}function T(c,f){return qe((19077*c>>8)+(33050*f>>8)-17685)}function B(c,f,v,S,D){S[D+0]=h(c,v),S[D+1]=w(c,f,v),S[D+2]=T(c,f)}function oe(c,f,v,S,D){S[D+0]=T(c,f),S[D+1]=w(c,f,v),S[D+2]=h(c,v)}function pe(c,f,v,S,D){var F=w(c,f,v);f=F<<3&224|T(c,f)>>3,S[D+0]=248&h(c,v)|F>>5,S[D+1]=f}function ke(c,f,v,S,D){var F=240&T(c,f)|15;S[D+0]=240&h(c,v)|w(c,f,v)>>4,S[D+1]=F}function vt(c,f,v,S,D){S[D+0]=255,B(c,f,v,S,D+1)}function It(c,f,v,S,D){oe(c,f,v,S,D),S[D+3]=255}function wt(c,f,v,S,D){B(c,f,v,S,D),S[D+3]=255}function zt(c,f){return 0>c?0:c>f?f:c}function Qt(c,f,v){E[c]=function(S,D,F,j,z,q,G,ne,de){for(var fe=ne+(-2&de)*v;ne!=fe;)f(S[D+0],F[j+0],z[q+0],G,ne),f(S[D+1],F[j+0],z[q+0],G,ne+v),D+=2,++j,++q,ne+=2*v;1&de&&f(S[D+0],F[j+0],z[q+0],G,ne)}}function ts(c,f,v){return v==0?c==0?f==0?6:5:f==0?4:0:v}function ir(c,f,v,S,D){switch(c>>>30){case 3:co(f,v,S,D,0);break;case 2:Nn(f,v,S,D);break;case 1:Vr(f,v,S,D)}}function Cs(c,f){var v,S,D=f.M,F=f.Nb,j=c.oc,z=c.pc+40,q=c.oc,G=c.pc+584,ne=c.oc,de=c.pc+600;for(v=0;16>v;++v)j[z+32*v-1]=129;for(v=0;8>v;++v)q[G+32*v-1]=129,ne[de+32*v-1]=129;for(0<D?j[z-1-32]=q[G-1-32]=ne[de-1-32]=129:(i(j,z-32-1,127,21),i(q,G-32-1,127,9),i(ne,de-32-1,127,9)),S=0;S<c.za;++S){var fe=f.ya[f.aa+S];if(0<S){for(v=-1;16>v;++v)r(j,z+32*v-4,j,z+32*v+12,4);for(v=-1;8>v;++v)r(q,G+32*v-4,q,G+32*v+4,4),r(ne,de+32*v-4,ne,de+32*v+4,4)}var le=c.Gd,Te=c.Hd+S,_e=fe.ad,re=fe.Hc;if(0<D&&(r(j,z-32,le[Te].y,0,16),r(q,G-32,le[Te].f,0,8),r(ne,de-32,le[Te].ea,0,8)),fe.Za){var se=j,Ae=z-32+16;for(0<D&&(S>=c.za-1?i(se,Ae,le[Te].y[15],4):r(se,Ae,le[Te+1].y,0,4)),v=0;4>v;v++)se[Ae+128+v]=se[Ae+256+v]=se[Ae+384+v]=se[Ae+0+v];for(v=0;16>v;++v,re<<=2)se=j,Ae=z+z5[v],ns[fe.Ob[v]](se,Ae),ir(re,_e,16*+v,se,Ae)}else if(se=ts(S,D,fe.Ob[0]),la[se](j,z),re!=0)for(v=0;16>v;++v,re<<=2)ir(re,_e,16*+v,j,z+z5[v]);for(v=fe.Gc,se=ts(S,D,fe.Dd),fo[se](q,G),fo[se](ne,de),re=_e,se=q,Ae=G,255&(fe=v>>0)&&(170&fe?lh(re,256,se,Ae):Li(re,256,se,Ae)),fe=ne,re=de,255&(v>>=8)&&(170&v?lh(_e,320,fe,re):Li(_e,320,fe,re)),D<c.Ub-1&&(r(le[Te].y,0,j,z+480,16),r(le[Te].f,0,q,G+224,8),r(le[Te].ea,0,ne,de+224,8)),v=8*F*c.B,le=c.sa,Te=c.ta+16*S+16*F*c.R,_e=c.qa,fe=c.ra+8*S+v,re=c.Ha,se=c.Ia+8*S+v,v=0;16>v;++v)r(le,Te+v*c.R,j,z+32*v,16);for(v=0;8>v;++v)r(_e,fe+v*c.B,q,G+32*v,8),r(re,se+v*c.B,ne,de+32*v,8)}}function Ls(c,f,v,S,D,F,j,z,q){var G=[0],ne=[0],de=0,fe=q!=null?q.kd:0,le=q??new ea;if(c==null||12>v)return 7;le.data=c,le.w=f,le.ha=v,f=[f],v=[v],le.gb=[le.gb];e:{var Te=f,_e=v,re=le.gb;if(e(c!=null),e(_e!=null),e(re!=null),re[0]=0,12<=_e[0]&&!n(c,Te[0],"RIFF")){if(n(c,Te[0]+8,"WEBP")){re=3;break e}var se=Be(c,Te[0]+4);if(12>se||4294967286<se){re=3;break e}if(fe&&se>_e[0]-8){re=7;break e}re[0]=se,Te[0]+=12,_e[0]-=12}re=0}if(re!=0)return re;for(se=0<le.gb[0],v=v[0];;){e:{var Ae=c;_e=f,re=v;var Pe=G,Ee=ne,Ke=Te=[0];if(($e=de=[de])[0]=0,8>re[0])re=7;else{if(!n(Ae,_e[0],"VP8X")){if(Be(Ae,_e[0]+4)!=10){re=3;break e}if(18>re[0]){re=7;break e}var Ue=Be(Ae,_e[0]+8),ot=1+ze(Ae,_e[0]+12);if(2147483648<=ot*(Ae=1+ze(Ae,_e[0]+15))){re=3;break e}Ke!=null&&(Ke[0]=Ue),Pe!=null&&(Pe[0]=ot),Ee!=null&&(Ee[0]=Ae),_e[0]+=18,re[0]-=18,$e[0]=1}re=0}}if(de=de[0],Te=Te[0],re!=0)return re;if(_e=!!(2&Te),!se&&de)return 3;if(F!=null&&(F[0]=!!(16&Te)),j!=null&&(j[0]=_e),z!=null&&(z[0]=0),j=G[0],Te=ne[0],de&&_e&&q==null){re=0;break}if(4>v){re=7;break}if(se&&de||!se&&!de&&!n(c,f[0],"ALPH")){v=[v],le.na=[le.na],le.P=[le.P],le.Sa=[le.Sa];e:{Ue=c,re=f,se=v;var $e=le.gb;Pe=le.na,Ee=le.P,Ke=le.Sa,ot=22,e(Ue!=null),e(se!=null),Ae=re[0];var Bt=se[0];for(e(Pe!=null),e(Ke!=null),Pe[0]=null,Ee[0]=null,Ke[0]=0;;){if(re[0]=Ae,se[0]=Bt,8>Bt){re=7;break e}var Ht=Be(Ue,Ae+4);if(4294967286<Ht){re=3;break e}var Mt=8+Ht+1&-2;if(ot+=Mt,0<$e&&ot>$e){re=3;break e}if(!n(Ue,Ae,"VP8 ")||!n(Ue,Ae,"VP8L")){re=0;break e}if(Bt[0]<Mt){re=7;break e}n(Ue,Ae,"ALPH")||(Pe[0]=Ue,Ee[0]=Ae+8,Ke[0]=Ht),Ae+=Mt,Bt-=Mt}}if(v=v[0],le.na=le.na[0],le.P=le.P[0],le.Sa=le.Sa[0],re!=0)break}v=[v],le.Ja=[le.Ja],le.xa=[le.xa];e:if($e=c,re=f,se=v,Pe=le.gb[0],Ee=le.Ja,Ke=le.xa,Ue=re[0],Ae=!n($e,Ue,"VP8 "),ot=!n($e,Ue,"VP8L"),e($e!=null),e(se!=null),e(Ee!=null),e(Ke!=null),8>se[0])re=7;else{if(Ae||ot){if($e=Be($e,Ue+4),12<=Pe&&$e>Pe-12){re=3;break e}if(fe&&$e>se[0]-8){re=7;break e}Ee[0]=$e,re[0]+=8,se[0]-=8,Ke[0]=ot}else Ke[0]=5<=se[0]&&$e[Ue+0]==47&&!($e[Ue+4]>>5),Ee[0]=se[0];re=0}if(v=v[0],le.Ja=le.Ja[0],le.xa=le.xa[0],f=f[0],re!=0)break;if(4294967286<le.Ja)return 3;if(z==null||_e||(z[0]=le.xa?2:1),j=[j],Te=[Te],le.xa){if(5>v){re=7;break}z=j,fe=Te,_e=F,c==null||5>v?c=0:5<=v&&c[f+0]==47&&!(c[f+4]>>5)?(se=[0],$e=[0],Pe=[0],X(Ee=new M,c,f,v),Ye(Ee,se,$e,Pe)?(z!=null&&(z[0]=se[0]),fe!=null&&(fe[0]=$e[0]),_e!=null&&(_e[0]=Pe[0]),c=1):c=0):c=0}else{if(10>v){re=7;break}z=Te,c==null||10>v||!ol(c,f+3,v-3)?c=0:(fe=c[f+0]|c[f+1]<<8|c[f+2]<<16,_e=16383&(c[f+7]<<8|c[f+6]),c=16383&(c[f+9]<<8|c[f+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=le.Ja||!_e||!c?c=0:(j&&(j[0]=_e),z&&(z[0]=c),c=1))}if(!c||(j=j[0],Te=Te[0],de&&(G[0]!=j||ne[0]!=Te)))return 3;q!=null&&(q[0]=le,q.offset=f-q.w,e(4294967286>f-q.w),e(q.offset==q.ha-v));break}return re==0||re==7&&de&&q==null?(F!=null&&(F[0]|=le.na!=null&&0<le.na.length),S!=null&&(S[0]=j),D!=null&&(D[0]=Te),0):re}function ih(c,f,v){var S=f.width,D=f.height,F=0,j=0,z=S,q=D;if(f.Da=c!=null&&0<c.Da,f.Da&&(z=c.cd,q=c.bd,F=c.v,j=c.j,11>v||(F&=-2,j&=-2),0>F||0>j||0>=z||0>=q||F+z>S||j+q>D))return 0;if(f.v=F,f.j=j,f.va=F+z,f.o=j+q,f.U=z,f.T=q,f.da=c!=null&&0<c.da,f.da){if(!gt(z,q,v=[c.ib],F=[c.hb]))return 0;f.ib=v[0],f.hb=F[0]}return f.ob=c!=null&&c.ob,f.Kb=c==null||!c.Sd,f.da&&(f.ob=f.ib<3*S/4&&f.hb<3*D/4,f.Kb=0),1}function sh(c){if(c==null)return 2;if(11>c.S){var f=c.f.RGBA;f.fb+=(c.height-1)*f.A,f.A=-f.A}else f=c.f.kb,c=c.height,f.O+=(c-1)*f.fa,f.fa=-f.fa,f.N+=(c-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(c-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(c-1)*f.lb,f.lb=-f.lb);return 0}function bu(c,f,v,S){if(S==null||0>=c||0>=f)return 2;if(v!=null){if(v.Da){var D=v.cd,F=v.bd,j=-2&v.v,z=-2&v.j;if(0>j||0>z||0>=D||0>=F||j+D>c||z+F>f)return 2;c=D,f=F}if(v.da){if(!gt(c,f,D=[v.ib],F=[v.hb]))return 2;c=D[0],f=F[0]}}S.width=c,S.height=f;e:{var q=S.width,G=S.height;if(c=S.S,0>=q||0>=G||!(c>=yf&&13>c))c=2;else{if(0>=S.Rd&&S.sd==null){j=F=D=f=0;var ne=(z=q*q5[c])*G;if(11>c||(F=(G+1)/2*(f=(q+1)/2),c==12&&(j=(D=q)*G)),(G=s(ne+2*F+j))==null){c=1;break e}S.sd=G,11>c?((q=S.f.RGBA).eb=G,q.fb=0,q.A=z,q.size=ne):((q=S.f.kb).y=G,q.O=0,q.fa=z,q.Fd=ne,q.f=G,q.N=0+ne,q.Ab=f,q.Cd=F,q.ea=G,q.W=0+ne+F,q.Db=f,q.Ed=F,c==12&&(q.F=G,q.J=0+ne+2*F),q.Tc=j,q.lb=D)}if(f=1,D=S.S,F=S.width,j=S.height,D>=yf&&13>D)if(11>D)c=S.f.RGBA,f&=(z=Math.abs(c.A))*(j-1)+F<=c.size,f&=z>=F*q5[D],f&=c.eb!=null;else{c=S.f.kb,z=(F+1)/2,ne=(j+1)/2,q=Math.abs(c.fa),G=Math.abs(c.Ab);var de=Math.abs(c.Db),fe=Math.abs(c.lb),le=fe*(j-1)+F;f&=q*(j-1)+F<=c.Fd,f&=G*(ne-1)+z<=c.Cd,f=(f&=de*(ne-1)+z<=c.Ed)&q>=F&G>=z&de>=z,f&=c.y!=null,f&=c.f!=null,f&=c.ea!=null,D==12&&(f&=fe>=F,f&=le<=c.Tc,f&=c.F!=null)}else f=0;c=f?0:2}}return c!=0||v!=null&&v.fd&&(c=sh(S)),c}var sr=64,xu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Su=24,Au=32,oh=8,Yr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(c){return c},E.Predictor2=function(c,f,v){return f[v+0]},E.Predictor3=function(c,f,v){return f[v+1]},E.Predictor4=function(c,f,v){return f[v-1]},E.Predictor5=function(c,f,v){return He(He(c,f[v+1]),f[v+0])},E.Predictor6=function(c,f,v){return He(c,f[v-1])},E.Predictor7=function(c,f,v){return He(c,f[v+0])},E.Predictor8=function(c,f,v){return He(f[v-1],f[v+0])},E.Predictor9=function(c,f,v){return He(f[v+0],f[v+1])},E.Predictor10=function(c,f,v){return He(He(c,f[v-1]),He(f[v+0],f[v+1]))},E.Predictor11=function(c,f,v){var S=f[v+0];return 0>=yt(S>>24&255,c>>24&255,(f=f[v-1])>>24&255)+yt(S>>16&255,c>>16&255,f>>16&255)+yt(S>>8&255,c>>8&255,f>>8&255)+yt(255&S,255&c,255&f)?S:c},E.Predictor12=function(c,f,v){var S=f[v+0];return(tt((c>>24&255)+(S>>24&255)-((f=f[v-1])>>24&255))<<24|tt((c>>16&255)+(S>>16&255)-(f>>16&255))<<16|tt((c>>8&255)+(S>>8&255)-(f>>8&255))<<8|tt((255&c)+(255&S)-(255&f)))>>>0},E.Predictor13=function(c,f,v){var S=f[v-1];return(dt((c=He(c,f[v+0]))>>24&255,S>>24&255)<<24|dt(c>>16&255,S>>16&255)<<16|dt(c>>8&255,S>>8&255)<<8|dt(c>>0&255,S>>0&255))>>>0};var Cg=E.PredictorAdd0;E.PredictorAdd1=nt,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var ah=E.PredictorAdd2;Et("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var hf,Ci=E.ColorIndexInverseTransform,Eu=E.MapARGB,df=E.VP8LColorIndexInverseTransformAlpha,ff=E.MapAlpha,ia=E.VP8LPredictorsAdd=[];ia.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var vl,Qr,jr,sa,lo,uo,Tu,co,Nn,lh,Vr,Li,Iu,pf,uh,wl,_l,oa,bl,Pu,xl,aa,ch,Ri,Di,tn,nn,kn,Wn=s(511),ho=s(2041),hh=s(225),Nu=s(767),mf=0,Lg=ho,gf=hh,fi=Nu,Oi=Wn,yf=0,vf=1,C5=2,wf=3,_f=4,Rg=5,L5=6,Dg=7,Og=8,bf=9,Mg=10,_P=[2,3,7],bP=[3,3,11],R5=[280,256,256,256,40],xP=[0,1,1,1,0],SP=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],AP=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],EP=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],TP=8,Fg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],jg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],dh=null,IP=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],PP=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],D5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],NP=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],kP=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],CP=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],LP=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],la=[],ns=[],fo=[],RP=1,O5=2,ua=[],Mi=[];xe("UpsampleRgbLinePair",B,3),xe("UpsampleBgrLinePair",oe,3),xe("UpsampleRgbaLinePair",wt,4),xe("UpsampleBgraLinePair",It,4),xe("UpsampleArgbLinePair",vt,4),xe("UpsampleRgba4444LinePair",ke,2),xe("UpsampleRgb565LinePair",pe,2);var DP=E.UpsampleRgbLinePair,OP=E.UpsampleBgrLinePair,M5=E.UpsampleRgbaLinePair,F5=E.UpsampleBgraLinePair,j5=E.UpsampleArgbLinePair,V5=E.UpsampleRgba4444LinePair,MP=E.UpsampleRgb565LinePair,xf=16,Sf=1<<xf-1,fh=-227,Vg=482,B5=6,FP=(256<<B5)-1,U5=0,jP=s(256),VP=s(256),BP=s(256),UP=s(256),zP=s(Vg-fh),qP=s(Vg-fh);Qt("YuvToRgbRow",B,3),Qt("YuvToBgrRow",oe,3),Qt("YuvToRgbaRow",wt,4),Qt("YuvToBgraRow",It,4),Qt("YuvToArgbRow",vt,4),Qt("YuvToRgba4444Row",ke,2),Qt("YuvToRgb565Row",pe,2);var z5=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Af=[0,2,8],HP=[8,7,6,4,4,2,2,2,1,1,1,1],$P=1;this.WebPDecodeRGBA=function(c,f,v,S,D){var F=vf,j=new oo,z=new nr;j.ba=z,z.S=F,z.width=[z.width],z.height=[z.height];var q=z.width,G=z.height,ne=new ai;if(ne==null||c==null)var de=2;else e(ne!=null),de=Ls(c,f,v,ne.width,ne.height,ne.Pd,ne.Qd,ne.format,null);if(de!=0?q=0:(q!=null&&(q[0]=ne.width[0]),G!=null&&(G[0]=ne.height[0]),q=1),q){z.width=z.width[0],z.height=z.height[0],S!=null&&(S[0]=z.width),D!=null&&(D[0]=z.height);e:{if(S=new eo,(D=new ea).data=c,D.w=f,D.ha=v,D.kd=1,f=[0],e(D!=null),((c=Ls(D.data,D.w,D.ha,null,null,null,f,null,D))==0||c==7)&&f[0]&&(c=4),(f=c)==0){if(e(j!=null),S.data=D.data,S.w=D.w+D.offset,S.ha=D.ha-D.offset,S.put=mr,S.ac=Fn,S.bc=li,S.ma=j,D.xa){if((c=Pn())==null){j=1;break e}if(function(fe,le){var Te=[0],_e=[0],re=[0];t:for(;;){if(fe==null)return 0;if(le==null)return fe.a=2,0;if(fe.l=le,fe.a=0,X(fe.m,le.data,le.w,le.ha),!Ye(fe.m,Te,_e,re)){fe.a=3;break t}if(fe.xb=O5,le.width=Te[0],le.height=_e[0],!ui(Te[0],_e[0],1,fe,null))break t;return 1}return e(fe.a!=0),0}(c,S)){if(S=(f=bu(S.width,S.height,j.Oa,j.ba))==0){t:{S=c;n:for(;;){if(S==null){S=0;break t}if(e(S.s.yc!=null),e(S.s.Ya!=null),e(0<S.s.Wb),e((v=S.l)!=null),e((D=v.ma)!=null),S.xb!=0){if(S.ca=D.ba,S.tb=D.tb,e(S.ca!=null),!ih(D.Oa,v,wf)){S.a=2;break n}if(!bs(S,v.width)||v.da)break n;if((v.da||Lt(S.ca.S))&&ae(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&ae()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!it(S.s.vb,S.s.Wa.Xa)){S.a=1;break n}S.xb=0}if(!Or(S,S.V,S.Ba,S.c,S.i,v.o,Bo))break n;D.Dc=S.Ma,S=1;break t}e(S.a!=0),S=0}S=!S}S&&(f=c.a)}else f=c.a}else{if((c=new sl)==null){j=1;break e}if(c.Fa=D.na,c.P=D.P,c.qc=D.Sa,al(c,S)){if((f=bu(S.width,S.height,j.Oa,j.ba))==0){if(c.Aa=0,v=j.Oa,e((D=c)!=null),v!=null){if(0<(q=0>(q=v.Md)?0:100<q?255:255*q/100)){for(G=ne=0;4>G;++G)12>(de=D.pb[G]).lc&&(de.ia=q*HP[0>de.lc?0:de.lc]>>3),ne|=de.ia;ne&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=v.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}pu(c,S)||(f=c.a)}}else f=c.a}f==0&&j.Oa!=null&&j.Oa.fd&&(f=sh(j.ba))}j=f}F=j!=0?null:11>F?z.f.RGBA.eb:z.f.kb.y}else F=null;return F};var q5=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,C){for(var V="",I=0;I<4;I++)V+=String.fromCharCode(E[C++]);return V}function d(E,C){return(E[C+0]<<0|E[C+1]<<8|E[C+2]<<16)>>>0}function p(E,C){return(E[C+0]<<0|E[C+1]<<8|E[C+2]<<16|E[C+3]<<24)>>>0}new l;var g=[0],m=[0],A=[],x=new l,P=t,_=function(E,C){var V={},I=0,k=!1,L=0,Z=0;if(V.frames=[],!function(W,Y,ee,ie){for(var he=0;he<ie;he++)if(W[Y+he]!=ee.charCodeAt(he))return!0;return!1}(E,C,"RIFF",4)){for(p(E,C+=4),C+=8;C<E.length;){var we=u(E,C),ge=p(E,C+=4);C+=4;var me=ge+(1&ge);switch(we){case"VP8 ":case"VP8L":V.frames[I]===void 0&&(V.frames[I]={}),(ce=V.frames[I]).src_off=k?Z:C-8,ce.src_size=L+ge+8,I++,k&&(k=!1,L=0,Z=0);break;case"VP8X":(ce=V.header={}).feature_flags=E[C];var X=C+4;ce.canvas_width=1+d(E,X),X+=3,ce.canvas_height=1+d(E,X),X+=3;break;case"ALPH":k=!0,L=me+8,Z=C-8;break;case"ANIM":(ce=V.header).bgcolor=p(E,C),X=C+4,ce.loop_count=(Oe=E)[(M=X)+0]<<0|Oe[M+1]<<8,X+=2;break;case"ANMF":var ue,ce;(ce=V.frames[I]={}).offset_x=2*d(E,C),C+=3,ce.offset_y=2*d(E,C),C+=3,ce.width=1+d(E,C),C+=3,ce.height=1+d(E,C),C+=3,ce.duration=d(E,C),C+=3,ue=E[C++],ce.dispose=1&ue,ce.blend=ue>>1&1}we!="ANMF"&&(C+=me)}var Oe,M;return V}}(P,0);_.response=P,_.rgbaoutput=!0,_.dataurl=!1;var b=_.header?_.header:null,N=_.frames?_.frames:null;if(b){b.loop_counter=b.loop_count,g=[b.canvas_height],m=[b.canvas_width];for(var H=0;H<N.length&&N[H].blend!=0;H++);}var $=N[0],J=x.WebPDecodeRGBA(P,$.src_off,$.src_size,m,g);$.rgba=J,$.imgwidth=m[0],$.imgheight=g[0];for(var O=0;O<m[0]*g[0]*4;O++)A[O]=J[O];return this.width=m,this.height=g,this.data=A,this}(function(t){var e=function(){return typeof Yy=="function"},n=function(g,m,A,x){var P=4,_=o;switch(x){case t.image_compression.FAST:P=1,_=s;break;case t.image_compression.MEDIUM:P=6,_=a;break;case t.image_compression.SLOW:P=9,_=l}g=r(g,m,A,_);var b=Yy(g,{level:P});return t.__addimage__.arrayBufferToBinaryString(b)},r=function(g,m,A,x){for(var P,_,b,N=g.length/m,H=new Uint8Array(g.length+N),$=d(),J=0;J<N;J+=1){if(b=J*m,P=g.subarray(b,b+m),x)H.set(x(P,A,_),b+J);else{for(var O,E=$.length,C=[];O<E;O+=1)C[O]=$[O](P,A,_);var V=p(C.concat());H.set(C[V],b+J)}_=P}return H},i=function(g){var m=Array.apply([],g);return m.unshift(0),m},s=function(g,m){var A,x=[],P=g.length;x[0]=1;for(var _=0;_<P;_+=1)A=g[_-m]||0,x[_+1]=g[_]-A+256&255;return x},o=function(g,m,A){var x,P=[],_=g.length;P[0]=2;for(var b=0;b<_;b+=1)x=A&&A[b]||0,P[b+1]=g[b]-x+256&255;return P},a=function(g,m,A){var x,P,_=[],b=g.length;_[0]=3;for(var N=0;N<b;N+=1)x=g[N-m]||0,P=A&&A[N]||0,_[N+1]=g[N]+256-(x+P>>>1)&255;return _},l=function(g,m,A){var x,P,_,b,N=[],H=g.length;N[0]=4;for(var $=0;$<H;$+=1)x=g[$-m]||0,P=A&&A[$]||0,_=A&&A[$-m]||0,b=u(x,P,_),N[$+1]=g[$]-b+256&255;return N},u=function(g,m,A){if(g===m&&m===A)return g;var x=Math.abs(m-A),P=Math.abs(g-A),_=Math.abs(g+m-A-A);return x<=P&&x<=_?g:P<=_?m:A},d=function(){return[i,s,o,a,l]},p=function(g){var m=g.map(function(A){return A.reduce(function(x,P){return x+Math.abs(P)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(g,m,A,x){var P,_,b,N,H,$,J,O,E,C,V,I,k,L,Z,we=this.decode.FLATE_DECODE,ge="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(b=new aU(g)).imgData,_=b.bits,P=b.colorSpace,H=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){E=(O=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,V=new Uint8Array(E*b.colors),C=new Uint8Array(E);var me,X=b.pixelBitlength-b.bits;for(L=0,Z=0;L<E;L++){for(k=O[L],me=0;me<X;)V[Z++]=k>>>me&255,me+=b.bits;C[L]=k>>>me&255}}if(b.bits===16){E=(O=new Uint32Array(b.decodePixels().buffer)).length,V=new Uint8Array(E*(32/b.pixelBitlength)*b.colors),C=new Uint8Array(E*(32/b.pixelBitlength)),I=b.colors>1,L=0,Z=0;for(var ue=0;L<E;)k=O[L++],V[Z++]=k>>>0&255,I&&(V[Z++]=k>>>16&255,k=O[L++],V[Z++]=k>>>0&255),C[ue++]=k>>>16&255;_=8}x!==t.image_compression.NONE&&e()?(g=n(V,b.width*b.colors,b.colors,x),J=n(C,b.width,1,x)):(g=V,J=C,we=void 0)}if(b.colorType===3&&(P=this.color_spaces.INDEXED,$=b.palette,b.transparency.indexed)){var ce=b.transparency.indexed,Oe=0;for(L=0,E=ce.length;L<E;++L)Oe+=ce[L];if((Oe/=255)===E-1&&ce.indexOf(0)!==-1)N=[ce.indexOf(0)];else if(Oe!==E){for(O=b.decodePixels(),C=new Uint8Array(O.length),L=0,E=O.length;L<E;L++)C[L]=ce[O[L]];J=n(C,b.width,1)}}var M=function(W){var Y;switch(W){case t.image_compression.FAST:Y=11;break;case t.image_compression.MEDIUM:Y=13;break;case t.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(x);return we===this.decode.FLATE_DECODE&&(ge="/Predictor "+M+" "),ge+="/Colors "+H+" /BitsPerComponent "+_+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(J&&this.__addimage__.isArrayBuffer(J)||this.__addimage__.isArrayBufferView(J))&&(J=this.__addimage__.arrayBufferToBinaryString(J)),{alias:A,data:g,index:m,filter:we,decodeParameters:ge,transparency:N,palette:$,sMask:J,predictor:M,width:b.width,height:b.height,bitsPerComponent:_,colorSpace:P}}}})(ct.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new lU(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},d=new r1(100).encode(u,100);return t.processJPEG.call(this,d,n,r,i)},t.processGIF87A=t.processGIF89A}(ct.API),os.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},os.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Jt.log("bit decode error:"+n)}},os.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},os.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},os.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},os.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=l,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=u}this.pos+=t}},os.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},os.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},os.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},os.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new os(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new r1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ct.API),A4.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new A4(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new r1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ct.API),ct.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var d=r[u],p=r[u+1],g=r[u+2],m=r[u+3];s[a++]=d,s[a++]=p,s[a++]=g,o[l++]=m}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:A,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Mu=ct.API,cp=Mu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,p=e.doKerning!==!1,g=0,m=t.length,A=0,x=a[0]||l,P=[];for(n=0;n<m;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?P.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=p&&Wt(u[r])==="object"&&!isNaN(parseInt(u[r][A],10))?u[r][A]/d:0,P.push((a[r]||x)/l+g)),A=r;return P},_4=Mu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Mu.processArabic&&(t=Mu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:cp.apply(this,arguments).reduce(function(s,o){return s+o},0)},b4=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},x4=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,d=[],p=[d],g=n.textIndent||0,m=0,A=0,x=t.split(" "),P=cp.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var _=Array(l).join(" "),b=[];x.map(function(H){(H=H.split(/\s*\n/)).length>1?b=b.concat(H.map(function($,J){return(J&&$.length?`
`:"")+$})):b.push(H[0])}),x=b,l=_4.apply(this,[_,n])}for(s=0,o=x.length;s<o;s++){var N=0;if(r=x[s],l&&r[0]==`
`&&(r=r.substr(1),N=1),g+m+(A=(i=cp.apply(this,[r,n])).reduce(function(H,$){return H+$},0))>e||N){if(A>e){for(a=b4.apply(this,[r,i,e-(g+m),e]),d.push(a.shift()),d=[a.pop()];a.length;)p.push([a.shift()]);A=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(H,$){return H+$},0)}else d=[r];p.push(d),g=A+l,m=P}else d.push(r),g+=m+A,m=P}return u=l?function(H,$){return($?_:"")+H.join(" ")}:function(H){return H.join(" ")},p.map(u)},Mu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(x4.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=t.__fontmetrics__.compress=function(p){var g,m,A,x,P=["{"];for(var _ in p){if(g=p[_],isNaN(parseInt(_,10))?m="'"+_+"'":(_=parseInt(_,10),m=(m=s(_).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof g=="number")g<0?(A=s(g).slice(3),x="-"):(A=s(g).slice(2),x=""),A=x+A.slice(0,-1)+r[A.slice(-1)];else{if(Wt(g)!=="object")throw new Error("Don't know what to do with value type "+Wt(g)+".");A=o(g)}P.push(m+A)}return P.push("}"),P.join("")},a=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,A,x,P={},_=1,b=P,N=[],H="",$="",J=p.length-1,O=1;O<J;O+=1)(x=p[O])=="'"?g?(A=g.join(""),g=void 0):g=[]:g?g.push(x):x=="{"?(N.push([b,A]),b={},A=void 0):x=="}"?((m=N.pop())[0][m[1]]=b,A=void 0,b=m[0]):x=="-"?_=-1:A===void 0?n.hasOwnProperty(x)?(H+=n[x],A=parseInt(H,16)*_,_=1,H=""):H+=x:n.hasOwnProperty(x)?($+=n[x],b[A]=parseInt($,16)*_,_=1,A=void 0,$=""):$+=x;return P},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var g=p.font,m=d.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var A=u.Unicode[g.postScriptName];A&&(g.metadata.Unicode.encoding=A,g.encoding=A.codePages[0])}])}(ct.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(ad(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ct),function(t){function e(){return(ht.canvg?Promise.resolve(ht.canvg):Hy(()=>import("./index.es-CfpPygTp.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ct.API.addSvgAsImage=function(n,r,i,s,o,a,l,u){if(isNaN(r)||isNaN(i))throw Jt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Jt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var p=d.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,d.width,d.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(A){return A.fromString(p,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(g)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),r,i,s,o,l,u)})}}(),ct.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ct.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,d=0,p=0;function g(A,x){var P,_=!1;for(P=0;P<A.length;P+=1)A[P]===x&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=a.length;for(p=0;p<m;p+=1)n[a[p]].value=n[a[p]].defaultValue,n[a[p]].explicitSet=!1}if(Wt(t)==="object"){for(i in t)if(s=t[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,x=[];for(A in n)n[A].explicitSet===!0&&(n[A].type==="name"?x.push("/"+A+" /"+n[A].value):x.push("/"+A+" "+n[A].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ct.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],p=0,g=s.length;p<g;++p){if(a=o.metadata.characterToGlyph(s.charCodeAt(p)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(p),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(u[4-a.length],a)}return d.join("")},r=function(s){var o,a,l,u,d,p,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(a=Object.keys(s).sort(function(m,A){return m-A})).length;p<g;p++)o=a[p],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",A=0;A<g.length;A++)m+=String.fromCharCode(g[A]);var x=u();d({data:m,addLength1:!0,objectId:x}),l("endobj");var P=u();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:P}),l("endobj");var _=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Uu(a.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Uu(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+P+" 0 R"),l("/BaseFont /"+Uu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var A=u();d({data:g,addLength1:!0,objectId:A}),l("endobj");var x=u();d({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var P=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+A+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Uu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Uu(a.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,d=s.options||{},p=s.mutex||{},g=p.pdfEscape,m=p.activeFontKey,A=p.fonts,x=m,P="",_=0,b="",N=A[x].encoding;if(A[x].encoding!=="Identity-H")return{text:a,x:l,y:u,options:d,mutex:p};for(b=a,x=m,Array.isArray(a)&&(b=a[0]),_=0;_<b.length;_+=1)A[x].metadata.hasOwnProperty("cmap")&&(o=A[x].metadata.cmap.unicode.codeMap[b[_].charCodeAt(0)]),o||b[_].charCodeAt(0)<256&&A[x].metadata.hasOwnProperty("Unicode")?P+=b[_]:P+="";var H="";return parseInt(x.slice(1))<14||N==="WinAnsiEncoding"?H=g(P,x).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(H=n(P,A[x])),p.isHex=!0,{text:H,x:l,y:u,options:d,mutex:p}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ct),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,d,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,N=0;this.__bidiEngine__={};var H=function(I){var k=I.charCodeAt(),L=k>>8,Z=x[L];return Z!==void 0?p[256*Z+(255&k)]:L===252||L===253?"AL":_.test(L)?"L":L===8?"R":"N"},$=function(I){for(var k,L=0;L<I.length;L++){if((k=H(I.charAt(L)))==="L")return!1;if(k==="R")return!0}return!1},J=function(I,k,L,Z){var we,ge,me,X,ue=k[Z];switch(ue){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(ue="AN");break;case"AL":b=!0,ue="R";break;case"WS":ue="N";break;case"CS":Z<1||Z+1>=k.length||(we=L[Z-1])!=="EN"&&we!=="AN"||(ge=k[Z+1])!=="EN"&&ge!=="AN"?ue="N":b&&(ge="AN"),ue=ge===we?ge:"N";break;case"ES":ue=(we=Z>0?L[Z-1]:"B")==="EN"&&Z+1<k.length&&k[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&L[Z-1]==="EN"){ue="EN";break}if(b){ue="N";break}for(me=Z+1,X=k.length;me<X&&k[me]==="ET";)me++;ue=me<X&&k[me]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(X=k.length,me=Z+1;me<X&&k[me]==="NSM";)me++;if(me<X){var ce=I[Z],Oe=ce>=1425&&ce<=2303||ce===64286;if(we=k[me],Oe&&(we==="R"||we==="AL")){ue="R";break}}}ue=Z<1||(we=k[Z-1])==="B"?"N":L[Z-1];break;case"B":b=!1,i=!0,ue=N;break;case"S":s=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":ue="N"}return ue},O=function(I,k,L){var Z=I.split("");return L&&E(Z,L,{hiLevel:N}),Z.reverse(),k&&k.reverse(),Z.join("")},E=function(I,k,L){var Z,we,ge,me,X,ue=-1,ce=I.length,Oe=0,M=[],W=N?m:g,Y=[];for(b=!1,i=!1,s=!1,we=0;we<ce;we++)Y[we]=H(I[we]);for(ge=0;ge<ce;ge++){if(X=Oe,M[ge]=J(I,Y,M,ge),Z=240&(Oe=W[X][A[M[ge]]]),Oe&=15,k[ge]=me=W[Oe][5],Z>0)if(Z===16){for(we=ue;we<ge;we++)k[we]=1;ue=-1}else ue=-1;if(W[Oe][6])ue===-1&&(ue=ge);else if(ue>-1){for(we=ue;we<ge;we++)k[we]=me;ue=-1}Y[ge]==="B"&&(k[ge]=0),L.hiLevel|=me}s&&function(ee,ie,he){for(var ye=0;ye<he;ye++)if(ee[ye]==="S"){ie[ye]=N;for(var ve=ye-1;ve>=0&&ee[ve]==="WS";ve--)ie[ve]=N}}(Y,k,ce)},C=function(I,k,L,Z,we){if(!(we.hiLevel<I)){if(I===1&&N===1&&!i)return k.reverse(),void(L&&L.reverse());for(var ge,me,X,ue,ce=k.length,Oe=0;Oe<ce;){if(Z[Oe]>=I){for(X=Oe+1;X<ce&&Z[X]>=I;)X++;for(ue=Oe,me=X-1;ue<me;ue++,me--)ge=k[ue],k[ue]=k[me],k[me]=ge,L&&(ge=L[ue],L[ue]=L[me],L[me]=ge);Oe=X}Oe++}}},V=function(I,k,L){var Z=I.split(""),we={hiLevel:N};return L||(L=[]),E(Z,L,we),function(ge,me,X){if(X.hiLevel!==0&&d)for(var ue,ce=0;ce<ge.length;ce++)me[ce]===1&&(ue=P.indexOf(ge[ce]))>=0&&(ge[ce]=P[ue+1])}(Z,L,we),C(2,Z,k,L,we),C(1,Z,k,L,we),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(I,k,L){if(function(we,ge){if(ge)for(var me=0;me<we.length;me++)ge[me]=me;a===void 0&&(a=$(we)),u===void 0&&(u=$(we))}(I,k),o||!l||u)if(o&&l&&a^u)N=a?1:0,I=O(I,k,L);else if(!o&&l&&u)N=a?1:0,I=V(I,k,L),I=O(I,k);else if(!o||a||l||u){if(o&&!l&&a^u)I=O(I,k),a?(N=0,I=V(I,k,L)):(N=1,I=V(I,k,L),I=O(I,k));else if(o&&a&&!l&&u)N=1,I=V(I,k,L),I=O(I,k);else if(!o&&!l&&a^u){var Z=d;a?(N=1,I=V(I,k,L),N=0,d=!1,I=V(I,k,L),d=Z):(N=0,I=V(I,k,L),I=O(I,k),N=1,d=!1,I=V(I,k,L),d=Z,I=O(I,k))}}else N=0,I=V(I,k,L);else N=a?1:0,I=V(I,k,L);return I},this.__bidiEngine__.setOptions=function(I){I&&(o=I.isInputVisual,l=I.isOutputVisual,a=I.isInputRtl,u=I.isOutputRtl,d=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ct),ct.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Za(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new SU(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new uU(this.contents),this.head=new hU(this),this.name=new gU(this),this.cmap=new yP(this),this.toUnicode={},this.hhea=new dU(this),this.maxp=new yU(this),this.hmtx=new vU(this),this.post=new pU(this),this.os2=new fU(this),this.loca=new xU(this),this.glyf=new wU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var ws,Za=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),uU=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,d,p,g,m,A,x;for(x in m=Object.keys(n).length,l=Math.log(2),p=16*Math.floor(Math.log(m)/l),o=Math.floor(p/l),d=16*m-p,(i=new Za).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(o),i.writeShort(d),s=16*m,u=i.pos+s,a=null,A=[],n)for(g=n[x],i.writeString(x),i.writeInt(t(g)),i.writeInt(u),i.writeInt(g.length),A=A.concat(g),x==="head"&&(a=u),u+=g.length;u%4;)A.push(0),u++;return i.write(A),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=vP.call(n);n.length%4;)n.push(0);for(s=new Za(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),cU={}.hasOwnProperty,Qs=function(t,e){for(var n in e)cU.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};ws=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var hU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Qs(e,ws),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Za).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),E4=function(){function t(e,n){var r,i,s,o,a,l,u,d,p,g,m,A,x,P,_,b,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,s=function(){var H,$;for($=[],l=H=0;0<=g?H<g:H>g;l=0<=g?++H:--H)$.push(e.readUInt16());return $}(),e.pos+=2,x=function(){var H,$;for($=[],l=H=0;0<=g?H<g:H>g;l=0<=g?++H:--H)$.push(e.readUInt16());return $}(),u=function(){var H,$;for($=[],l=H=0;0<=g?H<g:H>g;l=0<=g?++H:--H)$.push(e.readUInt16());return $}(),d=function(){var H,$;for($=[],l=H=0;0<=g?H<g:H>g;l=0<=g?++H:--H)$.push(e.readUInt16());return $}(),i=(this.length-e.pos+this.offset)/2,a=function(){var H,$;for($=[],l=H=0;0<=i?H<i:H>i;l=0<=i?++H:--H)$.push(e.readUInt16());return $}(),l=_=0,N=s.length;_<N;l=++_)for(P=s[l],r=b=A=x[l];A<=P?b<=P:b>=P;r=A<=P?++b:--b)d[l]===0?o=r+u[l]:(o=a[d[l]/2+(r-A)-(g-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=p}return t.encode=function(e,n){var r,i,s,o,a,l,u,d,p,g,m,A,x,P,_,b,N,H,$,J,O,E,C,V,I,k,L,Z,we,ge,me,X,ue,ce,Oe,M,W,Y,ee,ie,he,ye,ve,Fe,Re,ze;switch(Z=new Za,o=Object.keys(e).sort(function(Be,it){return Be-it}),n){case"macroman":for(x=0,P=function(){var Be=[];for(A=0;A<256;++A)Be.push(0);return Be}(),b={0:0},s={},we=0,ue=o.length;we<ue;we++)b[ve=e[i=o[we]]]==null&&(b[ve]=++x),s[i]={old:e[i],new:b[e[i]]},P[i]=b[e[i]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(P),{charMap:s,subtable:Z.data,maxGlyphID:x+1};case"unicode":for(k=[],p=[],N=0,b={},r={},_=u=null,ge=0,ce=o.length;ge<ce;ge++)b[$=e[i=o[ge]]]==null&&(b[$]=++N),r[i]={old:$,new:b[$]},a=b[$]-i,_!=null&&a===u||(_&&p.push(_),k.push(i),u=a),_=i;for(_&&p.push(_),p.push(65535),k.push(65535),V=2*(C=k.length),E=2*Math.pow(Math.log(C)/Math.LN2,2),g=Math.log(E/2)/Math.LN2,O=2*C-E,l=[],J=[],m=[],A=me=0,Oe=k.length;me<Oe;A=++me){if(I=k[A],d=p[A],I===65535){l.push(0),J.push(0);break}if(I-(L=r[I].new)>=32768)for(l.push(0),J.push(2*(m.length+C-A)),i=X=I;I<=d?X<=d:X>=d;i=I<=d?++X:--X)m.push(r[i].new);else l.push(L-I),J.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*C+2*m.length),Z.writeUInt16(0),Z.writeUInt16(V),Z.writeUInt16(E),Z.writeUInt16(g),Z.writeUInt16(O),he=0,M=p.length;he<M;he++)i=p[he],Z.writeUInt16(i);for(Z.writeUInt16(0),ye=0,W=k.length;ye<W;ye++)i=k[ye],Z.writeUInt16(i);for(Fe=0,Y=l.length;Fe<Y;Fe++)a=l[Fe],Z.writeUInt16(a);for(Re=0,ee=J.length;Re<ee;Re++)H=J[Re],Z.writeUInt16(H);for(ze=0,ie=m.length;ze<ie;ze++)x=m[ze],Z.writeUInt16(x);return{charMap:r,subtable:Z.data,maxGlyphID:N+1}}},t}(),yP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Qs(e,ws),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new E4(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=E4.encode(n,r),(s=new Za).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),dU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Qs(e,ws),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),fU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Qs(e,ws),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),pU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Qs(e,ws),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,u;for(u=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)u.push(n.readUInt32());return u}).call(this)}},e}(),mU=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},gU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Qs(e,ws),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,u,d,p,g,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=p=0,g=i.length;p<g;o=++p)s=i[o],n.pos=s.offset,d=n.readString(s.length),a=new mU(d,s),u[m=s.nameID]==null&&(u[m]=[]),u[s.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),yU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Qs(e,ws),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),vU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Qs(e,ws),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,p;for(p=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)p.push(n.readInt16());return p}(),this.widths=(function(){var d,p,g,m;for(m=[],d=0,p=(g=this.metrics).length;d<p;d++)o=g[d],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],u=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),vP=[].slice,wU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Qs(e,ws),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,u,d,p,g;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Za(r.read(s))).readShort(),d=l.readShort(),g=l.readShort(),u=l.readShort(),p=l.readShort(),this.cache[n]=a===-1?new bU(l,d,g,u,p):new _U(l,a,d,g,u,p),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,u;for(a=[],o=[],l=0,u=r.length;l<u;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),_U=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),bU=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Za(vP.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),xU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Qs(e,ws),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],u=this.offsets[a+1]-l;u>0&&(s+=u)}for(var d=new Array(4*i.length),p=0;p<i.length;++p)d[4*p+3]=255&i[p],d[4*p+2]=(65280&i[p])>>8,d[4*p+1]=(16711680&i[p])>>16,d[4*p]=(4278190080&i[p])>>24;return d},e}(),SU=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,d,p,g,m,A,x,P,_;for(i in r=yP.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},_=r.charMap)m[(l=_[i]).old]=l.new;for(A in g=r.maxGlyphID,o)A in m||(m[A]=g++);return d=function(b){var N,H;for(N in H={},b)H[b[N]]=N;return H}(m),p=Object.keys(d).sort(function(b,N){return b-N}),x=function(){var b,N,H;for(H=[],b=0,N=p.length;b<N;b++)a=p[b],H.push(d[a]);return H}(),s=this.font.glyf.encode(o,x,m),u=this.font.loca.encode(s.offsets,x),P={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},t}();ct.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const AU=(t,e)=>{const n=new ct;n.setFontSize(20),n.setTextColor(35,150,71),n.text("Ratidzo Health AI",105,20,{align:"center"}),n.setFontSize(16),n.setTextColor(0,0,0),n.text("Health Assessment Report",105,30,{align:"center"}),n.setFontSize(10),n.setTextColor(100,100,100);const r=new Date().toLocaleDateString();n.text(`Date: ${r}`,20,40),n.setFontSize(12),n.setTextColor(0,0,0);let i=55;n.setFont(void 0,"bold"),n.text("Condition:",20,i),n.setFont(void 0,"normal"),n.text(t.condition,70,i),i+=10,n.setFont(void 0,"bold"),n.text("Urgency:",20,i),n.setFont(void 0,"normal");let s,o;switch(t.urgency){case"high":s=[200,30,30],o="HIGH - Seek medical attention soon";break;case"medium":s=[240,150,20],o="MEDIUM - Monitor closely";break;default:s=[35,150,71],o="LOW - Can be managed at home"}n.setTextColor(s[0],s[1],s[2]),n.text(o,70,i),n.setTextColor(0,0,0),i+=15,n.setFont(void 0,"bold"),n.text("Explanation:",20,i),n.setFont(void 0,"normal");const a=n.splitTextToSize(t.explanation,170);if(i+=10,n.text(a,20,i),i+=a.length*7,t.reasoning){i+=10,n.setFont(void 0,"bold"),n.text("Clinical Reasoning:",20,i),n.setFont(void 0,"normal");const l=n.splitTextToSize(t.reasoning,170);i+=10,n.text(l,20,i),i+=l.length*7}t.differential_diagnosis&&t.differential_diagnosis.length>0&&(i+=10,n.setFont(void 0,"bold"),n.text("Differential Diagnosis:",20,i),n.setFont(void 0,"normal"),i+=10,t.differential_diagnosis.forEach((l,u)=>{if(/^\d+\.\s+[A-Za-z\s]+(:|-)/.test(l)){u>0&&(i+=5),n.setFont(void 0,"bold"),n.setTextColor(35,150,71);const p=n.splitTextToSize(l,170);n.text(p,20,i),i+=p.length*7,n.setFont(void 0,"normal"),n.setTextColor(0,0,0)}else{const p=n.splitTextToSize(` ${l}`,160);n.text(p,25,i),i+=p.length*7}})),i+=10,n.setFont(void 0,"bold"),n.text("Recommended Remedies:",20,i),n.setFont(void 0,"normal"),i+=10,t.remedies.forEach(l=>{const u=n.splitTextToSize(` ${l}`,160);n.text(u,25,i),i+=u.length*7}),t.recommendations&&t.recommendations.length>0&&(i+=10,n.setFont(void 0,"bold"),n.text("Recommendations:",20,i),n.setFont(void 0,"normal"),i+=10,t.recommendations.forEach(l=>{const u=n.splitTextToSize(` ${l}`,160);n.text(u,25,i),i+=u.length*7})),i>240&&(n.addPage(),i=20),t.warning_signs&&t.warning_signs.length>0&&(i+=10,n.setFont(void 0,"bold"),n.setTextColor(200,30,30),n.text("Warning Signs - Seek Medical Attention If:",20,i),n.setFont(void 0,"normal"),i+=10,t.warning_signs.forEach(l=>{const u=n.splitTextToSize(` ${l}`,160);n.text(u,25,i),i+=u.length*7}),n.setTextColor(0,0,0)),i=Math.max(i+20,250),n.setFontSize(9),n.setTextColor(100,100,100),n.text("This report is generated by AI and is not a medical diagnosis.",105,i,{align:"center"}),n.text("Please consult with a healthcare professional for proper medical advice.",105,i+5,{align:"center"}),n.setFontSize(8),n.text("Ratidzo Health AI - Empowering Zimbabweans with accessible health insights",105,285,{align:"center"}),n.save("Ratidzo-Health-Assessment.pdf")},EU=({scrollToForm:t,openChat:e})=>{const n=()=>{console.log("HeroSection: Scroll to form clicked"),t(),setTimeout(()=>{try{const r=document.getElementById("diagnosis-form");r&&(console.log("HeroSection: Using fallback scroll method"),r.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy(0,-80)},100))}catch(r){console.error("HeroSection: Error in fallback scroll",r)}},300)};return U.jsxs("section",{id:"about",className:"min-h-screen flex items-center justify-center bg-gray-900 relative overflow-hidden pt-16",children:[U.jsx(je.div,{className:"absolute -top-40 -right-40 w-96 h-96 rounded-full bg-green-900 opacity-20 blur-3xl",initial:{opacity:0,scale:.5},animate:{opacity:.2,scale:1},transition:{duration:1.5},style:{willChange:"transform, opacity"}}),U.jsx(je.div,{className:"absolute -bottom-20 -left-20 w-80 h-80 rounded-full bg-yellow-900 opacity-20 blur-3xl",initial:{opacity:0,scale:.5},animate:{opacity:.2,scale:1},transition:{duration:1.5,delay:.3},style:{willChange:"transform, opacity"}}),U.jsx("div",{className:"container mx-auto px-4 z-10",children:U.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between",children:[U.jsxs(je.div,{className:"lg:w-1/2 text-center lg:text-left mb-10 lg:mb-0",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.7},children:[U.jsx(je.h1,{className:"text-4xl md:text-5xl lg:text-6xl font-extrabold mb-4 leading-tight text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-yellow-500",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},children:"Ratidzo Health AI"}),U.jsx(je.h2,{className:"text-2xl md:text-3xl text-gray-300 font-light mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.3},children:"Your AI Powered Health Assistant"}),U.jsx(je.p,{className:"text-lg text-gray-400 mb-8 max-w-xl mx-auto lg:mx-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4},children:"Describe your symptoms and Ratidzo will analyze them to provide possible health conditions, remedies, and guidance. Get reliable health information when you need it most."}),U.jsxs(je.div,{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.5},children:[U.jsx(je.button,{onClick:n,className:"px-8 py-3 bg-gradient-to-r from-green-600 to-yellow-600 rounded-lg text-white font-medium shadow-lg hover:shadow-xl transform hover:scale-105 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Check Your Symptoms"}),U.jsx(je.button,{onClick:e,className:"px-8 py-3 border border-green-500 rounded-lg text-green-500 font-medium hover:bg-green-500 hover:text-white transition-colors",whileHover:{scale:1.05,backgroundColor:"#16a34a",color:"white"},whileTap:{scale:.95},children:"Chat with Ratidzo"})]})]}),U.jsx(je.div,{className:"lg:w-1/2",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.7},children:U.jsx(je.img,{src:"https://storage.googleapis.com/tyga-dev/health-ai-banner.webp",alt:"Ratidzo Health AI",className:"rounded-xl shadow-2xl max-w-full h-auto",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7,delay:.2},style:{maxWidth:"500px",margin:"0 auto"}})})]})})]})},TU=({formData:t,diagnosisResult:e,loading:n,handleInputChange:r,handleRadioChange:i,handleConditionChange:s,generateDiagnosis:o,downloadPDF:a,resetDiagnosis:l})=>{const u={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.6,when:"beforeChildren",staggerChildren:.1}}},d={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}},p={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.6,when:"beforeChildren",staggerChildren:.1}}};return U.jsxs("section",{id:"diagnosis-form",className:"py-20 bg-gray-900 relative",children:[U.jsx(je.div,{className:"absolute top-0 right-0 w-80 h-80 rounded-full bg-green-900 opacity-10 blur-3xl",initial:{opacity:0,scale:.5},animate:{opacity:.1,scale:1},transition:{duration:1.5},style:{willChange:"transform, opacity"}}),U.jsx(je.div,{className:"absolute bottom-0 left-0 w-80 h-80 rounded-full bg-yellow-900 opacity-10 blur-3xl",initial:{opacity:0,scale:.5},animate:{opacity:.1,scale:1},transition:{duration:1.5,delay:.3},style:{willChange:"transform, opacity"}}),U.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[U.jsxs(je.div,{className:"text-center mb-16",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.7},style:{willChange:"transform, opacity"},children:[U.jsx(je.h2,{className:"text-3xl md:text-4xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-yellow-500",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.7,delay:.1},children:"Health Symptom Analysis"}),U.jsx(je.p,{className:"text-xl text-gray-300 max-w-3xl mx-auto",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.7,delay:.2},children:"Describe your symptoms to receive possible conditions, recommended actions, and available treatments. Your information remains private and secure."})]}),U.jsx(je.div,{className:"max-w-4xl mx-auto bg-gray-800 rounded-2xl shadow-xl overflow-hidden transform-gpu",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.1},transition:{duration:.5},style:{willChange:"transform, opacity"},children:U.jsx("div",{className:"p-6 md:p-10",children:e?U.jsxs(je.div,{className:"diagnosis-result",variants:p,initial:"hidden",animate:"visible",children:[U.jsx(je.div,{variants:d,className:"mb-8 text-center",children:U.jsx("h3",{className:"text-2xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-yellow-500",children:"Diagnosis Results"})}),U.jsxs(je.div,{variants:d,className:"flex flex-col md:flex-row gap-6 mb-8",children:[U.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 flex-1",children:[U.jsx("h4",{className:"text-xl font-semibold mb-3 text-yellow-500",children:"Condition"}),U.jsx("p",{className:"text-lg font-medium text-white",children:e.condition})]}),U.jsxs("div",{className:"bg-gray-900 rounded-xl p-6 flex-1",children:[U.jsx("h4",{className:"text-xl font-semibold mb-3 text-yellow-500",children:"Urgency"}),U.jsxs("div",{className:`text-lg font-medium ${e.urgency==="high"?"text-red-500":e.urgency==="medium"?"text-yellow-500":"text-green-500"}`,children:[e.urgency==="high"&&"High - Seek medical attention soon",e.urgency==="medium"&&"Medium - Monitor closely",e.urgency==="low"&&"Low - Can be managed at home"]})]})]}),U.jsxs(je.div,{variants:d,className:"bg-gray-900 rounded-xl p-6 mb-8",children:[U.jsx("h4",{className:"text-xl font-semibold mb-3 text-yellow-500",children:"Explanation"}),U.jsx("p",{className:"text-gray-300",children:e.explanation})]}),e.reasoning&&U.jsxs(je.div,{variants:d,className:"bg-gray-900 rounded-xl p-6 mb-8",children:[U.jsx("h4",{className:"text-xl font-semibold mb-3 text-yellow-500",children:"Clinical Reasoning"}),U.jsx("p",{className:"text-gray-300",children:e.reasoning})]}),e.differential_diagnosis&&e.differential_diagnosis.length>0&&U.jsxs(je.div,{variants:d,className:"bg-gray-900 rounded-xl p-6 mb-8",children:[U.jsx("h4",{className:"text-xl font-semibold mb-3 text-yellow-500",children:"Differential Diagnosis"}),U.jsx("div",{className:"space-y-3",children:e.differential_diagnosis.map((g,m)=>{const A=/^\d+\.\s+[A-Za-z\s]+(:|-)/.test(g);return U.jsx("div",{className:A?"mb-2":"",children:A?U.jsx("h5",{className:"text-green-400 font-medium mt-3",children:g}):U.jsx("li",{className:"text-gray-300 ml-4",children:g})},m)})})]}),U.jsxs(je.div,{variants:d,className:"bg-gray-900 rounded-xl p-6 mb-8",children:[U.jsx("h4",{className:"text-xl font-semibold mb-3 text-yellow-500",children:"Recommended Remedies"}),U.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:e.remedies.map((g,m)=>U.jsx("li",{className:"pl-2",children:g},m))})]}),e.recommendations&&e.recommendations.length>0&&U.jsxs(je.div,{variants:d,className:"bg-gray-900 rounded-xl p-6 mb-8",children:[U.jsx("h4",{className:"text-xl font-semibold mb-3 text-yellow-500",children:"Recommendations"}),U.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:e.recommendations.map((g,m)=>U.jsx("li",{className:"pl-2",children:g},m))})]}),e.warning_signs&&e.warning_signs.length>0&&U.jsxs(je.div,{variants:d,className:"bg-gray-900 rounded-xl p-6 mb-8 border-l-4 border-red-500",children:[U.jsx("h4",{className:"text-xl font-semibold mb-3 text-red-500",children:"Warning Signs"}),U.jsx("p",{className:"text-gray-400 mb-3",children:"Seek immediate medical attention if you experience any of the following:"}),U.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:e.warning_signs.map((g,m)=>U.jsx("li",{className:"pl-2",children:g},m))})]}),U.jsxs(je.div,{variants:d,className:"border-t border-gray-700 pt-6 flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[U.jsxs(je.button,{onClick:a,className:"px-6 py-3 bg-gradient-to-r from-green-600 to-yellow-600 rounded-lg text-white font-medium shadow-lg hover:shadow-xl transform hover:scale-105 transition-all flex items-center justify-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:[U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:U.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download as PDF"]}),U.jsxs(je.button,{onClick:l,className:"px-6 py-3 border border-gray-600 rounded-lg text-gray-300 font-medium hover:border-red-500 hover:text-red-500 transition-colors flex items-center justify-center",whileHover:{borderColor:"#ef4444",color:"#ef4444"},whileTap:{scale:.95},children:[U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:U.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Start Over"]})]}),U.jsx(je.p,{variants:d,className:"text-xs text-gray-500 text-center mt-6",children:"This assessment is generated by AI and is not a medical diagnosis. Please consult with a healthcare professional for proper medical advice."})]}):U.jsxs(je.form,{className:"space-y-6",onSubmit:o,variants:u,initial:"hidden",animate:"visible",children:[U.jsxs(je.div,{variants:d,children:[U.jsx("h3",{className:"text-xl font-medium mb-4 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-yellow-500",children:"Personal Information"}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{htmlFor:"age",className:"block text-gray-300 font-medium",children:"Age"}),U.jsx("input",{type:"number",id:"age",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-white",placeholder:"Your age",value:t.age,onChange:r})]}),U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{htmlFor:"gender",className:"block text-gray-300 font-medium",children:"Gender"}),U.jsxs("select",{id:"gender",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-white",value:t.gender,onChange:r,children:[U.jsx("option",{value:"",children:"Select gender"}),U.jsx("option",{value:"male",children:"Male"}),U.jsx("option",{value:"female",children:"Female"}),U.jsx("option",{value:"non-binary",children:"Non-binary"}),U.jsx("option",{value:"other",children:"Other"})]})]})]})]}),U.jsxs(je.div,{variants:d,children:[U.jsx("h3",{className:"text-xl font-medium mb-4 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-yellow-500",children:"Symptom Details"}),U.jsxs("div",{className:"space-y-6",children:[U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{htmlFor:"symptoms",className:"block text-gray-300 font-medium",children:"Describe your symptoms"}),U.jsx("textarea",{id:"symptoms",rows:4,className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-white resize-none",placeholder:"Please describe what you're experiencing in detail...",value:t.symptoms,onChange:r,required:!0})]}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{htmlFor:"duration",className:"block text-gray-300 font-medium",children:"How long have you had these symptoms?"}),U.jsxs("select",{id:"duration",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-white",value:t.duration,onChange:r,children:[U.jsx("option",{value:"",children:"Select duration"}),U.jsx("option",{value:"hours",children:"Hours"}),U.jsx("option",{value:"days",children:"Days"}),U.jsx("option",{value:"weeks",children:"Weeks"}),U.jsx("option",{value:"months",children:"Months"}),U.jsx("option",{value:"years",children:"Years"})]})]}),U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{htmlFor:"severity",className:"block text-gray-300 font-medium",children:"How bad is it?"}),U.jsxs("div",{className:"flex items-center space-x-4",children:[U.jsx("input",{type:"radio",id:"mild",name:"severity",value:"mild",className:"text-green-500 focus:ring-green-500",checked:t.severity==="mild",onChange:i}),U.jsx("label",{htmlFor:"mild",className:"text-gray-300",children:"Mild"}),U.jsx("input",{type:"radio",id:"moderate",name:"severity",value:"moderate",className:"text-yellow-500 focus:ring-yellow-500",checked:t.severity==="moderate",onChange:i}),U.jsx("label",{htmlFor:"moderate",className:"text-gray-300",children:"Moderate"}),U.jsx("input",{type:"radio",id:"severe",name:"severity",value:"severe",className:"text-red-500 focus:ring-red-500",checked:t.severity==="severe",onChange:i}),U.jsx("label",{htmlFor:"severe",className:"text-gray-300",children:"Severe"})]})]})]})]})]}),U.jsxs(je.div,{variants:d,children:[U.jsx("h3",{className:"text-xl font-medium mb-4 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-yellow-500",children:"Medical History"}),U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{className:"block text-gray-300 font-medium",children:"Do you have any of these conditions?"}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[U.jsxs("div",{className:"flex items-center",children:[U.jsx("input",{type:"checkbox",id:"diabetes",name:"conditions",value:"diabetes",className:"text-green-500 focus:ring-green-500 mr-2",checked:t.conditions.includes("diabetes"),onChange:s}),U.jsx("label",{htmlFor:"diabetes",className:"text-gray-300",children:"Diabetes"})]}),U.jsxs("div",{className:"flex items-center",children:[U.jsx("input",{type:"checkbox",id:"hypertension",name:"conditions",value:"hypertension",className:"text-green-500 focus:ring-green-500 mr-2",checked:t.conditions.includes("hypertension"),onChange:s}),U.jsx("label",{htmlFor:"hypertension",className:"text-gray-300",children:"Hypertension"})]}),U.jsxs("div",{className:"flex items-center",children:[U.jsx("input",{type:"checkbox",id:"asthma",name:"conditions",value:"asthma",className:"text-green-500 focus:ring-green-500 mr-2",checked:t.conditions.includes("asthma"),onChange:s}),U.jsx("label",{htmlFor:"asthma",className:"text-gray-300",children:"Asthma"})]}),U.jsxs("div",{className:"flex items-center",children:[U.jsx("input",{type:"checkbox",id:"heart-disease",name:"conditions",value:"heart-disease",className:"text-green-500 focus:ring-green-500 mr-2",checked:t.conditions.includes("heart-disease"),onChange:s}),U.jsx("label",{htmlFor:"heart-disease",className:"text-gray-300",children:"Heart Disease"})]}),U.jsxs("div",{className:"flex items-center",children:[U.jsx("input",{type:"checkbox",id:"hiv",name:"conditions",value:"hiv",className:"text-green-500 focus:ring-green-500 mr-2",checked:t.conditions.includes("hiv"),onChange:s}),U.jsx("label",{htmlFor:"hiv",className:"text-gray-300",children:"HIV"})]}),U.jsxs("div",{className:"flex items-center",children:[U.jsx("input",{type:"checkbox",id:"none",name:"conditions",value:"none",className:"text-green-500 focus:ring-green-500 mr-2",checked:t.conditions.includes("none"),onChange:s}),U.jsx("label",{htmlFor:"none",className:"text-gray-300",children:"None"})]})]})]}),U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{htmlFor:"medications",className:"block text-gray-300 font-medium",children:"Current medications (if any)"}),U.jsx("input",{type:"text",id:"medications",className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-white",placeholder:"List medications separated by commas",value:t.medications,onChange:r})]})]})]}),U.jsx(je.div,{variants:d,className:"flex justify-center mt-10",children:U.jsx(je.button,{type:"submit",className:"px-8 py-3 bg-gradient-to-r from-green-600 to-yellow-600 rounded-lg text-white font-medium shadow-lg hover:shadow-xl transform hover:scale-105 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:n?U.jsxs("div",{className:"flex items-center",children:[U.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[U.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),U.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):"Get Health Assessment"})})]})})})]})]})},IU=()=>{const[t,e]=Ce.useState(!1),n=()=>{window.pageYOffset>300?e(!0):e(!1)};return Ce.useEffect(()=>(window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)),[]),U.jsx(BA,{children:t&&U.jsx(je.button,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-20 right-5 z-30 p-2 rounded-full bg-green-600 text-white shadow-lg hover:bg-green-700 focus:outline-none",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},whileHover:{scale:1.1},whileTap:{scale:.9},children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})})})},PU=()=>{const[t,e]=Ce.useState(!1),n=()=>{window.pageYOffset>300?e(!0):e(!1)};Ce.useEffect(()=>(window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)),[]);const r=()=>{window.dispatchEvent(new CustomEvent("open-health-chat",{detail:{query:"Hi, I have some health questions. Can you help me?"}}))};return U.jsx(BA,{children:t&&U.jsx(je.button,{onClick:r,className:"fixed bottom-5 left-5 z-30 p-2 rounded-full bg-blue-600 text-white shadow-lg hover:bg-blue-700 focus:outline-none",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},whileHover:{scale:1.1},whileTap:{scale:.9},children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})})},hp=({question:t,answer:e})=>{const[n,r]=Ce.useState(!1);return U.jsxs(je.div,{className:"border-b border-gray-700 py-6",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5},children:[U.jsxs("button",{className:"flex justify-between items-center w-full text-left",onClick:()=>r(!n),children:[U.jsx("h3",{className:"text-xl font-semibold text-gray-200",children:t}),U.jsx(je.div,{animate:{rotate:n?180:0},transition:{duration:.3},children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),U.jsx(je.div,{initial:{height:0,opacity:0},animate:{height:n?"auto":0,opacity:n?1:0},transition:{duration:.3},className:"overflow-hidden",children:U.jsx("p",{className:"mt-4 text-gray-400",children:e})})]})},NU=()=>{const[t,e]=Ce.useState(!1),[n,r]=Ce.useState(!1),[i,s]=Ce.useState(null),[o,a]=Ce.useState({age:"",gender:"",symptoms:"",duration:"",severity:"",conditions:[],medications:""}),[l,u]=Ce.useState(null);Ce.useEffect(()=>{document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto",document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden",document.body.style.width="100%";const N=H=>{const{sectionId:$}=H.detail;$&&d($)};return window.addEventListener("scroll-to-section",N),()=>{document.documentElement.style.overflowX="",document.documentElement.style.overflowY="",document.body.style.overflowX="",document.body.style.overflowY="",document.body.style.width="",window.removeEventListener("scroll-to-section",N)}},[]);const d=N=>{console.log(`Attempting to scroll to section: ${N}`);try{const H=document.getElementById(N);if(!H){console.error(`Section with ID "${N}" not found`);return}const $=document.querySelector("nav"),J=$?$.offsetHeight:80;console.log(`Header height: ${J}px`);const O=H.getBoundingClientRect(),C=(window.pageYOffset||document.documentElement.scrollTop)+O.top-J-20;console.log(`Scrolling to position: ${C}px`),window.scrollTo({top:C,behavior:"smooth"}),setTimeout(()=>{Math.abs((window.pageYOffset||document.documentElement.scrollTop)-C)>100&&(console.log(`Fallback scrolling to ${C}px`),window.scrollTo(0,C))},500)}catch(H){console.error("Error during scrolling:",H);try{const $=document.querySelector(`#${N}, [id="${N}"]`);$&&($.scrollIntoView({behavior:"smooth",block:"start"}),console.log("Used scrollIntoView fallback"))}catch($){console.error("Fallback scrolling also failed:",$)}}},p=()=>{console.log("scrollToForm called - attempting to scroll to diagnosis-form"),d("diagnosis-form")},g=N=>{const{id:H,value:$}=N.target;a({...o,[H]:$})},m=N=>{const{id:H,checked:$}=N.target;a($?{...o,conditions:[...o.conditions,H]}:{...o,conditions:o.conditions.filter(J=>J!==H)})},A=N=>{a({...o,severity:N.target.value})},x=async N=>{if(N.preventDefault(),!o.symptoms){alert("Please describe your symptoms");return}r(!0),s(null);try{const H=await FE.getHealthInsights(o.symptoms,o);s(H)}catch(H){console.error("Error generating diagnosis:",H),alert("There was an error analyzing your symptoms. Please try again.")}finally{r(!1)}},P=()=>{i&&AU(i)},_=()=>{s(null)},b=()=>{console.log("Navbar: Scroll to form clicked"),p(),setTimeout(()=>{try{const N=document.getElementById("diagnosis-form");N&&(console.log("Navbar: Using fallback scroll method"),N.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy(0,-80)},100))}catch(N){console.error("Navbar: Error in fallback scroll",N)}},300)};return U.jsxs("div",{className:"bg-gray-900 text-white min-h-screen overflow-x-hidden",children:[U.jsx("nav",{className:"sticky top-0 left-0 right-0 bg-gray-900 bg-opacity-95 backdrop-blur-md border-b border-gray-800 z-50 shadow-lg shadow-black/20",children:U.jsx("div",{className:"container mx-auto px-4",children:U.jsxs("div",{className:"flex justify-between items-center py-4",children:[U.jsx(fE,{onClick:()=>window.scrollTo({top:0,behavior:"smooth"})}),U.jsxs("div",{className:"flex items-center space-x-4",children:[U.jsx(je.button,{onClick:b,className:"hidden md:block text-gray-300 hover:text-green-500 px-3 py-2 rounded-md",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Get Started"}),U.jsxs(je.button,{onClick:()=>e(!0),className:"bg-gradient-to-r from-green-600 to-yellow-600 px-4 py-2 rounded-lg text-white shadow-md hover:shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:[U.jsx("span",{className:"hidden md:inline",children:"Chat with Ratidzo"}),U.jsx("span",{className:"md:hidden",children:"Chat"})]})]})]})})}),U.jsxs("main",{className:"overflow-x-hidden pt-4",children:[U.jsx(EU,{scrollToForm:p,openChat:()=>e(!0)}),U.jsx(TU,{formData:o,diagnosisResult:i,loading:n,handleInputChange:g,handleRadioChange:A,handleConditionChange:m,generateDiagnosis:x,downloadPDF:P,resetDiagnosis:_}),U.jsxs("section",{id:"faq",className:"py-20 bg-gray-800 relative",children:[U.jsx(je.div,{className:"absolute -top-20 -right-32 w-96 h-96 rounded-full bg-green-900 opacity-5 blur-3xl",initial:{opacity:0,scale:.5},whileInView:{opacity:.05,scale:1},viewport:{once:!0},transition:{duration:1.5}}),U.jsx(je.div,{className:"absolute -bottom-20 -left-32 w-96 h-96 rounded-full bg-yellow-900 opacity-5 blur-3xl",initial:{opacity:0,scale:.5},whileInView:{opacity:.05,scale:1},viewport:{once:!0},transition:{duration:1.5,delay:.3}}),U.jsxs("div",{className:"container mx-auto px-4",children:[U.jsxs(je.div,{className:"max-w-3xl mx-auto text-center mb-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:[U.jsx(je.h2,{className:"text-3xl md:text-4xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-yellow-500",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.7,delay:.1},children:"Frequently Asked Questions"}),U.jsx(je.p,{className:"text-xl text-gray-300 max-w-xl mx-auto",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.7,delay:.2},children:"Find answers to common questions about Ratidzo Health AI and our services."})]}),U.jsxs(je.div,{className:"max-w-3xl mx-auto",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.7,delay:.3},children:[U.jsx(hp,{question:"Is this a medical diagnosis?",answer:"No, Ratidzo Health AI provides health insights and information as a guide, not a medical diagnosis. Our AI analyzes your symptoms based on data and provides possible explanations, but it should not replace professional medical advice. Always consult with healthcare professionals for proper diagnosis and treatment."}),U.jsx(hp,{question:"How accurate is the symptom analysis?",answer:"Our AI has been trained on extensive medical data including conditions common in Zimbabwe and Africa. While it can provide helpful insights, accuracy varies depending on the information provided and complexity of symptoms. The system is designed to err on the side of caution, recommending medical attention when there's uncertainty."}),U.jsx(hp,{question:"Is my health information private?",answer:"Yes, we take your privacy seriously. Your health information is encrypted and securely stored. We do not sell your data to third parties. The information you provide is only used to generate health insights and improve our service. You can use the service anonymously without creating an account."}),U.jsx(hp,{question:"Can Ratidzo Health AI prescribe medication?",answer:"No, Ratidzo Health AI cannot and does not prescribe medication. While we may suggest common remedies for certain conditions, any medication should only be taken under the guidance of a qualified healthcare professional. Our system may suggest over-the-counter options or home remedies where appropriate."})]})]})]}),U.jsx(e7,{})]}),U.jsx(XI,{}),U.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm z-50 flex items-center justify-center transition-opacity duration-300 ${t?"opacity-100":"opacity-0 pointer-events-none"}`,children:U.jsxs(je.div,{className:"bg-gray-900 w-full max-w-4xl h-[90vh] rounded-lg shadow-2xl overflow-hidden relative",initial:{scale:.9,opacity:0},animate:{scale:t?1:.9,opacity:t?1:0},transition:{duration:.3},children:[U.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white z-10",children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),U.jsx(YI,{onClose:()=>e(!1),initialMessage:l})]})}),U.jsx(IU,{}),U.jsx(PU,{})]})},wP=document.getElementById("root");if(!wP){const t=document.createElement("div");t.id="root",document.body.appendChild(t),console.warn("Root element was missing and has been created")}i1.createRoot(wP).render(U.jsx(NU,{}));export{Wt as _};
